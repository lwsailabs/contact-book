var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var ee=Array.isArray;function te(){}var S={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function ne(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function w(e,t){return ne(e.type,t,e.props)}function re(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function ie(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var ae=/\/+/g;function oe(e,t){return typeof e==`object`&&e&&e.key!=null?ie(``+e.key):t.toString(36)}function se(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(te,te):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function ce(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,ce(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+oe(e,0):a,ee(o)?(i=``,c!=null&&(i=c.replace(ae,`$&/`)+`/`),ce(o,r,i,``,function(e){return e})):o!=null&&(re(o)&&(o=w(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(ae,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(ee(e))for(var u=0;u<e.length;u++)a=e[u],s=l+oe(a,u),c+=ce(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+oe(a,u++),c+=ce(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return ce(se(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function le(e,t,n){if(e==null)return e;var r=[],i=0;return ce(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function ue(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var T=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},E={map:le,forEach:function(e,t,n){le(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return le(e,function(){t++}),t},toArray:function(e){return le(e,function(e){return e})||[]},only:function(e){if(!re(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=E,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!C.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return ne(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)C.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return ne(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=re,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:ue}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(te,T)}catch(e){T(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),S.T=t}},e.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},e.use=function(e){return S.H.use(e)},e.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},e.useCallback=function(e,t){return S.H.useCallback(e,t)},e.useContext=function(e){return S.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return S.H.useEffect(e,t)},e.useEffectEvent=function(e){return S.H.useEffectEvent(e)},e.useId=function(){return S.H.useId()},e.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return S.H.useMemo(e,t)},e.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},e.useRef=function(e){return S.H.useRef(e)},e.useState=function(e){return S.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return S.H.useTransition()},e.version=`19.2.4`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,ee||(ee=!0,re());else{var t=n(l);t!==null&&oe(x,t.startTime-e)}}var ee=!1,te=-1,S=5,C=-1;function ne(){return g?!0:!(e.unstable_now()-C<S)}function w(){if(g=!1,ee){var t=e.unstable_now();C=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(te),te=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&ne());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&oe(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?re():ee=!1}}}var re;if(typeof y==`function`)re=function(){y(w)};else if(typeof MessageChannel<`u`){var ie=new MessageChannel,ae=ie.port2;ie.port1.onmessage=w,re=function(){ae.postMessage(null)}}else re=function(){_(w,0)};function oe(t,n){te=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):S=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(te),te=-1):h=!0,oe(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,ee||(ee=!0,re()))),r},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.4`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),ee=Symbol.for(`react.consumer`),te=Symbol.for(`react.context`),S=Symbol.for(`react.forward_ref`),C=Symbol.for(`react.suspense`),ne=Symbol.for(`react.suspense_list`),w=Symbol.for(`react.memo`),re=Symbol.for(`react.lazy`),ie=Symbol.for(`react.activity`),ae=Symbol.for(`react.memo_cache_sentinel`),oe=Symbol.iterator;function se(e){return typeof e!=`object`||!e?null:(e=oe&&e[oe]||e[`@@iterator`],typeof e==`function`?e:null)}var ce=Symbol.for(`react.client.reference`);function le(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===ce?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case C:return`Suspense`;case ne:return`SuspenseList`;case ie:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case te:return e.displayName||`Context`;case ee:return(e._context.displayName||`Context`)+`.Consumer`;case S:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case w:return t=e.displayName||null,t===null?le(e.type)||`Memo`:t;case re:t=e._payload,e=e._init;try{return le(e(t))}catch{}}return null}var ue=Array.isArray,T=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},fe=[],pe=-1;function me(e){return{current:e}}function he(e){0>pe||(e.current=fe[pe],fe[pe]=null,pe--)}function ge(e,t){pe++,fe[pe]=e.current,e.current=t}var _e=me(null),ve=me(null),ye=me(null),be=me(null);function xe(e,t){switch(ge(ye,t),ge(ve,e),ge(_e,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kd(t),e=qd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}he(_e),ge(_e,e)}function Se(){he(_e),he(ve),he(ye)}function Ce(e){e.memoizedState!==null&&ge(be,e);var t=_e.current,n=qd(t,e.type);t!==n&&(ge(ve,e),ge(_e,n))}function we(e){ve.current===e&&(he(_e),he(ve)),be.current===e&&(he(be),np._currentValue=de)}var Te,Ee;function De(e){if(Te===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Te=t&&t[1]||``,Ee=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+Te+e+Ee}var Oe=!1;function ke(e,t){if(!e||Oe)return``;Oe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{Oe=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?De(n):``}function Ae(e,t){switch(e.tag){case 26:case 27:case 5:return De(e.type);case 16:return De(`Lazy`);case 13:return e.child!==t&&t!==null?De(`Suspense Fallback`):De(`Suspense`);case 19:return De(`SuspenseList`);case 0:case 15:return ke(e.type,!1);case 11:return ke(e.type.render,!1);case 1:return ke(e.type,!0);case 31:return De(`Activity`);default:return``}}function je(e){try{var t=``,n=null;do t+=Ae(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Me=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,Pe=t.unstable_cancelCallback,Fe=t.unstable_shouldYield,Ie=t.unstable_requestPaint,Le=t.unstable_now,Re=t.unstable_getCurrentPriorityLevel,ze=t.unstable_ImmediatePriority,Be=t.unstable_UserBlockingPriority,Ve=t.unstable_NormalPriority,He=t.unstable_LowPriority,Ue=t.unstable_IdlePriority,We=t.log,Ge=t.unstable_setDisableYieldValue,Ke=null,qe=null;function Je(e){if(typeof We==`function`&&Ge(e),qe&&typeof qe.setStrictMode==`function`)try{qe.setStrictMode(Ke,e)}catch{}}var Ye=Math.clz32?Math.clz32:Qe,Xe=Math.log,Ze=Math.LN2;function Qe(e){return e>>>=0,e===0?32:31-(Xe(e)/Ze|0)|0}var $e=256,et=262144,tt=4194304;function nt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function rt(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=nt(n))):i=nt(o):i=nt(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=nt(n))):i=nt(o)):i=nt(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function it(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function at(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var e=tt;return tt<<=1,!(tt&62914560)&&(tt=4194304),e}function st(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ct(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lt(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Ye(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&ut(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function ut(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ye(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ye(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function ft(e,t){var n=t&-t;return n=n&42?1:pt(n),(n&(e.suspendedLanes|t))===0?n:0}function pt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mt(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ht(){var e=E.p;return e===0?(e=window.event,e===void 0?32:X(e.type)):e}function gt(e,t){var n=E.p;try{return E.p=e,t()}finally{E.p=n}}var _t=Math.random().toString(36).slice(2),vt=`__reactFiber$`+_t,yt=`__reactProps$`+_t,bt=`__reactContainer$`+_t,xt=`__reactEvents$`+_t,St=`__reactListeners$`+_t,Ct=`__reactHandles$`+_t,wt=`__reactResources$`+_t,Tt=`__reactMarker$`+_t;function Et(e){delete e[vt],delete e[yt],delete e[xt],delete e[St],delete e[Ct]}function Dt(e){var t=e[vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bt]||n[vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gf(e);e!==null;){if(n=e[vt])return n;e=gf(e)}return t}e=n,n=e.parentNode}return null}function Ot(e){if(e=e[vt]||e[bt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function kt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function At(e){var t=e[wt];return t||=e[wt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function jt(e){e[Tt]=!0}var Mt=new Set,Nt={};function Pt(e,t){Ft(e,t),Ft(e+`Capture`,t)}function Ft(e,t){for(Nt[e]=t,e=0;e<t.length;e++)Mt.add(t[e])}var It=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),Lt={},Rt={};function zt(e){return Me.call(Rt,e)?!0:Me.call(Lt,e)?!1:It.test(e)?Rt[e]=!0:(Lt[e]=!0,!1)}function Bt(e,t,n){if(zt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Vt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Ht(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function D(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Ut(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Wt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gt(e){if(!e._valueTracker){var t=Ut(e)?`checked`:`value`;e._valueTracker=Wt(e,t,``+e[t])}}function Kt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Ut(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function qt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Jt=/[\n"\\]/g;function Yt(e){return e.replace(Jt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Xt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+D(t)):e.value!==``+D(t)&&(e.value=``+D(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Qt(e,o,D(n)):Qt(e,o,D(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+D(s):e.removeAttribute(`name`)}function Zt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Gt(e);return}n=n==null?``:``+D(n),t=t==null?n:``+D(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Gt(e)}function Qt(e,t,n){t===`number`&&qt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function $t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+D(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function en(e,t,n){if(t!=null&&(t=``+D(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+D(n)}function tn(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(ue(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=D(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Gt(e)}function nn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rn=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function an(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||rn.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function on(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&an(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&an(e,o,t[o])}function sn(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var cn=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),ln=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function un(e){return ln.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function dn(){}var fn=null;function pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mn=null,hn=null;function gn(e){var t=Ot(e);if(t&&(e=t.stateNode)){var n=e[yt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Xt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Yt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[yt]||null;if(!a)throw Error(i(90));Xt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Kt(r)}break a;case`textarea`:en(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&$t(e,!!n.multiple,t,!1)}}}var _n=!1;function vn(e,t,n){if(_n)return e(t,n);_n=!0;try{return e(t)}finally{if(_n=!1,(mn!==null||hn!==null)&&(Cu(),mn&&(t=mn,e=hn,hn=mn=null,gn(t),e)))for(t=0;t<e.length;t++)gn(e[t])}}function yn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[yt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var bn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),xn=!1;if(bn)try{var Sn={};Object.defineProperty(Sn,`passive`,{get:function(){xn=!0}}),window.addEventListener(`test`,Sn,Sn),window.removeEventListener(`test`,Sn,Sn)}catch{xn=!1}var Cn=null,wn=null,Tn=null;function En(){if(Tn)return Tn;var e,t=wn,n=t.length,r,i=`value`in Cn?Cn.value:Cn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Tn=i.slice(e,1<r?1-r:void 0)}function Dn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function On(){return!0}function kn(){return!1}function An(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?On:kn,this.isPropagationStopped=kn,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),t}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mn=An(jn),Nn=h({},jn,{view:0,detail:0}),Pn=An(Nn),Fn,In,Ln,Rn=h({},Nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Ln&&(Ln&&e.type===`mousemove`?(Fn=e.screenX-Ln.screenX,In=e.screenY-Ln.screenY):In=Fn=0,Ln=e),Fn)},movementY:function(e){return`movementY`in e?e.movementY:In}}),zn=An(Rn),Bn=An(h({},Rn,{dataTransfer:0})),Vn=An(h({},Nn,{relatedTarget:0})),Hn=An(h({},jn,{animationName:0,elapsedTime:0,pseudoElement:0})),Un=An(h({},jn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),Wn=An(h({},jn,{data:0})),Gn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Kn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},qn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qn[e])?!!t[e]:!1}function Yn(){return Jn}var Xn=An(h({},Nn,{key:function(e){if(e.key){var t=Gn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=Dn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Kn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yn,charCode:function(e){return e.type===`keypress`?Dn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?Dn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Zn=An(h({},Rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Qn=An(h({},Nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yn})),$n=An(h({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0})),er=An(h({},Rn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),tr=An(h({},jn,{newState:0,oldState:0})),nr=[9,13,27,32],rr=bn&&`CompositionEvent`in window,ir=null;bn&&`documentMode`in document&&(ir=document.documentMode);var ar=bn&&`TextEvent`in window&&!ir,or=bn&&(!rr||ir&&8<ir&&11>=ir),sr=` `,cr=!1;function lr(e,t){switch(e){case`keyup`:return nr.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function ur(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var dr=!1;function fr(e,t){switch(e){case`compositionend`:return ur(t);case`keypress`:return t.which===32?(cr=!0,sr):null;case`textInput`:return e=t.data,e===sr&&cr?null:e;default:return null}}function pr(e,t){if(dr)return e===`compositionend`||!rr&&lr(e,t)?(e=En(),Tn=wn=Cn=null,dr=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return or&&t.locale!==`ko`?null:t.data;default:return null}}var mr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!mr[e.type]:t===`textarea`}function gr(e,t,n,r){mn?hn?hn.push(r):hn=[r]:mn=r,t=Ad(t,`onChange`),0<t.length&&(n=new Mn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var _r=null,vr=null;function yr(e){Cd(e,0)}function br(e){if(Kt(kt(e)))return e}function xr(e,t){if(e===`change`)return t}var Sr=!1;if(bn){var Cr;if(bn){var wr=`oninput`in document;if(!wr){var Tr=document.createElement(`div`);Tr.setAttribute(`oninput`,`return;`),wr=typeof Tr.oninput==`function`}Cr=wr}else Cr=!1;Sr=Cr&&(!document.documentMode||9<document.documentMode)}function Er(){_r&&(_r.detachEvent(`onpropertychange`,Dr),vr=_r=null)}function Dr(e){if(e.propertyName===`value`&&br(vr)){var t=[];gr(t,vr,e,pn(e)),vn(yr,t)}}function Or(e,t,n){e===`focusin`?(Er(),_r=t,vr=n,_r.attachEvent(`onpropertychange`,Dr)):e===`focusout`&&Er()}function kr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return br(vr)}function Ar(e,t){if(e===`click`)return br(t)}function jr(e,t){if(e===`input`||e===`change`)return br(t)}function Mr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Nr=typeof Object.is==`function`?Object.is:Mr;function Pr(e,t){if(Nr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Me.call(t,i)||!Nr(e[i],t[i]))return!1}return!0}function Fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ir(e,t){var n=Fr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Fr(n)}}function Lr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=qt(e.document)}return t}function O(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var zr=bn&&`documentMode`in document&&11>=document.documentMode,Br=null,Vr=null,Hr=null,Ur=!1;function Wr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ur||Br==null||Br!==qt(r)||(r=Br,`selectionStart`in r&&O(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hr&&Pr(Hr,r)||(Hr=r,r=Ad(Vr,`onSelect`),0<r.length&&(t=new Mn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Br)))}function Gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Kr={animationend:Gr(`Animation`,`AnimationEnd`),animationiteration:Gr(`Animation`,`AnimationIteration`),animationstart:Gr(`Animation`,`AnimationStart`),transitionrun:Gr(`Transition`,`TransitionRun`),transitionstart:Gr(`Transition`,`TransitionStart`),transitioncancel:Gr(`Transition`,`TransitionCancel`),transitionend:Gr(`Transition`,`TransitionEnd`)},qr={},Jr={};bn&&(Jr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),`TransitionEvent`in window||delete Kr.transitionend.transition);function Yr(e){if(qr[e])return qr[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jr)return qr[e]=t[n];return e}var Xr=Yr(`animationend`),Zr=Yr(`animationiteration`),Qr=Yr(`animationstart`),$r=Yr(`transitionrun`),ei=Yr(`transitionstart`),ti=Yr(`transitioncancel`),ni=Yr(`transitionend`),ri=new Map,ii=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);ii.push(`scrollEnd`);function ai(e,t){ri.set(e,t),Pt(t,[e])}var oi=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},si=[],ci=0,li=0;function ui(){for(var e=ci,t=li=ci=0;t<e;){var n=si[t];si[t++]=null;var r=si[t];si[t++]=null;var i=si[t];si[t++]=null;var a=si[t];if(si[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&mi(n,i,a)}}function di(e,t,n,r){si[ci++]=e,si[ci++]=t,si[ci++]=n,si[ci++]=r,li|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function fi(e,t,n,r){return di(e,t,n,r),hi(e)}function pi(e,t){return di(e,null,null,t),hi(e)}function mi(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Ye(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function hi(e){if(50<mu)throw mu=0,hu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gi={};function _i(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(e,t,n,r){return new _i(e,t,n,r)}function yi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,t){var n=e.alternate;return n===null?(n=vi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function xi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Si(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)yi(e)&&(s=1);else if(typeof e==`string`)s=qf(e,n,_e.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case ie:return e=vi(31,n,t,a),e.elementType=ie,e.lanes=o,e;case y:return Ci(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=vi(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case C:return e=vi(13,n,t,a),e.elementType=C,e.lanes=o,e;case ne:return e=vi(19,n,t,a),e.elementType=ne,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case te:s=10;break a;case ee:s=9;break a;case S:s=11;break a;case w:s=14;break a;case re:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=vi(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Ci(e,t,n,r){return e=vi(7,e,r,t),e.lanes=n,e}function wi(e,t,n){return e=vi(6,e,null,t),e.lanes=n,e}function Ti(e){var t=vi(18,null,null,0);return t.stateNode=e,t}function Ei(e,t,n){return t=vi(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Di=new WeakMap;function Oi(e,t){if(typeof e==`object`&&e){var n=Di.get(e);return n===void 0?(t={value:e,source:t,stack:je(t)},Di.set(e,t),t):n}return{value:e,source:t,stack:je(t)}}var ki=[],Ai=0,ji=null,Mi=0,Ni=[],Pi=0,Fi=null,Ii=1,Li=``;function Ri(e,t){ki[Ai++]=Mi,ki[Ai++]=ji,ji=e,Mi=t}function zi(e,t,n){Ni[Pi++]=Ii,Ni[Pi++]=Li,Ni[Pi++]=Fi,Fi=e;var r=Ii;e=Li;var i=32-Ye(r)-1;r&=~(1<<i),n+=1;var a=32-Ye(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ii=1<<32-Ye(t)+i|n<<i|r,Li=a+e}else Ii=1<<a|n<<i|r,Li=e}function Bi(e){e.return!==null&&(Ri(e,1),zi(e,1,0))}function Vi(e){for(;e===ji;)ji=ki[--Ai],ki[Ai]=null,Mi=ki[--Ai],ki[Ai]=null;for(;e===Fi;)Fi=Ni[--Pi],Ni[Pi]=null,Li=Ni[--Pi],Ni[Pi]=null,Ii=Ni[--Pi],Ni[Pi]=null}function Hi(e,t){Ni[Pi++]=Ii,Ni[Pi++]=Li,Ni[Pi++]=Fi,Ii=t.id,Li=t.overflow,Fi=e}var Ui=null,Wi=null,k=!1,Gi=null,Ki=!1,qi=Error(i(519));function Ji(e){throw ea(Oi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),qi}function Yi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[vt]=e,t[yt]=r,n){case`dialog`:J(`cancel`,t),J(`close`,t);break;case`iframe`:case`object`:case`embed`:J(`load`,t);break;case`video`:case`audio`:for(n=0;n<xd.length;n++)J(xd[n],t);break;case`source`:J(`error`,t);break;case`img`:case`image`:case`link`:J(`error`,t),J(`load`,t);break;case`details`:J(`toggle`,t);break;case`input`:J(`invalid`,t),Zt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:J(`invalid`,t);break;case`textarea`:J(`invalid`,t),tn(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Id(t.textContent,n)?(r.popover!=null&&(J(`beforetoggle`,t),J(`toggle`,t)),r.onScroll!=null&&J(`scroll`,t),r.onScrollEnd!=null&&J(`scrollend`,t),r.onClick!=null&&(t.onclick=dn),t=!0):t=!1,t||Ji(e,!0)}function Xi(e){for(Ui=e.return;Ui;)switch(Ui.tag){case 5:case 31:case 13:Ki=!1;return;case 27:case 3:Ki=!0;return;default:Ui=Ui.return}}function Zi(e){if(e!==Ui)return!1;if(!k)return Xi(e),k=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Jd(e.type,e.memoizedProps)),n=!n),n&&Wi&&Ji(e),Xi(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Wi=hf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Wi=hf(e)}else t===27?(t=Wi,nf(e.type)?(e=mf,mf=null,Wi=e):Wi=t):Wi=Ui?pf(e.stateNode.nextSibling):null;return!0}function Qi(){Wi=Ui=null,k=!1}function $i(){var e=Gi;return e!==null&&(eu===null?eu=e:eu.push.apply(eu,e),Gi=null),e}function ea(e){Gi===null?Gi=[e]:Gi.push(e)}var ta=me(null),na=null,ra=null;function ia(e,t,n){ge(ta,t._currentValue),t._currentValue=n}function aa(e){e._currentValue=ta.current,he(ta)}function oa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function sa(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),oa(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),oa(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function ca(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;Nr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===be.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[np]:e.push(np))}a=a.return}e!==null&&sa(t,e,n,r),t.flags|=262144}function la(e){for(e=e.firstContext;e!==null;){if(!Nr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ua(e){na=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function da(e){return pa(na,e)}function fa(e,t){return na===null&&ua(e),pa(e,t)}function pa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ra===null){if(e===null)throw Error(i(308));ra=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ra=ra.next=t;return n}var ma=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ha=t.unstable_scheduleCallback,ga=t.unstable_NormalPriority,_a={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function va(){return{controller:new ma,data:new Map,refCount:0}}function ya(e){e.refCount--,e.refCount===0&&ha(ga,function(){e.controller.abort()})}var ba=null,xa=0,Sa=0,Ca=null;function wa(e,t){if(ba===null){var n=ba=[];xa=0,Sa=hd(),Ca={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return xa++,t.then(Ta,Ta),t}function Ta(){if(--xa===0&&ba!==null){Ca!==null&&(Ca.status=`fulfilled`);var e=ba;ba=null,Sa=0,Ca=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ea(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var Da=T.S;T.S=function(e,t){ru=Le(),typeof t==`object`&&t&&typeof t.then==`function`&&wa(e,t),Da!==null&&Da(e,t)};var Oa=me(null);function ka(){var e=Oa.current;return e===null?U.pooledCache:e}function Aa(e,t){t===null?ge(Oa,Oa.current):ge(Oa,t.pool)}function ja(){var e=ka();return e===null?null:{parent:_a._currentValue,pool:e}}var Ma=Error(i(460)),Na=Error(i(474)),Pa=Error(i(542)),Fa={then:function(){}};function Ia(e){return e=e.status,e===`fulfilled`||e===`rejected`}function La(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(dn,dn),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Va(e),e;default:if(typeof t.status==`string`)t.then(dn,dn);else{if(e=U,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Va(e),e}throw za=t,Ma}}function Ra(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(za=e,Ma):e}}var za=null;function Ba(){if(za===null)throw Error(i(459));var e=za;return za=null,e}function Va(e){if(e===Ma||e===Pa)throw Error(i(483))}var Ha=null,Ua=0;function Wa(e){var t=Ua;return Ua+=1,Ha===null&&(Ha=[]),La(Ha,e,t)}function Ga(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Ka(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function qa(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=bi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=wi(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===re&&Ra(i)===t.type)?(t=a(t,n.props),Ga(t,n),t.return=e,t):(t=Si(n.type,n.key,n.props,null,e.mode,r),Ga(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ei(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=Ci(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=wi(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=Si(t.type,t.key,t.props,null,e.mode,n),Ga(n,t),n.return=e,n;case v:return t=Ei(t,e.mode,n),t.return=e,t;case re:return t=Ra(t),f(e,t,n)}if(ue(t)||se(t))return t=Ci(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Wa(t),n);if(t.$$typeof===te)return f(e,fa(e,t),n);Ka(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case re:return n=Ra(n),p(e,t,n,r)}if(ue(n)||se(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Wa(n),r);if(n.$$typeof===te)return p(e,t,fa(e,n),r);Ka(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case re:return r=Ra(r),m(e,t,n,r,i)}if(ue(r)||se(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Wa(r),i);if(r.$$typeof===te)return m(e,t,n,fa(t,r),i);Ka(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),k&&Ri(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return k&&Ri(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),k&&Ri(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),k&&Ri(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return k&&Ri(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),k&&Ri(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===re&&Ra(l)===r.type){n(e,r.sibling),c=a(r,o.props),Ga(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=Ci(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=Si(o.type,o.key,o.props,null,e.mode,c),Ga(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=Ei(o,e.mode,c),c.return=e,e=c}return s(e);case re:return o=Ra(o),b(e,r,o,c)}if(ue(o))return h(e,r,o,c);if(se(o)){if(l=se(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Wa(o),c);if(o.$$typeof===te)return b(e,r,fa(e,o),c);Ka(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=wi(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Ua=0;var i=b(e,t,n,r);return Ha=null,i}catch(t){if(t===Ma||t===Pa)throw t;var a=vi(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Ja=qa(!0),Ya=qa(!1),Xa=!1;function Za(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function eo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=hi(e),mi(e,null,n),t}return di(e,r,t,n),hi(e)}function to(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dt(e,n)}}function no(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ro=!1;function io(){if(ro){var e=Ca;if(e!==null)throw e}}function ao(e,t,n,r){ro=!1;var i=e.updateQueue;Xa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(G&f)===f:(r&f)===f){f!==0&&f===Sa&&(ro=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:Xa=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Jl|=o,e.lanes=o,e.memoizedState=d}}function oo(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function so(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)oo(n[e],t)}var co=me(null),lo=me(0);function uo(e,t){e=ql,ge(lo,e),ge(co,t),ql=e|t.baseLanes}function fo(){ge(lo,ql),ge(co,co.current)}function po(){ql=lo.current,he(co),he(lo)}var mo=me(null),ho=null;function go(e){var t=e.alternate;ge(xo,xo.current&1),ge(mo,e),ho===null&&(t===null||co.current!==null||t.memoizedState!==null)&&(ho=e)}function _o(e){ge(xo,xo.current),ge(mo,e),ho===null&&(ho=e)}function vo(e){e.tag===22?(ge(xo,xo.current),ge(mo,e),ho===null&&(ho=e)):yo(e)}function yo(){ge(xo,xo.current),ge(mo,mo.current)}function bo(e){he(mo),ho===e&&(ho=null),he(xo)}var xo=me(0);function So(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||uf(n)||df(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Co=0,A=null,j=null,wo=null,To=!1,Eo=!1,Do=!1,Oo=0,ko=0,Ao=null,jo=0;function Mo(){throw Error(i(321))}function No(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nr(e[n],t[n]))return!1;return!0}function Po(e,t,n,r,i,a){return Co=a,A=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=e===null||e.memoizedState===null?Zs:Qs,Do=!1,a=n(r,i),Do=!1,Eo&&(a=Io(t,n,r,i)),Fo(e),a}function Fo(e){T.H=Xs;var t=j!==null&&j.next!==null;if(Co=0,wo=j=A=null,To=!1,ko=0,Ao=null,t)throw Error(i(300));e===null||hc||(e=e.dependencies,e!==null&&la(e)&&(hc=!0))}function Io(e,t,n,r){A=e;var a=0;do{if(Eo&&(Ao=null),ko=0,Eo=!1,25<=a)throw Error(i(301));if(a+=1,wo=j=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}T.H=$s,o=t(n,r)}while(Eo);return o}function Lo(){var e=T.H,t=e.useState()[0];return t=typeof t.then==`function`?Wo(t):t,e=e.useState()[0],(j===null?null:j.memoizedState)!==e&&(A.flags|=1024),t}function Ro(){var e=Oo!==0;return Oo=0,e}function zo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Bo(e){if(To){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}To=!1}Co=0,wo=j=A=null,Eo=!1,ko=Oo=0,Ao=null}function Vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wo===null?A.memoizedState=wo=e:wo=wo.next=e,wo}function Ho(){if(j===null){var e=A.alternate;e=e===null?null:e.memoizedState}else e=j.next;var t=wo===null?A.memoizedState:wo.next;if(t!==null)wo=t,j=e;else{if(e===null)throw A.alternate===null?Error(i(467)):Error(i(310));j=e,e={memoizedState:j.memoizedState,baseState:j.baseState,baseQueue:j.baseQueue,queue:j.queue,next:null},wo===null?A.memoizedState=wo=e:wo=wo.next=e}return wo}function Uo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var t=ko;return ko+=1,Ao===null&&(Ao=[]),e=La(Ao,e,t),t=A,(wo===null?t.memoizedState:wo.next)===null&&(t=t.alternate,T.H=t===null||t.memoizedState===null?Zs:Qs),e}function Go(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Wo(e);if(e.$$typeof===te)return da(e)}throw Error(i(438,String(e)))}function Ko(e){var t=null,n=A.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=A.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Uo(),A.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ae;return t.index++,n}function qo(e,t){return typeof t==`function`?t(e):t}function Jo(e){return Yo(Ho(),j,e)}function Yo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(Co&f)===f:(G&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Sa&&(d=!0);else if((Co&p)===p){u=u.next,p===Sa&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,A.lanes|=p,Jl|=p;f=u.action,Do&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,A.lanes|=f,Jl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!Nr(o,e.memoizedState)&&(hc=!0,d&&(n=Ca,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Xo(e){var t=Ho(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Nr(o,t.memoizedState)||(hc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Zo(e,t,n){var r=A,a=Ho(),o=k;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!Nr((j||a).memoizedState,n);if(s&&(a.memoizedState=n,hc=!0),a=a.queue,Ss(es.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||wo!==null&&wo.memoizedState.tag&1){if(r.flags|=2048,_s(9,{destroy:void 0},$o.bind(null,r,a,n,t),null),U===null)throw Error(i(349));o||Co&127||Qo(r,t,n)}return n}function Qo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=A.updateQueue,t===null?(t=Uo(),A.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $o(e,t,n,r){t.value=n,t.getSnapshot=r,ts(t)&&ns(e)}function es(e,t,n){return n(function(){ts(t)&&ns(e)})}function ts(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nr(e,n)}catch{return!0}}function ns(e){var t=pi(e,2);t!==null&&vu(t,e,2)}function rs(e){var t=Vo();if(typeof e==`function`){var n=e;if(e=n(),Do){Je(!0);try{n()}finally{Je(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:e},t}function is(e,t,n,r){return e.baseState=n,Yo(e,j,typeof r==`function`?r:qo)}function as(e,t,n,r,a){if(qs(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};T.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,os(t,o)):(o.next=n.next,t.pending=n.next=o)}}function os(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=T.T,o={};T.T=o;try{var s=n(i,r),c=T.S;c!==null&&c(o,s),ss(e,t,s)}catch(n){ls(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),T.T=a}}else try{a=n(i,r),ss(e,t,a)}catch(n){ls(e,t,n)}}function ss(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){cs(e,t,n)},function(n){return ls(e,t,n)}):cs(e,t,n)}function cs(e,t,n){t.status=`fulfilled`,t.value=n,us(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,os(e,n)))}function ls(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,us(t),t=t.next;while(t!==r)}e.action=null}function us(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ds(e,t){return t}function fs(e,t){if(k){var n=U.formState;if(n!==null){a:{var r=A;if(k){if(Wi){b:{for(var i=Wi,a=Ki;i.nodeType!==8;){if(!a){i=null;break b}if(i=pf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Wi=pf(i.nextSibling),r=i.data===`F!`;break a}}Ji(r)}r=!1}r&&(t=n[0])}}return n=Vo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:t},n.queue=r,n=Ws.bind(null,A,r),r.dispatch=n,r=rs(!1),a=Ks.bind(null,A,!1,r.queue),r=Vo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=as.bind(null,A,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ps(e){return ms(Ho(),j,e)}function ms(e,t,n){if(t=Yo(e,t,ds)[0],e=Jo(qo)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Wo(t)}catch(e){throw e===Ma?Pa:e}else r=t;t=Ho();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(A.flags|=2048,_s(9,{destroy:void 0},hs.bind(null,i,n),null)),[r,a,e]}function hs(e,t){e.action=t}function gs(e){var t=Ho(),n=j;if(n!==null)return ms(t,n,e);Ho(),t=t.memoizedState,n=Ho();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function _s(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=A.updateQueue,t===null&&(t=Uo(),A.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vs(){return Ho().memoizedState}function ys(e,t,n,r){var i=Vo();A.flags|=e,i.memoizedState=_s(1|t,{destroy:void 0},n,r===void 0?null:r)}function bs(e,t,n,r){var i=Ho();r=r===void 0?null:r;var a=i.memoizedState.inst;j!==null&&r!==null&&No(r,j.memoizedState.deps)?i.memoizedState=_s(t,a,n,r):(A.flags|=e,i.memoizedState=_s(1|t,a,n,r))}function xs(e,t){ys(8390656,8,e,t)}function Ss(e,t){bs(2048,8,e,t)}function Cs(e){A.flags|=4;var t=A.updateQueue;if(t===null)t=Uo(),A.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ws(e){var t=Ho().memoizedState;return Cs({ref:t,nextImpl:e}),function(){if(H&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Ts(e,t){return bs(4,2,e,t)}function Es(e,t){return bs(4,4,e,t)}function Ds(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Os(e,t,n){n=n==null?null:n.concat([e]),bs(4,4,Ds.bind(null,t,e),n)}function ks(){}function As(e,t){var n=Ho();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&No(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function js(e,t){var n=Ho();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&No(t,r[1]))return r[0];if(r=e(),Do){Je(!0);try{e()}finally{Je(!1)}}return n.memoizedState=[r,t],r}function Ms(e,t,n){return n===void 0||Co&1073741824&&!(G&261930)?e.memoizedState=t:(e.memoizedState=n,e=_u(),A.lanes|=e,Jl|=e,n)}function Ns(e,t,n,r){return Nr(n,t)?n:co.current===null?!(Co&42)||Co&1073741824&&!(G&261930)?(hc=!0,e.memoizedState=n):(e=_u(),A.lanes|=e,Jl|=e,t):(e=Ms(e,n,r),Nr(e,t)||(hc=!0),e)}function Ps(e,t,n,r,i){var a=E.p;E.p=a!==0&&8>a?a:8;var o=T.T,s={};T.T=s,Ks(e,!1,t,n);try{var c=i(),l=T.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Gs(e,t,Ea(c,r),gu(e)):Gs(e,t,r,gu(e))}catch(n){Gs(e,t,{then:function(){},status:`rejected`,reason:n},gu())}finally{E.p=a,o!==null&&s.types!==null&&(o.types=s.types),T.T=o}}function Fs(){}function Is(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Ls(e).queue;Ps(e,a,t,de,n===null?Fs:function(){return Rs(e),n(r)})}function Ls(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:de},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Rs(e){var t=Ls(e);t.next===null&&(t=e.alternate.memoizedState),Gs(e,t.next.queue,{},gu())}function zs(){return da(np)}function Bs(){return Ho().memoizedState}function Vs(){return Ho().memoizedState}function Hs(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=gu();e=$a(n);var r=eo(t,e,n);r!==null&&(vu(r,t,n),to(r,t,n)),t={cache:va()},e.payload=t;return}t=t.return}}function Us(e,t,n){var r=gu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},qs(e)?Js(t,n):(n=fi(e,t,n,r),n!==null&&(vu(n,e,r),Ys(n,t,r)))}function Ws(e,t,n){Gs(e,t,n,gu())}function Gs(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(qs(e))Js(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Nr(s,o))return di(e,t,i,0),U===null&&ui(),!1}catch{}if(n=fi(e,t,i,r),n!==null)return vu(n,e,r),Ys(n,t,r),!0}return!1}function Ks(e,t,n,r){if(r={lane:2,revertLane:hd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},qs(e)){if(t)throw Error(i(479))}else t=fi(e,n,r,2),t!==null&&vu(t,e,2)}function qs(e){var t=e.alternate;return e===A||t!==null&&t===A}function Js(e,t){Eo=To=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dt(e,n)}}var Xs={readContext:da,use:Go,useCallback:Mo,useContext:Mo,useEffect:Mo,useImperativeHandle:Mo,useLayoutEffect:Mo,useInsertionEffect:Mo,useMemo:Mo,useReducer:Mo,useRef:Mo,useState:Mo,useDebugValue:Mo,useDeferredValue:Mo,useTransition:Mo,useSyncExternalStore:Mo,useId:Mo,useHostTransitionStatus:Mo,useFormState:Mo,useActionState:Mo,useOptimistic:Mo,useMemoCache:Mo,useCacheRefresh:Mo};Xs.useEffectEvent=Mo;var Zs={readContext:da,use:Go,useCallback:function(e,t){return Vo().memoizedState=[e,t===void 0?null:t],e},useContext:da,useEffect:xs,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),ys(4194308,4,Ds.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ys(4194308,4,e,t)},useInsertionEffect:function(e,t){ys(4,2,e,t)},useMemo:function(e,t){var n=Vo();t=t===void 0?null:t;var r=e();if(Do){Je(!0);try{e()}finally{Je(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Vo();if(n!==void 0){var i=n(t);if(Do){Je(!0);try{n(t)}finally{Je(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Us.bind(null,A,e),[r.memoizedState,e]},useRef:function(e){var t=Vo();return e={current:e},t.memoizedState=e},useState:function(e){e=rs(e);var t=e.queue,n=Ws.bind(null,A,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Ms(Vo(),e,t)},useTransition:function(){var e=rs(!1);return e=Ps.bind(null,A,e.queue,!0,!1),Vo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=A,a=Vo();if(k){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),U===null)throw Error(i(349));G&127||Qo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,xs(es.bind(null,r,o,e),[e]),r.flags|=2048,_s(9,{destroy:void 0},$o.bind(null,r,o,n,t),null),n},useId:function(){var e=Vo(),t=U.identifierPrefix;if(k){var n=Li,r=Ii;n=(r&~(1<<32-Ye(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=Oo++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=jo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:zs,useFormState:fs,useActionState:fs,useOptimistic:function(e){var t=Vo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ks.bind(null,A,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ko,useCacheRefresh:function(){return Vo().memoizedState=Hs.bind(null,A)},useEffectEvent:function(e){var t=Vo(),n={impl:e};return t.memoizedState=n,function(){if(H&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Qs={readContext:da,use:Go,useCallback:As,useContext:da,useEffect:Ss,useImperativeHandle:Os,useInsertionEffect:Ts,useLayoutEffect:Es,useMemo:js,useReducer:Jo,useRef:vs,useState:function(){return Jo(qo)},useDebugValue:ks,useDeferredValue:function(e,t){return Ns(Ho(),j.memoizedState,e,t)},useTransition:function(){var e=Jo(qo)[0],t=Ho().memoizedState;return[typeof e==`boolean`?e:Wo(e),t]},useSyncExternalStore:Zo,useId:Bs,useHostTransitionStatus:zs,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){return is(Ho(),j,e,t)},useMemoCache:Ko,useCacheRefresh:Vs};Qs.useEffectEvent=ws;var $s={readContext:da,use:Go,useCallback:As,useContext:da,useEffect:Ss,useImperativeHandle:Os,useInsertionEffect:Ts,useLayoutEffect:Es,useMemo:js,useReducer:Xo,useRef:vs,useState:function(){return Xo(qo)},useDebugValue:ks,useDeferredValue:function(e,t){var n=Ho();return j===null?Ms(n,e,t):Ns(n,j.memoizedState,e,t)},useTransition:function(){var e=Xo(qo)[0],t=Ho().memoizedState;return[typeof e==`boolean`?e:Wo(e),t]},useSyncExternalStore:Zo,useId:Bs,useHostTransitionStatus:zs,useFormState:gs,useActionState:gs,useOptimistic:function(e,t){var n=Ho();return j===null?(n.baseState=e,[e,n.queue.dispatch]):is(n,j,e,t)},useMemoCache:Ko,useCacheRefresh:Vs};$s.useEffectEvent=ws;function ec(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tc={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gu(),i=$a(r);i.payload=t,n!=null&&(i.callback=n),t=eo(e,i,r),t!==null&&(vu(t,e,r),to(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gu(),i=$a(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=eo(e,i,r),t!==null&&(vu(t,e,r),to(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gu(),r=$a(n);r.tag=2,t!=null&&(r.callback=t),t=eo(e,r,n),t!==null&&(vu(t,e,n),to(t,e,n))}};function nc(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Pr(n,r)||!Pr(i,a):!0}function rc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&tc.enqueueReplaceState(t,t.state,null)}function ic(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function ac(e){oi(e)}function oc(e){console.error(e)}function sc(e){oi(e)}function cc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function lc(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function uc(e,t,n){return n=$a(n),n.tag=3,n.payload={element:null},n.callback=function(){cc(e,t)},n}function dc(e){return e=$a(e),e.tag=3,e}function fc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){lc(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){lc(t,n,r),typeof i!=`function`&&(ou===null?ou=new Set([this]):ou.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function pc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&ca(t,n,a,!0),n=mo.current,n!==null){switch(n.tag){case 31:case 13:return ho===null?Au():n.alternate===null&&q===0&&(q=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Fa?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Yu(e,r,a)),!1;case 22:return n.flags|=65536,r===Fa?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Yu(e,r,a)),!1}throw Error(i(435,n.tag))}return Yu(e,r,a),Au(),!1}if(k)return t=mo.current,t===null?(r!==qi&&(t=Error(i(423),{cause:r}),ea(Oi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Oi(r,n),a=uc(e.stateNode,r,a),no(e,a),q!==4&&(q=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==qi&&(e=Error(i(422),{cause:r}),ea(Oi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=Oi(o,n),$l===null?$l=[o]:$l.push(o),q!==4&&(q=2),t===null)return!0;r=Oi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=uc(n.stateNode,r,e),no(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(ou===null||!ou.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=dc(a),fc(a,e,n,r),no(n,a),!1}n=n.return}while(n!==null);return!1}var mc=Error(i(461)),hc=!1;function gc(e,t,n,r){t.child=e===null?Ya(t,null,n,r):Ja(t,e.child,n,r)}function _c(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return ua(t),r=Po(e,t,n,o,a,i),s=Ro(),e!==null&&!hc?(zo(e,t,i),F(e,t,i)):(k&&s&&Bi(t),t.flags|=1,gc(e,t,r,i),t.child)}function vc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!yi(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,yc(e,t,a,r,i)):(e=Si(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!I(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Pr:n,n(o,r)&&e.ref===t.ref)return F(e,t,i)}return t.flags|=1,e=bi(a,r),e.ref=t.ref,e.return=t,t.child=e}function yc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Pr(a,r)&&e.ref===t.ref)if(hc=!1,t.pendingProps=r=a,I(e,i))e.flags&131072&&(hc=!0);else return t.lanes=e.lanes,F(e,t,i)}return Dc(e,t,n,r,i)}function bc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Sc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Aa(t,a===null?null:a.cachePool),a===null?fo():uo(t,a),vo(t);else return r=t.lanes=536870912,Sc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&Aa(t,null),fo(),yo(t)):(Aa(t,a.cachePool),uo(t,a),yo(t),t.memoizedState=null);return gc(e,t,i,n),t.child}function xc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Sc(e,t,n,r,i){var a=ka();return a=a===null?null:{parent:_a._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Aa(t,null),fo(),vo(t),e!==null&&ca(e,t,r,!0),t.childLanes=i,null}function Cc(e,t){return t=Fc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function wc(e,t,n){return Ja(t,e.child,null,n),e=Cc(t,t.pendingProps),e.flags|=2,bo(t),t.memoizedState=null,e}function Tc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(k){if(r.mode===`hidden`)return e=Cc(t,r),t.lanes=536870912,xc(null,e);if(_o(t),(e=Wi)?(e=lf(e,Ki),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Fi===null?null:{id:Ii,overflow:Li},retryLane:536870912,hydrationErrors:null},n=Ti(e),n.return=t,t.child=n,Ui=t,Wi=null)):e=null,e===null)throw Ji(t);return t.lanes=536870912,null}return Cc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(_o(t),a)if(t.flags&256)t.flags&=-257,t=wc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(hc||ca(e,t,n,!1),a=(n&e.childLanes)!==0,hc||a){if(r=U,r!==null&&(s=ft(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,pi(e,s),vu(r,e,s),mc;Au(),t=wc(e,t,n)}else e=o.treeContext,Wi=pf(s.nextSibling),Ui=t,k=!0,Gi=null,Ki=!1,e!==null&&Hi(t,e),t=Cc(t,r),t.flags|=4096;return t}return e=bi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ec(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Dc(e,t,n,r,i){return ua(t),n=Po(e,t,n,r,void 0,i),r=Ro(),e!==null&&!hc?(zo(e,t,i),F(e,t,i)):(k&&r&&Bi(t),t.flags|=1,gc(e,t,n,i),t.child)}function Oc(e,t,n,r,i,a){return ua(t),t.updateQueue=null,n=Io(t,r,n,i),Fo(e),r=Ro(),e!==null&&!hc?(zo(e,t,a),F(e,t,a)):(k&&r&&Bi(t),t.flags|=1,gc(e,t,n,a),t.child)}function kc(e,t,n,r,i){if(ua(t),t.stateNode===null){var a=gi,o=n.contextType;typeof o==`object`&&o&&(a=da(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=tc,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Za(t),o=n.contextType,a.context=typeof o==`object`&&o?da(o):gi,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(ec(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&tc.enqueueReplaceState(a,a.state,null),ao(t,r,a,i),io(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=ic(n,s);a.props=c;var l=a.context,u=n.contextType;o=gi,typeof u==`object`&&u&&(o=da(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&rc(t,a,r,o),Xa=!1;var f=t.memoizedState;a.state=f,ao(t,r,a,i),io(),l=t.memoizedState,s||f!==l||Xa?(typeof d==`function`&&(ec(t,n,d,r),l=t.memoizedState),(c=Xa||nc(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Qa(e,t),o=t.memoizedProps,u=ic(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=gi,typeof l==`object`&&l&&(c=da(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&rc(t,a,r,c),Xa=!1,f=t.memoizedState,a.state=f,ao(t,r,a,i),io();var p=t.memoizedState;o!==d||f!==p||Xa||e!==null&&e.dependencies!==null&&la(e.dependencies)?(typeof s==`function`&&(ec(t,n,s,r),p=t.memoizedState),(u=Xa||nc(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&la(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ec(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Ja(t,e.child,null,i),t.child=Ja(t,null,n,i)):gc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=F(e,t,i),e}function Ac(e,t,n,r){return Qi(),t.flags|=256,gc(e,t,n,r),t.child}var jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(e){return{baseLanes:e,cachePool:ja()}}function Nc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=Zl),e}function M(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(xo.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(k){if(a?go(t):yo(t),(e=Wi)?(e=lf(e,Ki),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Fi===null?null:{id:Ii,overflow:Li},retryLane:536870912,hydrationErrors:null},n=Ti(e),n.return=t,t.child=n,Ui=t,Wi=null)):e=null,e===null)throw Ji(t);return df(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(yo(t),a=t.mode,c=Fc({mode:`hidden`,children:c},a),r=Ci(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=Mc(n),r.childLanes=Nc(e,s,n),t.memoizedState=jc,xc(null,r)):(go(t),Pc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(go(t),t.flags&=-257,t=Ic(e,t,n)):t.memoizedState===null?(yo(t),c=r.fallback,a=t.mode,r=Fc({mode:`visible`,children:r.children},a),c=Ci(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Ja(t,e.child,null,n),r=t.child,r.memoizedState=Mc(n),r.childLanes=Nc(e,s,n),t.memoizedState=jc,t=xc(null,r)):(yo(t),t.child=e.child,t.flags|=128,t=null);else if(go(t),df(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,ea({value:r,source:null,stack:null}),t=Ic(e,t,n)}else if(hc||ca(e,t,n,!1),s=(n&e.childLanes)!==0,hc||s){if(s=U,s!==null&&(r=ft(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,pi(e,r),vu(s,e,r),mc;uf(c)||Au(),t=Ic(e,t,n)}else uf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Wi=pf(c.nextSibling),Ui=t,k=!0,Gi=null,Ki=!1,e!==null&&Hi(t,e),t=Pc(t,r.children),t.flags|=4096);return t}return a?(yo(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=bi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=Ci(c,a,n,null),c.flags|=2):c=bi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,xc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=Mc(n):(a=c.cachePool,a===null?a=ja():(l=_a._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=Nc(e,s,n),t.memoizedState=jc,xc(e.child,r)):(go(t),n=e.child,e=n.sibling,n=bi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Pc(e,t){return t=Fc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Fc(e,t){return e=vi(22,e,null,t),e.lanes=0,e}function Ic(e,t,n){return Ja(t,e.child,null,n),e=Pc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function N(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oa(e.return,t,n)}function Lc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function P(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=xo.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,ge(xo,o),gc(e,t,r,n),r=k?Mi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&N(e,n,t);else if(e.tag===19)N(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&So(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Lc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&So(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Lc(t,!0,n,null,a,r);break;case`together`:Lc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function F(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ca(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=bi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function I(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&la(e))):!0}function L(e,t,n){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),ia(t,_a,e.memoizedState.cache),Qi();break;case 27:case 5:Ce(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:ia(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,_o(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(go(t),e=F(e,t,n),e===null?null:e.sibling):M(e,t,n):(go(t),t.flags|=128,null);go(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(ca(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return P(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(xo,xo.current),r)break;return null;case 22:return t.lanes=0,bc(e,t,n,t.pendingProps);case 24:ia(t,_a,e.memoizedState.cache)}return F(e,t,n)}function Rc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)hc=!0;else{if(!I(e,n)&&!(t.flags&128))return hc=!1,L(e,t,n);hc=!!(e.flags&131072)}else hc=!1,k&&t.flags&1048576&&zi(t,Mi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ra(t.elementType),t.type=e,typeof e==`function`)yi(e)?(r=ic(e,r),t.tag=1,t=kc(null,t,e,r,n)):(t.tag=0,t=Dc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===S){t.tag=11,t=_c(null,t,e,r,n);break a}else if(a===w){t.tag=14,t=vc(null,t,e,r,n);break a}}throw t=le(e)||e,Error(i(306,t,``))}}return t;case 0:return Dc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=ic(r,t.pendingProps),kc(e,t,r,a,n);case 3:a:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Qa(e,t),ao(t,r,null,n);var s=t.memoizedState;if(r=s.cache,ia(t,_a,r),r!==o.cache&&sa(t,[_a],n,!0),io(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Ac(e,t,r,n);break a}else if(r!==a){a=Oi(Error(i(424)),t),ea(a),t=Ac(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Wi=pf(e.firstChild),Ui=t,k=!0,Gi=null,Ki=!0,n=Ya(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Qi(),r===a){t=F(e,t,n);break a}gc(e,t,r,n)}t=t.child}return t;case 26:return Ec(e,t),e===null?(n=Nf(t.type,null,t.pendingProps,null))?t.memoizedState=n:k||(n=t.type,e=t.pendingProps,r=Gd(ye.current).createElement(n),r[vt]=t,r[yt]=e,zd(r,n,e),jt(r),t.stateNode=r):t.memoizedState=Nf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ce(t),e===null&&k&&(r=t.stateNode=_f(t.type,t.pendingProps,ye.current),Ui=t,Ki=!0,a=Wi,nf(t.type)?(mf=a,Wi=pf(r.firstChild)):Wi=a),gc(e,t,t.pendingProps.children,n),Ec(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&k&&((a=r=Wi)&&(r=sf(r,t.type,t.pendingProps,Ki),r===null?a=!1:(t.stateNode=r,Ui=t,Wi=pf(r.firstChild),Ki=!1,a=!0)),a||Ji(t)),Ce(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Jd(a,o)?r=null:s!==null&&Jd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=Po(e,t,Lo,null,null,n),np._currentValue=a),Ec(e,t),gc(e,t,r,n),t.child;case 6:return e===null&&k&&((e=n=Wi)&&(n=cf(n,t.pendingProps,Ki),n===null?e=!1:(t.stateNode=n,Ui=t,Wi=null,e=!0)),e||Ji(t)),null;case 13:return M(e,t,n);case 4:return xe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ja(t,null,r,n):gc(e,t,r,n),t.child;case 11:return _c(e,t,t.type,t.pendingProps,n);case 7:return gc(e,t,t.pendingProps,n),t.child;case 8:return gc(e,t,t.pendingProps.children,n),t.child;case 12:return gc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ia(t,t.type,r.value),gc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,ua(t),a=da(a),r=r(a),t.flags|=1,gc(e,t,r,n),t.child;case 14:return vc(e,t,t.type,t.pendingProps,n);case 15:return yc(e,t,t.type,t.pendingProps,n);case 19:return P(e,t,n);case 31:return Tc(e,t,n);case 22:return bc(e,t,n,t.pendingProps);case 24:return ua(t),r=da(_a),e===null?(a=ka(),a===null&&(a=U,o=va(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Za(t),ia(t,_a,a)):((e.lanes&n)!==0&&(Qa(e,t),ao(t,null,null,n),io()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,ia(t,_a,r),r!==a.cache&&sa(t,[_a],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ia(t,_a,r))),gc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function zc(e){e.flags|=4}function Bc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Du())e.flags|=8192;else throw za=Fa,Na}else e.flags&=-16777217}function Vc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Jf(t))if(Du())e.flags|=8192;else throw za=Fa,Na}function Hc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:ot(),e.lanes|=t,Ql|=t)}function Uc(e,t){if(!k)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gc(e,t,n){var r=t.pendingProps;switch(Vi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wc(t),null;case 1:return Wc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),aa(_a),Se(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zi(t)?zc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$i())),Wc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(zc(t),o===null?(Wc(t),Bc(t,a,null,r,n)):(Wc(t),Vc(t,o))):o?o===e.memoizedState?(Wc(t),t.flags&=-16777217):(zc(t),Wc(t),Vc(t,o)):(e=e.memoizedProps,e!==r&&zc(t),Wc(t),Bc(t,a,e,r,n)),null;case 27:if(we(t),n=ye.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&zc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Wc(t),null}e=_e.current,Zi(t)?Yi(t,e):(e=_f(a,r,n),t.stateNode=e,zc(t))}return Wc(t),null;case 5:if(we(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&zc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Wc(t),null}if(o=_e.current,Zi(t))Yi(t,o);else{var s=Gd(ye.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[vt]=t,o[yt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(zd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&zc(t)}}return Wc(t),Bc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&zc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=ye.current,Zi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Ui,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[vt]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Id(e.nodeValue,n)),e||Ji(t,!0)}else e=Gd(e).createTextNode(r),e[vt]=t,t.stateNode=e}return Wc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Zi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[vt]=t}else Qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wc(t),e=!1}else n=$i(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(bo(t),t):(bo(t),null);if(t.flags&128)throw Error(i(558))}return Wc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Zi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[vt]=t}else Qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wc(t),a=!1}else a=$i(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(bo(t),t):(bo(t),null)}return bo(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Hc(t,t.updateQueue),Wc(t),null);case 4:return Se(),e===null&&Ed(t.stateNode.containerInfo),Wc(t),null;case 10:return aa(t.type),Wc(t),null;case 19:if(he(xo),r=t.memoizedState,r===null)return Wc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Uc(r,!1);else{if(q!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=So(e),o!==null){for(t.flags|=128,Uc(r,!1),e=o.updateQueue,t.updateQueue=e,Hc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)xi(n,e),n=n.sibling;return ge(xo,xo.current&1|2),k&&Ri(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Le()>iu&&(t.flags|=128,a=!0,Uc(r,!1),t.lanes=4194304)}else{if(!a)if(e=So(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Hc(t,e),Uc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!k)return Wc(t),null}else 2*Le()-r.renderingStartTime>iu&&n!==536870912&&(t.flags|=128,a=!0,Uc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Wc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Le(),e.sibling=null,n=xo.current,ge(xo,a?n&1|2:n&1),k&&Ri(t,r.treeForkCount),e);case 22:case 23:return bo(t),po(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Wc(t),t.subtreeFlags&6&&(t.flags|=8192)):Wc(t),n=t.updateQueue,n!==null&&Hc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&he(Oa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),aa(_a),Wc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Kc(e,t){switch(Vi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return aa(_a),Se(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return we(t),null;case 31:if(t.memoizedState!==null){if(bo(t),t.alternate===null)throw Error(i(340));Qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(bo(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(xo),null;case 4:return Se(),null;case 10:return aa(t.type),null;case 22:case 23:return bo(t),po(),e!==null&&he(Oa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return aa(_a),null;case 25:return null;default:return null}}function qc(e,t){switch(Vi(t),t.tag){case 3:aa(_a),Se();break;case 26:case 27:case 5:we(t);break;case 4:Se();break;case 31:t.memoizedState!==null&&bo(t);break;case 13:bo(t);break;case 19:he(xo);break;case 10:aa(t.type);break;case 22:case 23:bo(t),po(),e!==null&&he(Oa);break;case 24:aa(_a)}}function R(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Ju(t,t.return,e)}}function Jc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Ju(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Ju(t,t.return,e)}}function Yc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{so(t,n)}catch(t){Ju(e,e.return,t)}}}function Xc(e,t,n){n.props=ic(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Ju(e,t,n)}}function Zc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Ju(e,t,n)}}function Qc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Ju(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Ju(e,t,n)}else n.current=null}function $c(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Ju(e,e.return,t)}}function el(e,t,n){try{var r=e.stateNode;Bd(r,e.type,n,t),r[yt]=t}catch(t){Ju(e,e.return,t)}}function tl(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&nf(e.type)||e.tag===4}function nl(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||tl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&nf(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dn));else if(r!==4&&(r===27&&nf(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(rl(e,t,n),e=e.sibling;e!==null;)rl(e,t,n),e=e.sibling}function il(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&nf(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(il(e,t,n),e=e.sibling;e!==null;)il(e,t,n),e=e.sibling}function z(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);zd(t,r,n),t[vt]=e,t[yt]=n}catch(t){Ju(e,e.return,t)}}var al=!1,ol=!1,sl=!1,cl=typeof WeakSet==`function`?WeakSet:Set,ll=null;function ul(e,t){if(e=e.containerInfo,Ud=dp,e=Rr(e),O(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Wd={focusedElem:e,selectionRange:n},dp=!1,ll=t;ll!==null;)if(t=ll,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,ll=e;else for(;ll!==null;){switch(t=ll,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=ic(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Ju(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)of(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:of(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,ll=e;break}ll=t.return}}function dl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Tl(e,n),r&4&&R(5,n);break;case 1:if(Tl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Ju(n,n.return,e)}else{var i=ic(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Ju(n,n.return,e)}}r&64&&Yc(n),r&512&&Zc(n,n.return);break;case 3:if(Tl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{so(e,t)}catch(e){Ju(n,n.return,e)}}break;case 27:t===null&&r&4&&z(n);case 26:case 5:Tl(e,n),t===null&&r&4&&$c(n),r&512&&Zc(n,n.return);break;case 12:Tl(e,n);break;case 31:Tl(e,n),r&4&&B(e,n);break;case 13:Tl(e,n),r&4&&_l(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Qu.bind(null,n),ff(e,n))));break;case 22:if(r=n.memoizedState!==null||al,!r){t=t!==null&&t.memoizedState!==null||ol,i=al;var a=ol;al=r,(ol=t)&&!a?Dl(e,n,(n.subtreeFlags&8772)!=0):Tl(e,n),al=i,ol=a}break;case 30:break;default:Tl(e,n)}}function fl(e){var t=e.alternate;t!==null&&(e.alternate=null,fl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Et(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pl=null,ml=!1;function hl(e,t,n){for(n=n.child;n!==null;)gl(e,t,n),n=n.sibling}function gl(e,t,n){if(qe&&typeof qe.onCommitFiberUnmount==`function`)try{qe.onCommitFiberUnmount(Ke,n)}catch{}switch(n.tag){case 26:ol||Qc(n,t),hl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ol||Qc(n,t);var r=pl,i=ml;nf(n.type)&&(pl=n.stateNode,ml=!1),hl(e,t,n),vf(n.stateNode),pl=r,ml=i;break;case 5:ol||Qc(n,t);case 6:if(r=pl,i=ml,pl=null,hl(e,t,n),pl=r,ml=i,pl!==null)if(ml)try{(pl.nodeType===9?pl.body:pl.nodeName===`HTML`?pl.ownerDocument.body:pl).removeChild(n.stateNode)}catch(e){Ju(n,t,e)}else try{pl.removeChild(n.stateNode)}catch(e){Ju(n,t,e)}break;case 18:pl!==null&&(ml?(e=pl,rf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Ip(e)):rf(pl,n.stateNode));break;case 4:r=pl,i=ml,pl=n.stateNode.containerInfo,ml=!0,hl(e,t,n),pl=r,ml=i;break;case 0:case 11:case 14:case 15:Jc(2,n,t),ol||Jc(4,n,t),hl(e,t,n);break;case 1:ol||(Qc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Xc(n,t,r)),hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:ol=(r=ol)||n.memoizedState!==null,hl(e,t,n),ol=r;break;default:hl(e,t,n)}}function B(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ip(e)}catch(e){Ju(t,t.return,e)}}}function _l(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ip(e)}catch(e){Ju(t,t.return,e)}}function vl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new cl),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new cl),t;default:throw Error(i(435,e.tag))}}function yl(e,t){var n=vl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=$u.bind(null,e,t);t.then(r,r)}})}function bl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(nf(c.type)){pl=c.stateNode,ml=!1;break a}break;case 5:pl=c.stateNode,ml=!1;break a;case 3:case 4:pl=c.stateNode.containerInfo,ml=!0;break a}c=c.return}if(pl===null)throw Error(i(160));gl(o,s,a),pl=null,ml=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Sl(t,e),t=t.sibling}var xl=null;function Sl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bl(t,e),Cl(e),r&4&&(Jc(3,e,e.return),R(3,e),Jc(5,e,e.return));break;case 1:bl(t,e),Cl(e),r&512&&(ol||n===null||Qc(n,n.return)),r&64&&al&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=xl;if(bl(t,e),Cl(e),r&512&&(ol||n===null||Qc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[Tt]||o[vt]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),zd(o,r,n),o[vt]=e,jt(o),r=o;break a;case`link`:var s=Gf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),zd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Gf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),zd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[vt]=e,jt(o),r=o}e.stateNode=r}else Kf(a,e.type,e.stateNode);else e.stateNode=Bf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&el(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Kf(a,e.type,e.stateNode):Bf(a,r,e.memoizedProps))}break;case 27:bl(t,e),Cl(e),r&512&&(ol||n===null||Qc(n,n.return)),n!==null&&r&4&&el(e,e.memoizedProps,n.memoizedProps);break;case 5:if(bl(t,e),Cl(e),r&512&&(ol||n===null||Qc(n,n.return)),e.flags&32){a=e.stateNode;try{nn(a,``)}catch(t){Ju(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,el(e,a,n===null?a:n.memoizedProps)),r&1024&&(sl=!0);break;case 6:if(bl(t,e),Cl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Ju(e,e.return,t)}}break;case 3:if(Wf=null,a=xl,xl=bf(t.containerInfo),bl(t,e),xl=a,Cl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ip(t.containerInfo)}catch(t){Ju(e,e.return,t)}sl&&(sl=!1,wl(e));break;case 4:r=xl,xl=bf(e.stateNode.containerInfo),bl(t,e),Cl(e),xl=r;break;case 12:bl(t,e),Cl(e);break;case 31:bl(t,e),Cl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,yl(e,r)));break;case 13:bl(t,e),Cl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(nu=Le()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,yl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=al,d=ol;if(al=u||a,ol=d||l,bl(t,e),ol=d,al=u,Cl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||al||ol||El(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Ju(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Ju(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?af(m,!0):af(l.stateNode,!1)}catch(e){Ju(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,yl(e,n))));break;case 19:bl(t,e),Cl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,yl(e,r)));break;case 30:break;case 21:break;default:bl(t,e),Cl(e)}}function Cl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(tl(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;il(e,nl(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(nn(o,``),n.flags&=-33),il(e,nl(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;rl(e,nl(e),s);break;default:throw Error(i(161))}}catch(t){Ju(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Tl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)dl(e,t.alternate,t),t=t.sibling}function El(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Jc(4,t,t.return),El(t);break;case 1:Qc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Xc(t,t.return,n),El(t);break;case 27:vf(t.stateNode);case 26:case 5:Qc(t,t.return),El(t);break;case 22:t.memoizedState===null&&El(t);break;case 30:El(t);break;default:El(t)}e=e.sibling}}function Dl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Dl(i,a,n),R(4,a);break;case 1:if(Dl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Ju(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)oo(c[i],s)}catch(e){Ju(r,r.return,e)}}n&&o&64&&Yc(a),Zc(a,a.return);break;case 27:z(a);case 26:case 5:Dl(i,a,n),n&&r===null&&o&4&&$c(a),Zc(a,a.return);break;case 12:Dl(i,a,n);break;case 31:Dl(i,a,n),n&&o&4&&B(i,a);break;case 13:Dl(i,a,n),n&&o&4&&_l(i,a);break;case 22:a.memoizedState===null&&Dl(i,a,n),Zc(a,a.return);break;case 30:break;default:Dl(i,a,n)}t=t.sibling}}function Ol(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ya(n))}function kl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ya(e))}function V(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Al(e,t,n,r),t=t.sibling}function Al(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:V(e,t,n,r),i&2048&&R(9,t);break;case 1:V(e,t,n,r);break;case 3:V(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ya(e)));break;case 12:if(i&2048){V(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Ju(t,t.return,e)}}else V(e,t,n,r);break;case 31:V(e,t,n,r);break;case 13:V(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?V(e,t,n,r):(a._visibility|=2,jl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?V(e,t,n,r):Ml(e,t),i&2048&&Ol(o,t);break;case 24:V(e,t,n,r),i&2048&&kl(t.alternate,t);break;default:V(e,t,n,r)}}function jl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:jl(a,o,s,c,i),R(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,jl(a,o,s,c,i)):u._visibility&2?jl(a,o,s,c,i):Ml(a,o),i&&l&2048&&Ol(o.alternate,o);break;case 24:jl(a,o,s,c,i),i&&l&2048&&kl(o.alternate,o);break;default:jl(a,o,s,c,i)}t=t.sibling}}function Ml(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Ml(n,r),i&2048&&Ol(r.alternate,r);break;case 24:Ml(n,r),i&2048&&kl(r.alternate,r);break;default:Ml(n,r)}t=t.sibling}}var Nl=8192;function Pl(e,t,n){if(e.subtreeFlags&Nl)for(e=e.child;e!==null;)Fl(e,t,n),e=e.sibling}function Fl(e,t,n){switch(e.tag){case 26:Pl(e,t,n),e.flags&Nl&&e.memoizedState!==null&&Yf(n,xl,e.memoizedState,e.memoizedProps);break;case 5:Pl(e,t,n);break;case 3:case 4:var r=xl;xl=bf(e.stateNode.containerInfo),Pl(e,t,n),xl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Nl,Nl=16777216,Pl(e,t,n),Nl=r):Pl(e,t,n));break;default:Pl(e,t,n)}}function Il(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ll(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ll=r,Bl(r,e)}Il(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rl(e),e=e.sibling}function Rl(e){switch(e.tag){case 0:case 11:case 15:Ll(e),e.flags&2048&&Jc(9,e,e.return);break;case 3:Ll(e);break;case 12:Ll(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zl(e)):Ll(e);break;default:Ll(e)}}function zl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ll=r,Bl(r,e)}Il(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Jc(8,t,t.return),zl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,zl(t));break;default:zl(t)}e=e.sibling}}function Bl(e,t){for(;ll!==null;){var n=ll;switch(n.tag){case 0:case 11:case 15:Jc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ya(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ll=r;else a:for(n=e;ll!==null;){r=ll;var i=r.sibling,a=r.return;if(fl(r),r===n){ll=null;break a}if(i!==null){i.return=a,ll=i;break a}ll=a}}}var Vl={getCacheForType:function(e){var t=da(_a),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return da(_a).controller.signal}},Hl=typeof WeakMap==`function`?WeakMap:Map,H=0,U=null,W=null,G=0,K=0,Ul=null,Wl=!1,Gl=!1,Kl=!1,ql=0,q=0,Jl=0,Yl=0,Xl=0,Zl=0,Ql=0,$l=null,eu=null,tu=!1,nu=0,ru=0,iu=1/0,au=null,ou=null,su=0,cu=null,lu=null,uu=0,du=0,fu=null,pu=null,mu=0,hu=null;function gu(){return H&2&&G!==0?G&-G:T.T===null?ht():hd()}function _u(){if(Zl===0)if(!(G&536870912)||k){var e=et;et<<=1,!(et&3932160)&&(et=262144),Zl=e}else Zl=536870912;return e=mo.current,e!==null&&(e.flags|=32),Zl}function vu(e,t,n){(e===U&&(K===2||K===9)||e.cancelPendingCommit!==null)&&(Tu(e,0),Su(e,G,Zl,!1)),ct(e,n),(!(H&2)||e!==U)&&(e===U&&(!(H&2)&&(Yl|=n),q===4&&Su(e,G,Zl,!1)),sd(e))}function yu(e,t,n){if(H&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||it(e,t),a=r?Nu(e,t):ju(e,t,!0),o=r;do{if(a===0){Gl&&!r&&Su(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!xu(n)){a=ju(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=$l;var l=c.current.memoizedState.isDehydrated;if(l&&(Tu(c,s).flags|=256),s=ju(c,s,!1),s!==2){if(Kl&&!l){c.errorRecoveryDisabledLanes|=o,Yl|=o,a=4;break a}o=eu,eu=a,o!==null&&(eu===null?eu=o:eu.push.apply(eu,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Tu(e,0),Su(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Su(r,t,Zl,!Wl);break a;case 2:eu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=nu+300-Le(),10<a)){if(Su(r,t,Zl,!Wl),rt(r,0,!0)!==0)break a;uu=t,r.timeoutHandle=Zd(bu.bind(null,r,n,eu,au,tu,t,Zl,Yl,Ql,Wl,o,`Throttled`,-0,0),a);break a}bu(r,n,eu,au,tu,t,Zl,Yl,Ql,Wl,o,null,-0,0)}}break}while(1);sd(e)}function bu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dn},Fl(t,a,d);var m=(a&62914560)===a?nu-Le():(a&4194048)===a?ru-Le():0;if(m=Zf(d,m),m!==null){uu=a,e.cancelPendingCommit=m(Bu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),Su(e,a,o,!l);return}}Bu(e,t,a,n,r,i,o,s,c)}function xu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Nr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Su(e,t,n,r){t&=~Xl,t&=~Yl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Ye(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&ut(e,n,t)}function Cu(){return H&6?!0:(cd(0,!1),!1)}function wu(){if(W!==null){if(K===0)var e=W.return;else e=W,ra=na=null,Bo(e),Ha=null,Ua=0,e=W;for(;e!==null;)qc(e.alternate,e),e=e.return;W=null}}function Tu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Qd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),uu=0,wu(),U=e,W=n=bi(e.current,null),G=t,K=0,Ul=null,Wl=!1,Gl=it(e,t),Kl=!1,Ql=Zl=Xl=Yl=Jl=q=0,eu=$l=null,tu=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Ye(r),a=1<<i;t|=e[i],r&=~a}return ql=t,ui(),n}function Eu(e,t){A=null,T.H=Xs,t===Ma||t===Pa?(t=Ba(),K=3):t===Na?(t=Ba(),K=4):K=t===mc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Ul=t,W===null&&(q=1,cc(e,Oi(t,e.current)))}function Du(){var e=mo.current;return e===null?!0:(G&4194048)===G?ho===null:(G&62914560)===G||G&536870912?e===ho:!1}function Ou(){var e=T.H;return T.H=Xs,e===null?Xs:e}function ku(){var e=T.A;return T.A=Vl,e}function Au(){q=4,Wl||(G&4194048)!==G&&mo.current!==null||(Gl=!0),!(Jl&134217727)&&!(Yl&134217727)||U===null||Su(U,G,Zl,!1)}function ju(e,t,n){var r=H;H|=2;var i=Ou(),a=ku();(U!==e||G!==t)&&(au=null,Tu(e,t)),t=!1;var o=q;a:do try{if(K!==0&&W!==null){var s=W,c=Ul;switch(K){case 8:wu(),o=6;break a;case 3:case 2:case 9:case 6:mo.current===null&&(t=!0);var l=K;if(K=0,Ul=null,Lu(e,s,c,l),n&&Gl){o=0;break a}break;default:l=K,K=0,Ul=null,Lu(e,s,c,l)}}Mu(),o=q;break}catch(t){Eu(e,t)}while(1);return t&&e.shellSuspendCounter++,ra=na=null,H=r,T.H=i,T.A=a,W===null&&(U=null,G=0,ui()),o}function Mu(){for(;W!==null;)Fu(W)}function Nu(e,t){var n=H;H|=2;var r=Ou(),a=ku();U!==e||G!==t?(au=null,iu=Le()+500,Tu(e,t)):Gl=it(e,t);a:do try{if(K!==0&&W!==null){t=W;var o=Ul;b:switch(K){case 1:K=0,Ul=null,Lu(e,t,o,1);break;case 2:case 9:if(Ia(o)){K=0,Ul=null,Iu(t);break}t=function(){K!==2&&K!==9||U!==e||(K=7),sd(e)},o.then(t,t);break a;case 3:K=7;break a;case 4:K=5;break a;case 7:Ia(o)?(K=0,Ul=null,Iu(t)):(K=0,Ul=null,Lu(e,t,o,7));break;case 5:var s=null;switch(W.tag){case 26:s=W.memoizedState;case 5:case 27:var c=W;if(s?Jf(s):c.stateNode.complete){K=0,Ul=null;var l=c.sibling;if(l!==null)W=l;else{var u=c.return;u===null?W=null:(W=u,Ru(u))}break b}}K=0,Ul=null,Lu(e,t,o,5);break;case 6:K=0,Ul=null,Lu(e,t,o,6);break;case 8:wu(),q=6;break a;default:throw Error(i(462))}}Pu();break}catch(t){Eu(e,t)}while(1);return ra=na=null,T.H=r,T.A=a,H=n,W===null?(U=null,G=0,ui(),q):0}function Pu(){for(;W!==null&&!Fe();)Fu(W)}function Fu(e){var t=Rc(e.alternate,e,ql);e.memoizedProps=e.pendingProps,t===null?Ru(e):W=t}function Iu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Oc(n,t,t.pendingProps,t.type,void 0,G);break;case 11:t=Oc(n,t,t.pendingProps,t.type.render,t.ref,G);break;case 5:Bo(t);default:qc(n,t),t=W=xi(t,ql),t=Rc(n,t,ql)}e.memoizedProps=e.pendingProps,t===null?Ru(e):W=t}function Lu(e,t,n,r){ra=na=null,Bo(t),Ha=null,Ua=0;var i=t.return;try{if(pc(e,i,t,n,G)){q=1,cc(e,Oi(n,e.current)),W=null;return}}catch(t){if(i!==null)throw W=i,t;q=1,cc(e,Oi(n,e.current)),W=null;return}t.flags&32768?(k||r===1?e=!0:Gl||G&536870912?e=!1:(Wl=e=!0,(r===2||r===9||r===3||r===6)&&(r=mo.current,r!==null&&r.tag===13&&(r.flags|=16384))),zu(t,e)):Ru(t)}function Ru(e){var t=e;do{if(t.flags&32768){zu(t,Wl);return}e=t.return;var n=Gc(t.alternate,t,ql);if(n!==null){W=n;return}if(t=t.sibling,t!==null){W=t;return}W=t=e}while(t!==null);q===0&&(q=5)}function zu(e,t){do{var n=Kc(e.alternate,e);if(n!==null){n.flags&=32767,W=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){W=e;return}W=e=n}while(e!==null);q=6,W=null}function Bu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Gu();while(su!==0);if(H&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=li,lt(e,n,o,s,c,l),e===U&&(W=U=null,G=0),lu=t,cu=e,uu=n,du=o,fu=a,pu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,ed(Ve,function(){return Ku(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=T.T,T.T=null,a=E.p,E.p=2,s=H,H|=4;try{ul(e,t,n)}finally{H=s,E.p=a,T.T=r}}su=1,Vu(),Hu(),Uu()}}function Vu(){if(su===1){su=0;var e=cu,t=lu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=T.T,T.T=null;var r=E.p;E.p=2;var i=H;H|=4;try{Sl(t,e);var a=Wd,o=Rr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Lr(s.ownerDocument.documentElement,s)){if(c!==null&&O(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Ir(s,h),v=Ir(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}dp=!!Ud,Wd=Ud=null}finally{H=i,E.p=r,T.T=n}}e.current=t,su=2}}function Hu(){if(su===2){su=0;var e=cu,t=lu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=T.T,T.T=null;var r=E.p;E.p=2;var i=H;H|=4;try{dl(e,t.alternate,t)}finally{H=i,E.p=r,T.T=n}}su=3}}function Uu(){if(su===4||su===3){su=0,Ie();var e=cu,t=lu,n=uu,r=pu;t.subtreeFlags&10256||t.flags&10256?su=5:(su=0,lu=cu=null,Wu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ou=null),mt(n),t=t.stateNode,qe&&typeof qe.onCommitFiberRoot==`function`)try{qe.onCommitFiberRoot(Ke,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=T.T,i=E.p,E.p=2,T.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{T.T=t,E.p=i}}uu&3&&Gu(),sd(e),i=e.pendingLanes,n&261930&&i&42?e===hu?mu++:(mu=0,hu=e):mu=0,cd(0,!1)}}function Wu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ya(t)))}function Gu(){return Vu(),Hu(),Uu(),Ku()}function Ku(){if(su!==5)return!1;var e=cu,t=du;du=0;var n=mt(uu),r=T.T,a=E.p;try{E.p=32>n?32:n,T.T=null,n=fu,fu=null;var o=cu,s=uu;if(su=0,lu=cu=null,uu=0,H&6)throw Error(i(331));var c=H;if(H|=4,Rl(o.current),Al(o,o.current,s,n),H=c,cd(0,!1),qe&&typeof qe.onPostCommitFiberRoot==`function`)try{qe.onPostCommitFiberRoot(Ke,o)}catch{}return!0}finally{E.p=a,T.T=r,Wu(e,t)}}function qu(e,t,n){t=Oi(n,t),t=uc(e.stateNode,t,2),e=eo(e,t,2),e!==null&&(ct(e,2),sd(e))}function Ju(e,t,n){if(e.tag===3)qu(e,e,n);else for(;t!==null;){if(t.tag===3){qu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(ou===null||!ou.has(r))){e=Oi(n,e),n=dc(2),r=eo(t,n,2),r!==null&&(fc(n,r,t,e),ct(r,2),sd(r));break}}t=t.return}}function Yu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Hl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Kl=!0,i.add(n),e=Xu.bind(null,e,t,n),t.then(e,e))}function Xu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,U===e&&(G&n)===n&&(q===4||q===3&&(G&62914560)===G&&300>Le()-nu?!(H&2)&&Tu(e,0):Xl|=n,Ql===G&&(Ql=0)),sd(e)}function Zu(e,t){t===0&&(t=ot()),e=pi(e,t),e!==null&&(ct(e,t),sd(e))}function Qu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zu(e,n)}function $u(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Zu(e,n)}function ed(e,t){return Ne(e,t)}var td=null,nd=null,rd=!1,id=!1,ad=!1,od=0;function sd(e){e!==nd&&e.next===null&&(nd===null?td=nd=e:nd=nd.next=e),id=!0,rd||(rd=!0,md())}function cd(e,t){if(!ad&&id){ad=!0;do for(var n=!1,r=td;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Ye(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,pd(r,a))}else a=G,a=rt(r,r===U?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||it(r,a)||(n=!0,pd(r,a));r=r.next}while(n);ad=!1}}function ld(){ud()}function ud(){id=rd=!1;var e=0;od!==0&&Xd()&&(e=od);for(var t=Le(),n=null,r=td;r!==null;){var i=r.next,a=dd(r,t);a===0?(r.next=null,n===null?td=i:n.next=i,i===null&&(nd=n)):(n=r,(e!==0||a&3)&&(id=!0)),r=i}su!==0&&su!==5||cd(e,!1),od!==0&&(od=0)}function dd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Ye(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=at(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=U,n=G,n=rt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(K===2||K===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Pe(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||it(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Pe(r),mt(n)){case 2:case 8:n=Be;break;case 32:n=Ve;break;case 268435456:n=Ue;break;default:n=Ve}return r=fd.bind(null,e),n=Ne(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Pe(r),e.callbackPriority=2,e.callbackNode=null,2}function fd(e,t){if(su!==0&&su!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Gu()&&e.callbackNode!==n)return null;var r=G;return r=rt(e,e===U?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(yu(e,r,t),dd(e,Le()),e.callbackNode!=null&&e.callbackNode===n?fd.bind(null,e):null)}function pd(e,t){if(Gu())return null;yu(e,t,!0)}function md(){ef(function(){H&6?Ne(ze,ld):ud()})}function hd(){if(od===0){var e=Sa;e===0&&(e=$e,$e<<=1,!($e&261888)&&($e=256)),od=e}return od}function gd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:un(``+e)}function _d(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function vd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=gd((i[yt]||null).action),o=r.submitter;o&&(t=(t=o[yt]||null)?gd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new Mn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(od!==0){var e=o?_d(i,o):new FormData(i);Is(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?_d(i,o):new FormData(i),Is(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var yd=0;yd<ii.length;yd++){var bd=ii[yd];ai(bd.toLowerCase(),`on`+(bd[0].toUpperCase()+bd.slice(1)))}ai(Xr,`onAnimationEnd`),ai(Zr,`onAnimationIteration`),ai(Qr,`onAnimationStart`),ai(`dblclick`,`onDoubleClick`),ai(`focusin`,`onFocus`),ai(`focusout`,`onBlur`),ai($r,`onTransitionRun`),ai(ei,`onTransitionStart`),ai(ti,`onTransitionCancel`),ai(ni,`onTransitionEnd`),Ft(`onMouseEnter`,[`mouseout`,`mouseover`]),Ft(`onMouseLeave`,[`mouseout`,`mouseover`]),Ft(`onPointerEnter`,[`pointerout`,`pointerover`]),Ft(`onPointerLeave`,[`pointerout`,`pointerover`]),Pt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),Pt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),Pt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),Pt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),Pt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),Pt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var xd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),Sd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(xd));function Cd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){oi(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){oi(e)}i.currentTarget=null,a=c}}}}function J(e,t){var n=t[xt];n===void 0&&(n=t[xt]=new Set);var r=e+`__bubble`;n.has(r)||(Dd(t,e,2,!1),n.add(r))}function wd(e,t,n){var r=0;t&&(r|=4),Dd(n,e,r,t)}var Td=`_reactListening`+Math.random().toString(36).slice(2);function Ed(e){if(!e[Td]){e[Td]=!0,Mt.forEach(function(t){t!==`selectionchange`&&(Sd.has(t)||wd(t,!1,e),wd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Td]||(t[Td]=!0,wd(`selectionchange`,!1,t))}}function Dd(e,t,n,r){switch(X(t)){case 2:var i=fp;break;case 8:i=pp;break;default:i=mp}n=i.bind(null,t,n,e),i=void 0,!xn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Od(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=Dt(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}vn(function(){var r=a,i=pn(n),s=[];a:{var c=ri.get(e);if(c!==void 0){var l=Mn,u=e;switch(e){case`keypress`:if(Dn(n)===0)break a;case`keydown`:case`keyup`:l=Xn;break;case`focusin`:u=`focus`,l=Vn;break;case`focusout`:u=`blur`,l=Vn;break;case`beforeblur`:case`afterblur`:l=Vn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=zn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Bn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Qn;break;case Xr:case Zr:case Qr:l=Hn;break;case ni:l=$n;break;case`scroll`:case`scrollend`:l=Pn;break;case`wheel`:l=er;break;case`copy`:case`cut`:case`paste`:l=Un;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Zn;break;case`toggle`:case`beforetoggle`:l=tr}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=yn(m,p),g!=null&&d.push(kd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==fn&&(u=n.relatedTarget||n.fromElement)&&(Dt(u)||u[bt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?Dt(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=zn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Zn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:kt(l),h=u==null?c:kt(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,Dt(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=jd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Md(s,c,l,d,!1),u!==null&&f!==null&&Md(s,f,u,d,!0)}}a:{if(c=r?kt(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=xr;else if(hr(c))if(Sr)v=jr;else{v=kr;var y=Or}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&sn(r.elementType)&&(v=xr):v=Ar;if(v&&=v(e,r)){gr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Qt(c,`number`,c.value)}switch(y=r?kt(r):window,e){case`focusin`:(hr(y)||y.contentEditable===`true`)&&(Br=y,Vr=r,Hr=null);break;case`focusout`:Hr=Vr=Br=null;break;case`mousedown`:Ur=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Ur=!1,Wr(s,n,i);break;case`selectionchange`:if(zr)break;case`keydown`:case`keyup`:Wr(s,n,i)}var b;if(rr)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else dr?lr(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(or&&n.locale!==`ko`&&(dr||x!==`onCompositionStart`?x===`onCompositionEnd`&&dr&&(b=En()):(Cn=i,wn=`value`in Cn?Cn.value:Cn.textContent,dr=!0)),y=Ad(r,x),0<y.length&&(x=new Wn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=ur(n),b!==null&&(x.data=b)))),(b=ar?fr(e,n):pr(e,n))&&(x=Ad(r,`onBeforeInput`),0<x.length&&(y=new Wn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),vd(s,e,r,n,i)}Cd(s,t)})}function kd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ad(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=yn(e,n),i!=null&&r.unshift(kd(e,i,a)),i=yn(e,t),i!=null&&r.push(kd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function jd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Md(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=yn(n,a),l!=null&&o.unshift(kd(n,l,c))):i||(l=yn(n,a),l!=null&&o.push(kd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Nd=/\r\n?/g,Pd=/\u0000|\uFFFD/g;function Fd(e){return(typeof e==`string`?e:``+e).replace(Nd,`
`).replace(Pd,``)}function Id(e,t){return t=Fd(t),Fd(e)===t}function Ld(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||nn(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&nn(e,``+r);break;case`className`:Vt(e,`class`,r);break;case`tabIndex`:Vt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Vt(e,n,r);break;case`style`:on(e,r,o);break;case`data`:if(t!==`object`){Vt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=un(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Ld(e,t,`name`,a.name,a,null),Ld(e,t,`formEncType`,a.formEncType,a,null),Ld(e,t,`formMethod`,a.formMethod,a,null),Ld(e,t,`formTarget`,a.formTarget,a,null)):(Ld(e,t,`encType`,a.encType,a,null),Ld(e,t,`method`,a.method,a,null),Ld(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=un(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=dn);break;case`onScroll`:r!=null&&J(`scroll`,e);break;case`onScrollEnd`:r!=null&&J(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=un(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:J(`beforetoggle`,e),J(`toggle`,e),Bt(e,`popover`,r);break;case`xlinkActuate`:Ht(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Ht(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Ht(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Ht(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Ht(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Ht(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Ht(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Ht(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Ht(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:Bt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=cn.get(n)||n,Bt(e,n,r))}}function Rd(e,t,n,r,a,o){switch(n){case`style`:on(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?nn(e,r):(typeof r==`number`||typeof r==`bigint`)&&nn(e,``+r);break;case`onScroll`:r!=null&&J(`scroll`,e);break;case`onScrollEnd`:r!=null&&J(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=dn);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Nt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[yt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):Bt(e,n,r)}}}function zd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:J(`error`,e),J(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Ld(e,t,o,s,n,null)}}a&&Ld(e,t,`srcSet`,n.srcSet,n,null),r&&Ld(e,t,`src`,n.src,n,null);return;case`input`:J(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Ld(e,t,r,d,n,null)}}Zt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in J(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Ld(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&$t(e,!!r,n,!0):$t(e,!!r,t,!1);return;case`textarea`:for(s in J(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Ld(e,t,s,c,n,null)}tn(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Ld(e,t,l,r,n,null)}return;case`dialog`:J(`beforetoggle`,e),J(`toggle`,e),J(`cancel`,e),J(`close`,e);break;case`iframe`:case`object`:J(`load`,e);break;case`video`:case`audio`:for(r=0;r<xd.length;r++)J(xd[r],e);break;case`image`:J(`error`,e),J(`load`,e);break;case`details`:J(`toggle`,e);break;case`embed`:case`source`:case`link`:J(`error`,e),J(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Ld(e,t,u,r,n,null)}return;default:if(sn(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Rd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Ld(e,t,c,r,n,null))}function Bd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Ld(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Ld(e,t,p,m,r,f)}}Xt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Ld(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Ld(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?$t(e,!!n,n?[]:``,!1):$t(e,!!n,t,!0)):$t(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Ld(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Ld(e,t,s,a,r,o)}en(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Ld(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Ld(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Ld(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Ld(e,t,u,p,r,m)}return;default:if(sn(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Rd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Rd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Ld(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Ld(e,t,f,p,r,m)}function Vd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Hd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Vd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Vd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Ud=null,Wd=null;function Gd(e){return e.nodeType===9?e:e.ownerDocument}function Kd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function qd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Jd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yd=null;function Xd(){var e=window.event;return e&&e.type===`popstate`?e===Yd?!1:(Yd=e,!0):(Yd=null,!1)}var Zd=typeof setTimeout==`function`?setTimeout:void 0,Qd=typeof clearTimeout==`function`?clearTimeout:void 0,$d=typeof Promise==`function`?Promise:void 0,ef=typeof queueMicrotask==`function`?queueMicrotask:$d===void 0?Zd:function(e){return $d.resolve(null).then(e).catch(tf)};function tf(e){setTimeout(function(){throw e})}function nf(e){return e===`head`}function rf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Ip(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)vf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,vf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[Tt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&vf(e.ownerDocument.body);n=i}while(n);Ip(t)}function af(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function of(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:of(n),Et(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function sf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(!r)if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;else if(!e[Tt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}if(e=pf(e.nextSibling),e===null)break}return null}function cf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=pf(e.nextSibling),e===null))return null;return e}function lf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=pf(e.nextSibling),e===null))return null;return e}function uf(e){return e.data===`$?`||e.data===`$~`}function df(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function ff(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function pf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var mf=null;function hf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return pf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function gf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function _f(e,t,n){switch(t=Gd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function vf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Et(e)}var Y=new Map,yf=new Set;function bf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xf=E.d;E.d={f:Sf,r:Cf,D:Ef,C:Df,L:Of,m:kf,X:jf,S:Af,M:Mf};function Sf(){var e=xf.f(),t=Cu();return e||t}function Cf(e){var t=Ot(e);t!==null&&t.tag===5&&t.type===`form`?Rs(t):xf.r(e)}var wf=typeof document>`u`?null:document;function Tf(e,t,n){var r=wf;if(r&&typeof t==`string`&&t){var i=Yt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),yf.has(i)||(yf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),zd(t,`link`,e),jt(t),r.head.appendChild(t)))}}function Ef(e){xf.D(e),Tf(`dns-prefetch`,e,null)}function Df(e,t){xf.C(e,t),Tf(`preconnect`,e,t)}function Of(e,t,n){xf.L(e,t,n);var r=wf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Yt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Yt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Yt(n.imageSizes)+`"]`)):i+=`[href="`+Yt(e)+`"]`;var a=i;switch(t){case`style`:a=Pf(e);break;case`script`:a=Rf(e)}Y.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),Y.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Ff(a))||t===`script`&&r.querySelector(zf(a))||(t=r.createElement(`link`),zd(t,`link`,e),jt(t),r.head.appendChild(t)))}}function kf(e,t){xf.m(e,t);var n=wf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Yt(r)+`"][href="`+Yt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Rf(e)}if(!Y.has(a)&&(e=h({rel:`modulepreload`,href:e},t),Y.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(zf(a)))return}r=n.createElement(`link`),zd(r,`link`,e),jt(r),n.head.appendChild(r)}}}function Af(e,t,n){xf.S(e,t,n);var r=wf;if(r&&e){var i=At(r).hoistableStyles,a=Pf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Ff(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=Y.get(a))&&Hf(e,n);var c=o=r.createElement(`link`);jt(c),zd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Vf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function jf(e,t){xf.X(e,t);var n=wf;if(n&&e){var r=At(n).hoistableScripts,i=Rf(e),a=r.get(i);a||(a=n.querySelector(zf(i)),a||(e=h({src:e,async:!0},t),(t=Y.get(i))&&Uf(e,t),a=n.createElement(`script`),jt(a),zd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Mf(e,t){xf.M(e,t);var n=wf;if(n&&e){var r=At(n).hoistableScripts,i=Rf(e),a=r.get(i);a||(a=n.querySelector(zf(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=Y.get(i))&&Uf(e,t),a=n.createElement(`script`),jt(a),zd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Nf(e,t,n,r){var a=(a=ye.current)?bf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Pf(n.href),n=At(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Pf(n.href);var o=At(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Ff(e)))&&!o._p&&(s.instance=o,s.state.loading=5),Y.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Y.set(e,n),o||Lf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Rf(n),n=At(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Pf(e){return`href="`+Yt(e)+`"`}function Ff(e){return`link[rel="stylesheet"][`+e+`]`}function If(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Lf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),zd(t,`link`,n),jt(t),e.head.appendChild(t))}function Rf(e){return`[src="`+Yt(e)+`"]`}function zf(e){return`script[async]`+e}function Bf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Yt(n.href)+`"]`);if(r)return t.instance=r,jt(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),jt(r),zd(r,`style`,a),Vf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Pf(n.href);var o=e.querySelector(Ff(a));if(o)return t.state.loading|=4,t.instance=o,jt(o),o;r=If(n),(a=Y.get(a))&&Hf(r,a),o=(e.ownerDocument||e).createElement(`link`),jt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),zd(o,`link`,r),t.state.loading|=4,Vf(o,n.precedence,e),t.instance=o;case`script`:return o=Rf(n.src),(a=e.querySelector(zf(o)))?(t.instance=a,jt(a),a):(r=n,(a=Y.get(o))&&(r=h({},n),Uf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),jt(a),zd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Vf(r,n.precedence,e));return t.instance}function Vf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Hf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Uf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Wf=null;function Gf(e,t,n){if(Wf===null){var r=new Map,i=Wf=new Map;i.set(n,r)}else i=Wf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Tt]||a[vt]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Kf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function qf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Jf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Yf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Pf(r.href),a=t.querySelector(Ff(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Qf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,jt(a);return}a=t.ownerDocument||t,r=If(r),(i=Y.get(i))&&Hf(r,i),a=a.createElement(`link`),jt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),zd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Qf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Xf=0;function Zf(e,t){return e.stylesheets&&e.count===0&&ep(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ep(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Xf===0&&(Xf=62500*Hd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ep(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Xf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Qf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ep(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $f=null;function ep(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$f=new Map,t.forEach(tp,e),$f=null,Qf.call(e))}function tp(e,t){if(!(t.state.loading&4)){var n=$f.get(e);if(n)var r=n.get(null);else{n=new Map,$f.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Qf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var np={$$typeof:te,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function rp(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=st(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=st(0),this.hiddenUpdates=st(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function ip(e,t,n,r,i,a,o,s,c,l,u,d){return e=new rp(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=vi(3,null,null,t),e.current=a,a.stateNode=e,t=va(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Za(a),e}function ap(e){return e?(e=gi,e):gi}function op(e,t,n,r,i,a){i=ap(i),r.context===null?r.context=i:r.pendingContext=i,r=$a(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=eo(e,r,t),n!==null&&(vu(n,e,t),to(n,e,t))}function sp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cp(e,t){sp(e,t),(e=e.alternate)&&sp(e,t)}function lp(e){if(e.tag===13||e.tag===31){var t=pi(e,67108864);t!==null&&vu(t,e,67108864),cp(e,67108864)}}function up(e){if(e.tag===13||e.tag===31){var t=gu();t=pt(t);var n=pi(e,t);n!==null&&vu(n,e,t),cp(e,t)}}var dp=!0;function fp(e,t,n,r){var i=T.T;T.T=null;var a=E.p;try{E.p=2,mp(e,t,n,r)}finally{E.p=a,T.T=i}}function pp(e,t,n,r){var i=T.T;T.T=null;var a=E.p;try{E.p=8,mp(e,t,n,r)}finally{E.p=a,T.T=i}}function mp(e,t,n,r){if(dp){var i=hp(r);if(i===null)Od(e,t,r,gp,n),Ep(e,r);else if(Op(i,e,t,n,r))r.stopPropagation();else if(Ep(e,r),t&4&&-1<Tp.indexOf(e)){for(;i!==null;){var a=Ot(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=nt(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Ye(o);s.entanglements[1]|=c,o&=~c}sd(a),!(H&6)&&(iu=Le()+500,cd(0,!1))}}break;case 31:case 13:s=pi(a,2),s!==null&&vu(s,a,2),Cu(),cp(a,2)}if(a=hp(r),a===null&&Od(e,t,r,gp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Od(e,t,r,null,n)}}function hp(e){return e=pn(e),_p(e)}var gp=null;function _p(e){if(gp=null,e=Dt(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return gp=e,null}function X(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Re()){case ze:return 2;case Be:return 8;case Ve:case He:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var vp=!1,yp=null,bp=null,xp=null,Sp=new Map,Cp=new Map,wp=[],Tp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Ep(e,t){switch(e){case`focusin`:case`focusout`:yp=null;break;case`dragenter`:case`dragleave`:bp=null;break;case`mouseover`:case`mouseout`:xp=null;break;case`pointerover`:case`pointerout`:Sp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Cp.delete(t.pointerId)}}function Dp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ot(t),t!==null&&lp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Op(e,t,n,r,i){switch(t){case`focusin`:return yp=Dp(yp,e,t,n,r,i),!0;case`dragenter`:return bp=Dp(bp,e,t,n,r,i),!0;case`mouseover`:return xp=Dp(xp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Sp.set(a,Dp(Sp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Cp.set(a,Dp(Cp.get(a)||null,e,t,n,r,i)),!0}return!1}function kp(e){var t=Dt(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,gt(e.priority,function(){up(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,gt(e.priority,function(){up(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ap(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fn=r,n.target.dispatchEvent(r),fn=null}else return t=Ot(n),t!==null&&lp(t),e.blockedOn=n,!1;t.shift()}return!0}function jp(e,t,n){Ap(e)&&n.delete(t)}function Mp(){vp=!1,yp!==null&&Ap(yp)&&(yp=null),bp!==null&&Ap(bp)&&(bp=null),xp!==null&&Ap(xp)&&(xp=null),Sp.forEach(jp),Cp.forEach(jp)}function Np(e,n){e.blockedOn===n&&(e.blockedOn=null,vp||(vp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mp)))}var Pp=null;function Fp(e){Pp!==e&&(Pp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pp===e&&(Pp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(_p(r||n)===null)continue;break}var a=Ot(n);a!==null&&(e.splice(t,3),t-=3,Is(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ip(e){function t(t){return Np(t,e)}yp!==null&&Np(yp,e),bp!==null&&Np(bp,e),xp!==null&&Np(xp,e),Sp.forEach(t),Cp.forEach(t);for(var n=0;n<wp.length;n++){var r=wp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<wp.length&&(n=wp[0],n.blockedOn===null);)kp(n),n.blockedOn===null&&wp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[yt]||null;if(typeof a==`function`)o||Fp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[yt]||null)s=o.formAction;else if(_p(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Fp(n)}}}function Lp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Rp(e){this._internalRoot=e}zp.prototype.render=Rp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;op(n,gu(),e,t,null,null)},zp.prototype.unmount=Rp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;op(e.current,2,null,e,null,null),Cu(),t[bt]=null}};function zp(e){this._internalRoot=e}zp.prototype.unstable_scheduleHydration=function(e){if(e){var t=ht();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wp.length&&t!==0&&t<wp[n].priority;n++);wp.splice(n,0,e),n===0&&kp(e)}};var Bp=n.version;if(Bp!==`19.2.4`)throw Error(i(527,Bp,`19.2.4`));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var Vp={bundleType:0,version:`19.2.4`,rendererPackageName:`react-dom`,currentDispatcherRef:T,reconcilerVersion:`19.2.4`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{Ke=Hp.inject(Vp),qe=Hp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=ac,s=oc,c=sc;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=ip(e,1,!1,null,null,n,r,null,o,s,c,Lp),e[bt]=t.current,Ed(e),new Rp(t)}})),g=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()}))(),_=c(u()),v=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),y=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),b=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),x=e=>{let t=b(e);return t.charAt(0).toUpperCase()+t.slice(1)},ee={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},te=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0;return!1},S=(0,_.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,_.createElement)(`svg`,{ref:c,...ee,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:v(`lucide`,i),...!a&&!te(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,_.createElement)(e,t)),...Array.isArray(a)?a:[a]])),C=(e,t)=>{let n=(0,_.forwardRef)(({className:n,...r},i)=>(0,_.createElement)(S,{ref:i,iconNode:t,className:v(`lucide-${y(x(e))}`,`lucide-${e}`,n),...r}));return n.displayName=x(e),n},ne=C(`activity`,[[`path`,{d:`M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2`,key:`169zse`}]]),w=C(`arrow-up`,[[`path`,{d:`m5 12 7-7 7 7`,key:`hav0vg`}],[`path`,{d:`M12 19V5`,key:`x0mq9r`}]]),re=C(`baby`,[[`path`,{d:`M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5`,key:`1u7htd`}],[`path`,{d:`M15 12h.01`,key:`1k8ypt`}],[`path`,{d:`M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1`,key:`11xh7x`}],[`path`,{d:`M9 12h.01`,key:`157uk2`}]]),ie=C(`calendar-days`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}],[`path`,{d:`M8 14h.01`,key:`6423bh`}],[`path`,{d:`M12 14h.01`,key:`1etili`}],[`path`,{d:`M16 14h.01`,key:`1gbofw`}],[`path`,{d:`M8 18h.01`,key:`lrp35t`}],[`path`,{d:`M12 18h.01`,key:`mhygvu`}],[`path`,{d:`M16 18h.01`,key:`kzsmim`}]]),ae=C(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),oe=C(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),se=C(`chevron-left`,[[`path`,{d:`m15 18-6-6 6-6`,key:`1wnfg3`}]]),ce=C(`chevron-right`,[[`path`,{d:`m9 18 6-6-6-6`,key:`mthhwq`}]]),le=C(`chevron-up`,[[`path`,{d:`m18 15-6-6-6 6`,key:`153udz`}]]),ue=C(`circle-alert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),T=C(`circle-plus`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M8 12h8`,key:`1wcyev`}],[`path`,{d:`M12 8v8`,key:`napkw2`}]]),E=C(`clipboard-list`,[[`rect`,{width:`8`,height:`4`,x:`8`,y:`2`,rx:`1`,ry:`1`,key:`tgr4d6`}],[`path`,{d:`M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2`,key:`116196`}],[`path`,{d:`M12 11h4`,key:`1jrz19`}],[`path`,{d:`M12 16h4`,key:`n85exb`}],[`path`,{d:`M8 11h.01`,key:`1dfujw`}],[`path`,{d:`M8 16h.01`,key:`18s6g9`}]]),de=C(`cloud-sun`,[[`path`,{d:`M12 2v2`,key:`tus03m`}],[`path`,{d:`m4.93 4.93 1.41 1.41`,key:`149t6j`}],[`path`,{d:`M20 12h2`,key:`1q8mjw`}],[`path`,{d:`m19.07 4.93-1.41 1.41`,key:`1shlcs`}],[`path`,{d:`M15.947 12.65a4 4 0 0 0-5.925-4.128`,key:`dpwdj0`}],[`path`,{d:`M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z`,key:`s09mg5`}]]),fe=C(`cloud`,[[`path`,{d:`M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z`,key:`p7xjir`}]]),pe=C(`copy`,[[`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`,key:`17jyea`}],[`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`,key:`zix9uf`}]]),me=C(`database`,[[`ellipse`,{cx:`12`,cy:`5`,rx:`9`,ry:`3`,key:`msslwz`}],[`path`,{d:`M3 5V19A9 3 0 0 0 21 19V5`,key:`1wlel7`}],[`path`,{d:`M3 12A9 3 0 0 0 21 12`,key:`mv7ke4`}]]),he=C(`dollar-sign`,[[`line`,{x1:`12`,x2:`12`,y1:`2`,y2:`22`,key:`7eqyqh`}],[`path`,{d:`M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6`,key:`1b0p4s`}]]),ge=C(`download`,[[`path`,{d:`M12 15V3`,key:`m9g1x1`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}],[`path`,{d:`m7 10 5 5 5-5`,key:`brsn70`}]]),_e=C(`file-text`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M10 9H8`,key:`b1mrlr`}],[`path`,{d:`M16 13H8`,key:`t4e002`}],[`path`,{d:`M16 17H8`,key:`z1uh3a`}]]),ve=C(`heart-plus`,[[`path`,{d:`m14.479 19.374-.971.939a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5a5.2 5.2 0 0 1-.219 1.49`,key:`wg5jx`}],[`path`,{d:`M15 15h6`,key:`1u4692`}],[`path`,{d:`M18 12v6`,key:`1houu1`}]]),ye=C(`image-up`,[[`path`,{d:`M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21`,key:`9csbqa`}],[`path`,{d:`m14 19.5 3-3 3 3`,key:`9vmjn0`}],[`path`,{d:`M17 22v-5.5`,key:`1aa6fl`}],[`circle`,{cx:`9`,cy:`9`,r:`2`,key:`af1f0g`}]]),be=C(`info`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 16v-4`,key:`1dtifu`}],[`path`,{d:`M12 8h.01`,key:`e9boi3`}]]),xe=C(`loader-circle`,[[`path`,{d:`M21 12a9 9 0 1 1-6.219-8.56`,key:`13zald`}]]),Se=C(`lock-open`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 9.9-1`,key:`1mm8w8`}]]),Ce=C(`lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),we=C(`moon`,[[`path`,{d:`M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401`,key:`kfwtm`}]]),Te=C(`notebook-pen`,[[`path`,{d:`M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4`,key:`re6nr2`}],[`path`,{d:`M2 6h4`,key:`aawbzj`}],[`path`,{d:`M2 10h4`,key:`l0bgd4`}],[`path`,{d:`M2 14h4`,key:`1gsvsf`}],[`path`,{d:`M2 18h4`,key:`1bu2t1`}],[`path`,{d:`M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z`,key:`pqwjuv`}]]),Ee=C(`paw-print`,[[`circle`,{cx:`11`,cy:`4`,r:`2`,key:`vol9p0`}],[`circle`,{cx:`18`,cy:`8`,r:`2`,key:`17gozi`}],[`circle`,{cx:`20`,cy:`16`,r:`2`,key:`1v9bxh`}],[`path`,{d:`M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z`,key:`1ydw1z`}]]),De=C(`rotate-ccw`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}]]),Oe=C(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),ke=C(`school`,[[`path`,{d:`M14 21v-3a2 2 0 0 0-4 0v3`,key:`1rgiei`}],[`path`,{d:`M18 5v16`,key:`1ethyx`}],[`path`,{d:`m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6`,key:`zywc2d`}],[`path`,{d:`m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11`,key:`1d4ql0`}],[`path`,{d:`M6 5v16`,key:`1sn0nx`}],[`circle`,{cx:`12`,cy:`9`,r:`2`,key:`1092wv`}]]),Ae=C(`smile`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M8 14s1.5 2 4 2 4-2 4-2`,key:`1y1vjs`}],[`line`,{x1:`9`,x2:`9.01`,y1:`9`,y2:`9`,key:`yxxnd0`}],[`line`,{x1:`15`,x2:`15.01`,y1:`9`,y2:`9`,key:`1p4y9e`}]]),je=C(`sun`,[[`circle`,{cx:`12`,cy:`12`,r:`4`,key:`4exip2`}],[`path`,{d:`M12 2v2`,key:`tus03m`}],[`path`,{d:`M12 20v2`,key:`1lh1kg`}],[`path`,{d:`m4.93 4.93 1.41 1.41`,key:`149t6j`}],[`path`,{d:`m17.66 17.66 1.41 1.41`,key:`ptbguv`}],[`path`,{d:`M2 12h2`,key:`1t8f8n`}],[`path`,{d:`M20 12h2`,key:`1q8mjw`}],[`path`,{d:`m6.34 17.66-1.41 1.41`,key:`1m8zz5`}],[`path`,{d:`m19.07 4.93-1.41 1.41`,key:`1shlcs`}]]),Me=C(`thermometer`,[[`path`,{d:`M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z`,key:`17jzev`}]]),Ne=C(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),Pe=C(`upload`,[[`path`,{d:`M12 3v12`,key:`1x0j5s`}],[`path`,{d:`m17 8-5-5-5 5`,key:`7q97r8`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}]]),Fe=C(`utensils`,[[`path`,{d:`M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2`,key:`cjf0a3`}],[`path`,{d:`M7 2v20`,key:`1473qp`}],[`path`,{d:`M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7`,key:`j28e5`}]]),Ie=C(`wifi`,[[`path`,{d:`M12 20h.01`,key:`zekei9`}],[`path`,{d:`M2 8.82a15 15 0 0 1 20 0`,key:`dnpr2z`}],[`path`,{d:`M5 12.859a10 10 0 0 1 14 0`,key:`1x1e6c`}],[`path`,{d:`M8.5 16.429a5 5 0 0 1 7 0`,key:`1bycff`}]]),Le=C(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),Re=m(),ze=()=>void 0,Be=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ve=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},He={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Be(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Ve(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new Ue;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ue=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},We=function(e){let t=Be(e);return He.encodeByteArray(t,!0)},Ge=function(e){return We(e).replace(/\./g,``)},Ke=function(e){try{return He.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};function qe(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}var Je=()=>qe().__FIREBASE_DEFAULTS__,Ye=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Xe=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Ke(e[1]);return t&&JSON.parse(t)},Ze=()=>{try{return ze()||Je()||Ye()||Xe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Qe=e=>Ze()?.emulatorHosts?.[e],$e=()=>Ze()?.config,et=e=>Ze()?.[`_${e}`],tt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};function nt(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function rt(e){return(await fetch(e,{credentials:`include`})).ok}var it={};function at(){let e={prod:[],emulator:[]};for(let t of Object.keys(it))it[t]?e.emulator.push(t):e.prod.push(t);return e}function ot(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var st=!1;function ct(e,t){if(typeof window>`u`||typeof document>`u`||!nt(window.location.host)||it[e]===t||it[e]||st)return;it[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=at().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{st=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=ot(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}function lt(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function ut(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function dt(){let e=Ze()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function ft(){return typeof navigator<`u`&&navigator.userAgent===`Cloudflare-Workers`}function pt(){let e=typeof chrome==`object`?chrome.runtime:typeof browser==`object`?browser.runtime:void 0;return typeof e==`object`&&e.id!==void 0}function mt(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function ht(){let e=lt();return e.indexOf(`MSIE `)>=0||e.indexOf(`Trident/`)>=0}function gt(){return!dt()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function _t(){return!dt()&&!!navigator.userAgent&&(navigator.userAgent.includes(`Safari`)||navigator.userAgent.includes(`WebKit`))&&!navigator.userAgent.includes(`Chrome`)}function vt(){try{return typeof indexedDB==`object`}catch{return!1}}function yt(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}var bt=`FirebaseError`,xt=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=bt,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}},St=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?Ct(i,n):`Error`;return new xt(r,`${this.serviceName}: ${a} (${r}).`,n)}};function Ct(e,t){return e.replace(wt,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var wt=/\{\$([^}]+)}/g;function Tt(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Et(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(Dt(n)&&Dt(a)){if(!Et(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function Dt(e){return typeof e==`object`&&!!e}function Ot(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}function kt(e){let t={};return e.replace(/^\?/,``).split(`&`).forEach(e=>{if(e){let[n,r]=e.split(`=`);t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function At(e){let t=e.indexOf(`?`);if(!t)return``;let n=e.indexOf(`#`,t);return e.substring(t,n>0?n:void 0)}function jt(e,t){let n=new Mt(e,t);return n.subscribe.bind(n)}var Mt=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw Error(`Missing Observer.`);r=Nt(e,[`next`,`error`,`complete`])?e:{next:e,error:t,complete:n},r.next===void 0&&(r.next=Pt),r.error===void 0&&(r.error=Pt),r.complete===void 0&&(r.complete=Pt);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(e){typeof console<`u`&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Nt(e,t){if(typeof e!=`object`||!e)return!1;for(let n of t)if(n in e&&typeof e[n]==`function`)return!0;return!1}function Pt(){}function Ft(e){return e&&e._delegate?e._delegate:e}var It=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},Lt=`[DEFAULT]`,Rt=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new tt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(Bt(e))try{this.getOrInitializeService({instanceIdentifier:Lt})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=Lt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lt){return this.instances.has(e)}getOptions(e=Lt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:zt(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Lt){return this.component?this.component.multipleInstances?e:Lt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function zt(e){return e===Lt?void 0:e}function Bt(e){return e.instantiationMode===`EAGER`}var Vt=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Rt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},Ht=[],D;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(D||={});var Ut={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},Wt=D.INFO,Gt={[D.DEBUG]:`log`,[D.VERBOSE]:`log`,[D.INFO]:`info`,[D.WARN]:`warn`,[D.ERROR]:`error`},Kt=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=Gt[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},qt=class{constructor(e){this.name=e,this._logLevel=Wt,this._logHandler=Kt,this._userLogHandler=null,Ht.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in D))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?Ut[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...e),this._logHandler(this,D.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...e),this._logHandler(this,D.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,D.INFO,...e),this._logHandler(this,D.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,D.WARN,...e),this._logHandler(this,D.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...e),this._logHandler(this,D.ERROR,...e)}},Jt=(e,t)=>t.some(t=>e instanceof t),Yt,Xt;function Zt(){return Yt||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function Qt(){return Xt||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var $t=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap,rn=new WeakMap;function an(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(dn(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&$t.set(t,e)}).catch(()=>{}),rn.set(t,e),t}function on(e){if(en.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});en.set(e,t)}var sn={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return en.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||tn.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function cn(e){sn=e(sn)}function ln(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(fn(this),t,...n);return tn.set(r,t.sort?t.sort():[t]),dn(r)}:Qt().includes(e)?function(...t){return e.apply(fn(this),t),dn($t.get(this))}:function(...t){return dn(e.apply(fn(this),t))}}function un(e){return typeof e==`function`?ln(e):(e instanceof IDBTransaction&&on(e),Jt(e,Zt())?new Proxy(e,sn):e)}function dn(e){if(e instanceof IDBRequest)return an(e);if(nn.has(e))return nn.get(e);let t=un(e);return t!==e&&(nn.set(e,t),rn.set(t,e)),t}var fn=e=>rn.get(e);function pn(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=dn(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(dn(o.result),e.oldVersion,e.newVersion,dn(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var mn=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],hn=[`put`,`add`,`delete`,`clear`],gn=new Map;function _n(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(gn.get(t))return gn.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=hn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mn.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return gn.set(t,a),a}cn(e=>({...e,get:(t,n,r)=>_n(t,n)||e.get(t,n,r),has:(t,n)=>!!_n(t,n)||e.has(t,n)}));var vn=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(yn(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function yn(e){return e.getComponent()?.type===`VERSION`}var bn=`@firebase/app`,xn=`0.14.8`,Sn=new qt(`@firebase/app`),Cn=`@firebase/app-compat`,wn=`@firebase/analytics-compat`,Tn=`@firebase/analytics`,En=`@firebase/app-check-compat`,Dn=`@firebase/app-check`,On=`@firebase/auth`,kn=`@firebase/auth-compat`,An=`@firebase/database`,jn=`@firebase/data-connect`,Mn=`@firebase/database-compat`,Nn=`@firebase/functions`,Pn=`@firebase/functions-compat`,Fn=`@firebase/installations`,In=`@firebase/installations-compat`,Ln=`@firebase/messaging`,Rn=`@firebase/messaging-compat`,zn=`@firebase/performance`,Bn=`@firebase/performance-compat`,Vn=`@firebase/remote-config`,Hn=`@firebase/remote-config-compat`,Un=`@firebase/storage`,Wn=`@firebase/storage-compat`,Gn=`@firebase/firestore`,Kn=`@firebase/ai`,qn=`@firebase/firestore-compat`,Jn=`firebase`,Yn=`12.9.0`,Xn=`[DEFAULT]`,Zn={[bn]:`fire-core`,[Cn]:`fire-core-compat`,[Tn]:`fire-analytics`,[wn]:`fire-analytics-compat`,[Dn]:`fire-app-check`,[En]:`fire-app-check-compat`,[On]:`fire-auth`,[kn]:`fire-auth-compat`,[An]:`fire-rtdb`,[jn]:`fire-data-connect`,[Mn]:`fire-rtdb-compat`,[Nn]:`fire-fn`,[Pn]:`fire-fn-compat`,[Fn]:`fire-iid`,[In]:`fire-iid-compat`,[Ln]:`fire-fcm`,[Rn]:`fire-fcm-compat`,[zn]:`fire-perf`,[Bn]:`fire-perf-compat`,[Vn]:`fire-rc`,[Hn]:`fire-rc-compat`,[Un]:`fire-gcs`,[Wn]:`fire-gcs-compat`,[Gn]:`fire-fst`,[qn]:`fire-fst-compat`,[Kn]:`fire-vertex`,"fire-js":`fire-js`,[Jn]:`fire-js-all`},Qn=new Map,$n=new Map,er=new Map;function tr(e,t){try{e.container.addComponent(t)}catch(n){Sn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function nr(e){let t=e.name;if(er.has(t))return Sn.debug(`There were multiple attempts to register component ${t}.`),!1;er.set(t,e);for(let t of Qn.values())tr(t,e);for(let t of $n.values())tr(t,e);return!0}function rr(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ir(e){return e==null?!1:e.settings!==void 0}var ar=new St(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),or=class{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new It(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create(`app-deleted`,{appName:this._name})}},sr=Yn;function cr(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r={name:Xn,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!=`string`||!i)throw ar.create(`bad-app-name`,{appName:String(i)});if(n||=$e(),!n)throw ar.create(`no-options`);let a=Qn.get(i);if(a){if(Et(n,a.options)&&Et(r,a.config))return a;throw ar.create(`duplicate-app`,{appName:i})}let o=new Vt(i);for(let e of er.values())o.addComponent(e);let s=new or(n,r,o);return Qn.set(i,s),s}function lr(e=Xn){let t=Qn.get(e);if(!t&&e===`[DEFAULT]`&&$e())return cr();if(!t)throw ar.create(`no-app`,{appName:e});return t}function ur(e,t,n){let r=Zn[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Sn.warn(e.join(` `));return}nr(new It(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}var dr=`firebase-heartbeat-database`,fr=1,pr=`firebase-heartbeat-store`,mr=null;function hr(){return mr||=pn(dr,fr,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(pr)}catch(e){console.warn(e)}}}}).catch(e=>{throw ar.create(`idb-open`,{originalErrorMessage:e.message})}),mr}async function gr(e){try{let t=(await hr()).transaction(pr),n=await t.objectStore(pr).get(vr(e));return await t.done,n}catch(e){if(e instanceof xt)Sn.warn(e.message);else{let t=ar.create(`idb-get`,{originalErrorMessage:e?.message});Sn.warn(t.message)}}}async function _r(e,t){try{let n=(await hr()).transaction(pr,`readwrite`);await n.objectStore(pr).put(t,vr(e)),await n.done}catch(e){if(e instanceof xt)Sn.warn(e.message);else{let t=ar.create(`idb-set`,{originalErrorMessage:e?.message});Sn.warn(t.message)}}}function vr(e){return`${e.name}!${e.options.appId}`}var yr=1024,br=30,xr=class{constructor(e){this.container=e,this._heartbeatsCache=null,this._storage=new wr(this.container.getProvider(`app`).getImmediate()),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=Sr();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>br){let e=Er(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Sn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=Sr(),{heartbeatsToSend:t,unsentEntries:n}=Cr(this._heartbeatsCache.heartbeats),r=Ge(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Sn.warn(e),``}}};function Sr(){return new Date().toISOString().substring(0,10)}function Cr(e,t=yr){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(!e){if(n.push({agent:i.agent,dates:[i.date]}),Tr(n)>t){n.pop();break}}else if(e.dates.push(i.date),Tr(n)>t){e.dates.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var wr=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vt()?yt().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await gr(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return _r(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return _r(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function Tr(e){return Ge(JSON.stringify({version:2,heartbeats:e})).length}function Er(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Dr(e){nr(new It(`platform-logger`,e=>new vn(e),`PRIVATE`)),nr(new It(`heartbeat`,e=>new xr(e),`PRIVATE`)),ur(bn,xn,e),ur(bn,xn,`esm2020`),ur(`fire-js`,``)}Dr(``),ur(`firebase`,`12.9.0`,`app`);function Or(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var kr=Or,Ar=new St(`auth`,`Firebase`,Or()),jr=new qt(`@firebase/auth`);function Mr(e,...t){jr.logLevel<=D.WARN&&jr.warn(`Auth (${sr}): ${e}`,...t)}function Nr(e,...t){jr.logLevel<=D.ERROR&&jr.error(`Auth (${sr}): ${e}`,...t)}function Pr(e,...t){throw Rr(e,...t)}function Fr(e,...t){return Rr(e,...t)}function Ir(e,t,n){return new St(`auth`,`Firebase`,{...kr(),[t]:n}).create(t,{appName:e.name})}function Lr(e){return Ir(e,`operation-not-supported-in-this-environment`,`Operations that alter the current user are not supported in conjunction with FirebaseServerApp`)}function Rr(e,...t){if(typeof e!=`string`){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Ar.create(e,...t)}function O(e,t,...n){if(!e)throw Rr(t,...n)}function zr(e){let t=`INTERNAL ASSERTION FAILED: `+e;throw Nr(t),Error(t)}function Br(e,t){e||zr(t)}function Vr(){return typeof self<`u`&&self.location?.href||``}function Hr(){return Ur()===`http:`||Ur()===`https:`}function Ur(){return typeof self<`u`&&self.location?.protocol||null}function Wr(){return typeof navigator<`u`&&navigator&&`onLine`in navigator&&typeof navigator.onLine==`boolean`&&(Hr()||pt()||`connection`in navigator)?navigator.onLine:!0}function Gr(){if(typeof navigator>`u`)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Kr=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Br(t>e,`Short delay should be less than long delay!`),this.isMobile=ut()||mt()}get(){return Wr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function qr(e,t){Br(e.emulator,`Emulator should always be set here`);let{url:n}=e.emulator;return t?`${n}${t.startsWith(`/`)?t.slice(1):t}`:n}var Jr=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<`u`&&`fetch`in self)return self.fetch;if(typeof globalThis<`u`&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<`u`)return fetch;zr(`Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<`u`&&`Headers`in self)return self.Headers;if(typeof globalThis<`u`&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<`u`)return Headers;zr(`Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<`u`&&`Response`in self)return self.Response;if(typeof globalThis<`u`&&globalThis.Response)return globalThis.Response;if(typeof Response<`u`)return Response;zr(`Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}},Yr={CREDENTIAL_MISMATCH:`custom-token-mismatch`,MISSING_CUSTOM_TOKEN:`internal-error`,INVALID_IDENTIFIER:`invalid-email`,MISSING_CONTINUE_URI:`internal-error`,INVALID_PASSWORD:`wrong-password`,MISSING_PASSWORD:`missing-password`,INVALID_LOGIN_CREDENTIALS:`invalid-credential`,EMAIL_EXISTS:`email-already-in-use`,PASSWORD_LOGIN_DISABLED:`operation-not-allowed`,INVALID_IDP_RESPONSE:`invalid-credential`,INVALID_PENDING_TOKEN:`invalid-credential`,FEDERATED_USER_ID_ALREADY_LINKED:`credential-already-in-use`,MISSING_REQ_TYPE:`internal-error`,EMAIL_NOT_FOUND:`user-not-found`,RESET_PASSWORD_EXCEED_LIMIT:`too-many-requests`,EXPIRED_OOB_CODE:`expired-action-code`,INVALID_OOB_CODE:`invalid-action-code`,MISSING_OOB_CODE:`internal-error`,CREDENTIAL_TOO_OLD_LOGIN_AGAIN:`requires-recent-login`,INVALID_ID_TOKEN:`invalid-user-token`,TOKEN_EXPIRED:`user-token-expired`,USER_NOT_FOUND:`user-token-expired`,TOO_MANY_ATTEMPTS_TRY_LATER:`too-many-requests`,PASSWORD_DOES_NOT_MEET_REQUIREMENTS:`password-does-not-meet-requirements`,INVALID_CODE:`invalid-verification-code`,INVALID_SESSION_INFO:`invalid-verification-id`,INVALID_TEMPORARY_PROOF:`invalid-credential`,MISSING_SESSION_INFO:`missing-verification-id`,SESSION_EXPIRED:`code-expired`,MISSING_ANDROID_PACKAGE_NAME:`missing-android-pkg-name`,UNAUTHORIZED_DOMAIN:`unauthorized-continue-uri`,INVALID_OAUTH_CLIENT_ID:`invalid-oauth-client-id`,ADMIN_ONLY_OPERATION:`admin-restricted-operation`,INVALID_MFA_PENDING_CREDENTIAL:`invalid-multi-factor-session`,MFA_ENROLLMENT_NOT_FOUND:`multi-factor-info-not-found`,MISSING_MFA_ENROLLMENT_ID:`missing-multi-factor-info`,MISSING_MFA_PENDING_CREDENTIAL:`missing-multi-factor-session`,SECOND_FACTOR_EXISTS:`second-factor-already-in-use`,SECOND_FACTOR_LIMIT_EXCEEDED:`maximum-second-factor-count-exceeded`,BLOCKING_FUNCTION_ERROR_RESPONSE:`internal-error`,RECAPTCHA_NOT_ENABLED:`recaptcha-not-enabled`,MISSING_RECAPTCHA_TOKEN:`missing-recaptcha-token`,INVALID_RECAPTCHA_TOKEN:`invalid-recaptcha-token`,INVALID_RECAPTCHA_ACTION:`invalid-recaptcha-action`,MISSING_CLIENT_TYPE:`missing-client-type`,MISSING_RECAPTCHA_VERSION:`missing-recaptcha-version`,INVALID_RECAPTCHA_VERSION:`invalid-recaptcha-version`,INVALID_REQ_TYPE:`invalid-req-type`},Xr=[`/v1/accounts:signInWithCustomToken`,`/v1/accounts:signInWithEmailLink`,`/v1/accounts:signInWithIdp`,`/v1/accounts:signInWithPassword`,`/v1/accounts:signInWithPhoneNumber`,`/v1/token`],Zr=new Kr(3e4,6e4);function Qr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function $r(e,t,n,r,i={}){return ei(e,i,async()=>{let i={},a={};r&&(t===`GET`?a=r:i={body:JSON.stringify(r)});let o=Ot({key:e.config.apiKey,...a}).slice(1),s=await e._getAdditionalHeaders();s[`Content-Type`]=`application/json`,e.languageCode&&(s[`X-Firebase-Locale`]=e.languageCode);let c={method:t,headers:s,...i};return ft()||(c.referrerPolicy=`no-referrer`),e.emulatorConfig&&nt(e.emulatorConfig.host)&&(c.credentials=`include`),Jr.fetch()(await ni(e,e.config.apiHost,n,o),c)})}async function ei(e,t,n){e._canInitEmulator=!1;let r={...Yr,...t};try{let t=new ii(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if(`needConfirmation`in a)throw ai(e,`account-exists-with-different-credential`,a);if(i.ok&&!(`errorMessage`in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(` : `);if(t===`FEDERATED_USER_ID_ALREADY_LINKED`)throw ai(e,`credential-already-in-use`,a);if(t===`EMAIL_EXISTS`)throw ai(e,`email-already-in-use`,a);if(t===`USER_DISABLED`)throw ai(e,`user-disabled`,a);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,`-`);if(n)throw Ir(e,o,n);Pr(e,o)}}catch(t){if(t instanceof xt)throw t;Pr(e,`network-request-failed`,{message:String(t)})}}async function ti(e,t,n,r,i={}){let a=await $r(e,t,n,r,i);return`mfaPendingCredential`in a&&Pr(e,`multi-factor-auth-required`,{_serverResponse:a}),a}async function ni(e,t,n,r){let i=`${t}${n}?${r}`,a=e,o=a.config.emulator?qr(e.config,i):`${e.config.apiScheme}://${i}`;return Xr.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()===`COOKIE`)?a._getPersistence()._getFinalTarget(o).toString():o}function ri(e){switch(e){case`ENFORCE`:return`ENFORCE`;case`AUDIT`:return`AUDIT`;case`OFF`:return`OFF`;default:return`ENFORCEMENT_STATE_UNSPECIFIED`}}var ii=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Fr(this.auth,`network-request-failed`)),Zr.get())})}};function ai(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Fr(e,t,r);return i.customData._tokenResponse=n,i}function oi(e){return e!==void 0&&e.enterprise!==void 0}var si=class{constructor(e){if(this.siteKey=``,this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw Error(`recaptchaKey undefined`);this.siteKey=e.recaptchaKey.split(`/`)[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ri(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)===`ENFORCE`||this.getProviderEnforcementState(e)===`AUDIT`}isAnyProviderEnabled(){return this.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)||this.isProviderEnabled(`PHONE_PROVIDER`)}};async function ci(e,t){return $r(e,`GET`,`/v2/recaptchaConfig`,Qr(e,t))}async function li(e,t){return $r(e,`POST`,`/v1/accounts:delete`,t)}async function ui(e,t){return $r(e,`POST`,`/v1/accounts:lookup`,t)}function di(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fi(e,t=!1){let n=Ft(e),r=await n.getIdToken(t),i=mi(r);O(i&&i.exp&&i.auth_time&&i.iat,n.auth,`internal-error`);let a=typeof i.firebase==`object`?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:di(pi(i.auth_time)),issuedAtTime:di(pi(i.iat)),expirationTime:di(pi(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function pi(e){return Number(e)*1e3}function mi(e){let[t,n,r]=e.split(`.`);if(t===void 0||n===void 0||r===void 0)return Nr(`JWT malformed, contained fewer than 3 sections`),null;try{let e=Ke(n);return e?JSON.parse(e):(Nr(`Failed to decode base64 JWT payload`),null)}catch(e){return Nr(`Caught error parsing JWT payload as JSON`,e?.toString()),null}}function hi(e){let t=mi(e);return O(t,`internal-error`),O(t.exp!==void 0,`internal-error`),O(t.iat!==void 0,`internal-error`),Number(t.exp)-Number(t.iat)}async function gi(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof xt&&_i(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function _i({code:e}){return e===`auth/user-disabled`||e===`auth/user-token-expired`}var vi=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code===`auth/network-request-failed`&&this.schedule(!0);return}this.schedule()}},yi=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=di(this.lastLoginAt),this.creationTime=di(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function bi(e){let t=e.auth,n=await gi(e,ui(t,{idToken:await e.getIdToken()}));O(n?.users.length,t,`internal-error`);let r=n.users[0];e._notifyReloadListener(r);let i=r.providerUserInfo?.length?Ci(r.providerUserInfo):[],a=Si(e.providerData,i),o=e.isAnonymous,s=!(e.email&&r.passwordHash)&&!a?.length,c=o?s:!1,l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new yi(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,l)}async function xi(e){let t=Ft(e);await bi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Si(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function Ci(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||``,displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function wi(e,t){let n=await ei(e,{},async()=>{let n=Ot({grant_type:`refresh_token`,refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await ni(e,r,`/v1/token`,`key=${i}`),o=await e._getAdditionalHeaders();o[`Content-Type`]=`application/x-www-form-urlencoded`;let s={method:`POST`,headers:o,body:n};return e.emulatorConfig&&nt(e.emulatorConfig.host)&&(s.credentials=`include`),Jr.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ti(e,t){return $r(e,`POST`,`/v2/accounts:revokeToken`,Qr(e,t))}var Ei=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,`internal-error`),O(e.idToken!==void 0,`internal-error`),O(e.refreshToken!==void 0,`internal-error`);let t=`expiresIn`in e&&e.expiresIn!==void 0?Number(e.expiresIn):hi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){O(e.length!==0,`internal-error`);let t=hi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(O(this.refreshToken,e,`user-token-expired`),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await wi(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new e;return r&&(O(typeof r==`string`,`internal-error`,{appName:t}),o.refreshToken=r),i&&(O(typeof i==`string`,`internal-error`,{appName:t}),o.accessToken=i),a&&(O(typeof a==`number`,`internal-error`,{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return zr(`not implemented`)}};function Di(e,t){O(typeof e==`string`||e===void 0,`internal-error`,{appName:t})}var Oi=class e{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId=`firebase`,this.proactiveRefresh=new vi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new yi(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await gi(this,this.stsTokenManager.getToken(this.auth,e));return O(t,this.auth,`internal-error`),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fi(this,e)}reload(){return xi(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,`internal-error`),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(t){let n=new e({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){O(!this.reloadListener,this.auth,`internal-error`),this.reloadListener=e,this.reloadUserInfo&&=(this._notifyReloadListener(this.reloadUserInfo),null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await bi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Lr(this.auth));let e=await this.getIdToken();return await gi(this,li(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||``}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:h}=n;O(d&&h,t,`internal-error`);let g=Ei.fromJSON(this.name,h);O(typeof d==`string`,t,`internal-error`),Di(r,t.name),Di(i,t.name),O(typeof f==`boolean`,t,`internal-error`),O(typeof p==`boolean`,t,`internal-error`),Di(a,t.name),Di(o,t.name),Di(s,t.name),Di(c,t.name),Di(l,t.name),Di(u,t.name);let _=new e({uid:d,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(_.providerData=m.map(e=>({...e}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,n,r=!1){let i=new Ei;i.updateFromServerResponse(n);let a=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await bi(a),a}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];O(i.localId!==void 0,`internal-error`);let a=i.providerUserInfo===void 0?[]:Ci(i.providerUserInfo),o=!(i.email&&i.passwordHash)&&!a?.length,s=new Ei;s.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new yi(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,l),c}},ki=new Map;function Ai(e){Br(e instanceof Function,`Expected a class definition`);let t=ki.get(e);return t?(Br(t instanceof e,`Instance stored in cache mismatched with class`),t):(t=new e,ki.set(e,t),t)}var ji=class{constructor(){this.type=`NONE`,this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};ji.type=`NONE`;var Mi=ji;function Ni(e,t,n){return`firebase:${e}:${t}:${n}`}var Pi=class e{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=Ni(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ni(`persistence`,r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e==`string`){let t=await ui(this.auth,{idToken:e}).catch(()=>void 0);return t?Oi._fromGetAccountInfoResponse(this.auth,t,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r=`authUser`){if(!n.length)return new e(Ai(Mi),t,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||Ai(Mi),o=Ni(r,t.config.apiKey,t.name),s=null;for(let e of n)try{let n=await e._get(o);if(n){let r;if(typeof n==`string`){let e=await ui(t,{idToken:n}).catch(()=>void 0);if(!e)break;r=await Oi._fromGetAccountInfoResponse(t,e,n)}else r=Oi._fromJSON(t,n);e!==a&&(s=r),a=e;break}}catch{}let c=i.filter(e=>e._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new e(a,t,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch{}})),new e(a,t,r))}};function Fi(e){let t=e.toLowerCase();if(t.includes(`opera/`)||t.includes(`opr/`)||t.includes(`opios/`))return`Opera`;if(zi(t))return`IEMobile`;if(t.includes(`msie`)||t.includes(`trident/`))return`IE`;if(t.includes(`edge/`))return`Edge`;if(Ii(t))return`Firefox`;if(t.includes(`silk/`))return`Silk`;if(Vi(t))return`Blackberry`;if(Hi(t))return`Webos`;if(Li(t))return`Safari`;if((t.includes(`chrome/`)||Ri(t))&&!t.includes(`edge/`))return`Chrome`;if(Bi(t))return`Android`;{let t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(t?.length===2)return t[1]}return`Other`}function Ii(e=lt()){return/firefox\//i.test(e)}function Li(e=lt()){let t=e.toLowerCase();return t.includes(`safari/`)&&!t.includes(`chrome/`)&&!t.includes(`crios/`)&&!t.includes(`android`)}function Ri(e=lt()){return/crios\//i.test(e)}function zi(e=lt()){return/iemobile/i.test(e)}function Bi(e=lt()){return/android/i.test(e)}function Vi(e=lt()){return/blackberry/i.test(e)}function Hi(e=lt()){return/webos/i.test(e)}function Ui(e=lt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Wi(e=lt()){return Ui(e)&&!!window.navigator?.standalone}function k(){return ht()&&document.documentMode===10}function Gi(e=lt()){return Ui(e)||Bi(e)||Hi(e)||Vi(e)||/windows phone/i.test(e)||zi(e)}function Ki(e,t=[]){let n;switch(e){case`Browser`:n=Fi(lt());break;case`Worker`:n=`${Fi(lt())}-${e}`;break;default:n=e}let r=t.length?t.join(`,`):`FirebaseCore-web`;return`${n}/JsCore/${sr}/${r}`}var qi=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(let e of t)try{e()}catch{}throw this.auth._errorFactory.create(`login-blocked`,{originalMessage:e?.message})}}};async function Ji(e,t={}){return $r(e,`GET`,`/v2/passwordPolicy`,Qr(e,t))}var Yi=6,Xi=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Yi,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState===`ENFORCEMENT_STATE_UNSPECIFIED`&&(this.enforcementState=`OFF`),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join(``)??``,this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&=t.meetsMinPasswordLength??!0,t.isValid&&=t.meetsMaxPasswordLength??!0,t.isValid&&=t.containsLowercaseLetter??!0,t.isValid&&=t.containsUppercaseLetter??!0,t.isValid&&=t.containsNumericCharacter??!0,t.isValid&&=t.containsNonAlphanumericCharacter??!0,t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>=`a`&&n<=`z`,n>=`A`&&n<=`Z`,n>=`0`&&n<=`9`,this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||=t),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||=n),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||=r),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||=i)}},Zi=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $i(this),this.idTokenSubscription=new $i(this),this.beforeStateQueue=new qi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ar,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pi.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await ui(this,{idToken:e}),n=await Oi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn(`FirebaseServerApp could not login user with provided authIdToken: `,e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ir(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===i)&&a?.user&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return O(this._popupRedirectResolver,this,`argument-error`),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bi(e)}catch(e){if(e?.code!==`auth/network-request-failed`)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gr()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Lr(this));let t=e?Ft(e):null;return t&&O(t.auth.config.apiKey===this.config.apiKey,this,`invalid-user-token`),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&O(this.tenantId===e.tenantId,this,`tenant-id-mismatch`),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?t.validatePassword(e):Promise.reject(this._errorFactory.create(`unsupported-password-policy-schema-version`,{}))}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new Xi(await Ji(this));this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new St(`auth`,`Firebase`,e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:`apple.com`,tokenType:`ACCESS_TOKEN`,token:e,idToken:await this.currentUser.getIdToken()};this.tenantId!=null&&(t.tenantId=this.tenantId),await Ti(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Ai(e)||this._popupRedirectResolver;O(t,this,`argument-error`),this.redirectPersistenceManager=await Pi.create(this,[Ai(t._redirectPersistence)],`redirectUser`),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i=typeof t==`function`?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(O(o,this,`internal-error`),o.then(()=>{a||i(this.currentUser)}),typeof t==`function`){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}else{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,`internal-error`),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ki(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e[`X-Firebase-gmpid`]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e[`X-Firebase-Client`]=t);let n=await this._getAppCheckToken();return n&&(e[`X-Firebase-AppCheck`]=n),e}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Mr(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Qi(e){return Ft(e)}var $i=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=jt(e=>this.observer=e)}get next(){return O(this.observer,this.auth,`internal-error`),this.observer.next.bind(this.observer)}},ea={async loadJS(){throw Error(`Unable to load external scripts`)},recaptchaV2Script:``,recaptchaEnterpriseScript:``,gapiScript:``};function ta(e){ea=e}function na(e){return ea.loadJS(e)}function ra(){return ea.recaptchaEnterpriseScript}function ia(){return ea.gapiScript}function aa(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var oa=class{constructor(){this.enterprise=new sa}ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},sa=class{ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},ca=`recaptcha-enterprise`,la=`NO_RECAPTCHA`,ua=class{constructor(e){this.type=ca,this.auth=Qi(e)}async verify(e=`verify`,t=!1){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null)return e._agentRecaptchaConfig.siteKey;if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==void 0)return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ci(e,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}).then(r=>{if(r.recaptchaKey===void 0)n(Error(`recaptcha Enterprise site key undefined`));else{let n=new si(r);return e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;oi(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(la)})}):r(Error(`No reCAPTCHA enterprise script loaded.`))}return this.auth.settings.appVerificationDisabledForTesting?new oa().execute(`siteKey`,{action:`verify`}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&oi(window.grecaptcha))r(n,e,i);else{if(typeof window>`u`){i(Error(`RecaptchaVerifier is only supported in browser`));return}let t=ra();t.length!==0&&(t+=n),na(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}};async function da(e,t,n,r=!1,i=!1){let a=new ua(e),o;if(i)o=la;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}let s={...t};if(n===`mfaSmsEnrollment`||n===`mfaSmsSignIn`){if(`phoneEnrollmentInfo`in s){let e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}else if(`phoneSignInInfo`in s){let e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:`CLIENT_TYPE_WEB`}),Object.assign(s,{recaptchaVersion:`RECAPTCHA_ENTERPRISE`}),s}async function fa(e,t,n,r,i){return i===`EMAIL_PASSWORD_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)?r(e,await da(e,t,n,n===`getOobCode`)):r(e,t).catch(async i=>i.code===`auth/missing-recaptcha-token`?(console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`),r(e,await da(e,t,n,n===`getOobCode`))):Promise.reject(i)):i===`PHONE_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`PHONE_PROVIDER`)?r(e,await da(e,t,n)).catch(async i=>e._getRecaptchaConfig()?.getProviderEnforcementState(`PHONE_PROVIDER`)===`AUDIT`&&(i.code===`auth/missing-recaptcha-token`||i.code===`auth/invalid-app-credential`)?(console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`),r(e,await da(e,t,n,!1,!0))):Promise.reject(i)):r(e,await da(e,t,n,!1,!0)):Promise.reject(i+` provider is not supported.`)}async function pa(e){let t=Qi(e),n=new si(await ci(t,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}));t.tenantId==null?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new ua(t).verify()}function ma(e,t){let n=rr(e,`auth`);if(n.isInitialized()){let e=n.getImmediate();if(Et(n.getOptions(),t??{}))return e;Pr(e,`already-initialized`)}return n.initialize({options:t})}function ha(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ai);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function ga(e,t,n){let r=Qi(e);O(/^https?:\/\//.test(t),r,`invalid-emulator-scheme`);let i=!!n?.disableWarnings,a=_a(t),{host:o,port:s}=va(t),c=s===null?``:`:${s}`,l={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(`:`,``),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){O(r.config.emulator&&r.emulatorConfig,r,`emulator-config-failed`),O(Et(l,r.config.emulator)&&Et(u,r.emulatorConfig),r,`emulator-config-failed`);return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,nt(o)?(rt(`${a}//${o}${c}`),ct(`Auth`,!0)):i||ba()}function _a(e){let t=e.indexOf(`:`);return t<0?``:e.substr(0,t+1)}function va(e){let t=_a(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:``,port:null};let r=n[2].split(`@`).pop()||``,i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:ya(r.substr(e.length+1))}}else{let[e,t]=r.split(`:`);return{host:e,port:ya(t)}}}function ya(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function ba(){function e(){let e=document.createElement(`p`),t=e.style;e.innerText=`Running in emulator mode. Do not use with production credentials.`,t.position=`fixed`,t.width=`100%`,t.backgroundColor=`#ffffff`,t.border=`.1em solid #000000`,t.color=`#b50000`,t.bottom=`0px`,t.left=`0px`,t.margin=`0px`,t.zIndex=`10000`,t.textAlign=`center`,e.classList.add(`firebase-emulator-warning`),document.body.appendChild(e)}typeof console<`u`&&typeof console.info==`function`&&console.info(`WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.`),typeof window<`u`&&typeof document<`u`&&(document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,e):e())}var xa=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr(`not implemented`)}_getIdTokenResponse(e){return zr(`not implemented`)}_linkToIdToken(e,t){return zr(`not implemented`)}_getReauthenticationResolver(e){return zr(`not implemented`)}};async function Sa(e,t){return $r(e,`POST`,`/v1/accounts:signUp`,t)}async function Ca(e,t){return ti(e,`POST`,`/v1/accounts:signInWithPassword`,Qr(e,t))}async function wa(e,t){return ti(e,`POST`,`/v1/accounts:signInWithEmailLink`,Qr(e,t))}async function Ta(e,t){return ti(e,`POST`,`/v1/accounts:signInWithEmailLink`,Qr(e,t))}var Ea=class e extends xa{constructor(e,t,n,r=null){super(`password`,n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,`password`)}static _fromEmailAndCode(t,n,r=null){return new e(t,n,`emailLink`,r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e==`string`?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod===`password`)return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod===`emailLink`)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case`password`:return fa(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signInWithPassword`,Ca,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return wa(e,{email:this._email,oobCode:this._password});default:Pr(e,`internal-error`)}}async _linkToIdToken(e,t){switch(this.signInMethod){case`password`:return fa(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,Sa,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return Ta(e,{idToken:t,email:this._email,oobCode:this._password});default:Pr(e,`internal-error`)}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Da(e,t){return ti(e,`POST`,`/v1/accounts:signInWithIdp`,Qr(e,t))}var Oa=`http://localhost`,ka=class e extends xa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Pr(`argument-error`),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let{providerId:n,signInMethod:r,...i}=typeof t==`string`?JSON.parse(t):t;if(!n||!r)return null;let a=new e(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Da(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,Da(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Da(e,t)}buildRequest(){let e={requestUri:Oa,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ot(t)}return e}};async function Aa(e,t){return $r(e,`POST`,`/v1/accounts:sendVerificationCode`,Qr(e,t))}async function ja(e,t){return ti(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Qr(e,t))}async function Ma(e,t){let n=await ti(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Qr(e,t));if(n.temporaryProof)throw ai(e,`account-exists-with-different-credential`,n);return n}var Na={USER_NOT_FOUND:`user-not-found`};async function Pa(e,t){return ti(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Qr(e,{...t,operation:`REAUTH`}),Na)}var Fa=class e extends xa{constructor(e){super(`phone`,`phone`),this.params=e}static _fromVerification(t,n){return new e({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new e({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(e){return ja(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Ma(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Pa(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(t){typeof t==`string`&&(t=JSON.parse(t));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=t;return!r&&!n&&!i&&!a?null:new e({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}};function Ia(e){switch(e){case`recoverEmail`:return`RECOVER_EMAIL`;case`resetPassword`:return`PASSWORD_RESET`;case`signIn`:return`EMAIL_SIGNIN`;case`verifyEmail`:return`VERIFY_EMAIL`;case`verifyAndChangeEmail`:return`VERIFY_AND_CHANGE_EMAIL`;case`revertSecondFactorAddition`:return`REVERT_SECOND_FACTOR_ADDITION`;default:return null}}function La(e){let t=kt(At(e)).link,n=t?kt(At(t)).deep_link_id:null,r=kt(At(e)).deep_link_id;return(r?kt(At(r)).link:null)||r||n||t||e}var Ra=class e{constructor(e){let t=kt(At(e)),n=t.apiKey??null,r=t.oobCode??null,i=Ia(t.mode??null);O(n&&r&&i,`argument-error`),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(t){let n=La(t);try{return new e(n)}catch{return null}}},za=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Ea._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=Ra.parseLink(t);return O(n,`argument-error`),Ea._fromEmailAndCode(e,n.code,n.tenantId)}};za.PROVIDER_ID=`password`,za.EMAIL_PASSWORD_SIGN_IN_METHOD=`password`,za.EMAIL_LINK_SIGN_IN_METHOD=`emailLink`;var Ba=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}},Va=class extends Ba{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Ha=class e extends Va{constructor(){super(`facebook.com`)}static credential(t){return ka._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Ha.FACEBOOK_SIGN_IN_METHOD=`facebook.com`,Ha.PROVIDER_ID=`facebook.com`;var Ua=class e extends Va{constructor(){super(`google.com`),this.addScope(`profile`)}static credential(t,n){return ka._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};Ua.GOOGLE_SIGN_IN_METHOD=`google.com`,Ua.PROVIDER_ID=`google.com`;var Wa=class e extends Va{constructor(){super(`github.com`)}static credential(t){return ka._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Wa.GITHUB_SIGN_IN_METHOD=`github.com`,Wa.PROVIDER_ID=`github.com`;var Ga=class e extends Va{constructor(){super(`twitter.com`)}static credential(t,n){return ka._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};Ga.TWITTER_SIGN_IN_METHOD=`twitter.com`,Ga.PROVIDER_ID=`twitter.com`;async function Ka(e,t){return ti(e,`POST`,`/v1/accounts:signUp`,Qr(e,t))}var qa=class e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){return new e({user:await Oi._fromIdTokenResponse(t,r,i),providerId:Ja(r),_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){return await t._updateTokensIfNecessary(r,!0),new e({user:t,providerId:Ja(r),_tokenResponse:r,operationType:n})}};function Ja(e){return e.providerId?e.providerId:`phoneNumber`in e?`phone`:null}async function Ya(e){if(ir(e.app))return Promise.reject(Lr(e));let t=Qi(e);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new qa({user:t.currentUser,providerId:null,operationType:`signIn`});let n=await Ka(t,{returnSecureToken:!0}),r=await qa._fromIdTokenResponse(t,`signIn`,n,!0);return await t._updateCurrentUser(r.user),r}var Xa=class e extends xt{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function Za(e,t,n,r){return(t===`reauthenticate`?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw n.code===`auth/multi-factor-auth-required`?Xa._fromErrorAndOperation(e,n,t,r):n})}async function Qa(e,t,n=!1){let r=await gi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qa._forOperation(e,`link`,r)}async function $a(e,t,n=!1){let{auth:r}=e;if(ir(r.app))return Promise.reject(Lr(r));let i=`reauthenticate`;try{let a=await gi(e,Za(r,i,t,e),n);O(a.idToken,r,`internal-error`);let o=mi(a.idToken);O(o,r,`internal-error`);let{sub:s}=o;return O(e.uid===s,r,`user-mismatch`),qa._forOperation(e,i,a)}catch(e){throw e?.code===`auth/user-not-found`&&Pr(r,`user-mismatch`),e}}async function eo(e,t,n=!1){if(ir(e.app))return Promise.reject(Lr(e));let r=`signIn`,i=await Za(e,r,t),a=await qa._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function to(e,t){return ti(e,`POST`,`/v1/accounts:signInWithCustomToken`,Qr(e,t))}async function no(e,t){if(ir(e.app))return Promise.reject(Lr(e));let n=Qi(e),r=await to(n,{token:t,returnSecureToken:!0}),i=await qa._fromIdTokenResponse(n,`signIn`,r);return await n._updateCurrentUser(i.user),i}function ro(e,t,n,r){return Ft(e).onIdTokenChanged(t,n,r)}function io(e,t,n){return Ft(e).beforeAuthStateChanged(t,n)}function ao(e,t,n,r){return Ft(e).onAuthStateChanged(t,n,r)}function oo(e,t){return $r(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Qr(e,t))}function so(e,t){return $r(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Qr(e,t))}function co(e,t){return $r(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Qr(e,t))}function lo(e,t){return $r(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Qr(e,t))}var uo=`__sak`,fo=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(uo,`1`),this.storage.removeItem(uo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}},po=1e3,mo=10,ho=class extends fo{constructor(){super(()=>window.localStorage,`LOCAL`),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);k()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,mo):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent(`storage`,{key:e,oldValue:t,newValue:n}),!0)})},po)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}attachListener(){window.addEventListener(`storage`,this.boundEventHandler)}detachListener(){window.removeEventListener(`storage`,this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};ho.type=`LOCAL`;var go=ho,_o=1e3;function vo(e){let t=e.replace(/[\\^$.*+?()[\]{}|]/g,`\\$&`),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function yo(e){return`${window.location.protocol===`http:`?`__dev_`:`__HOST-`}FIREBASE_${e.split(`:`)[3]}`}var bo=class{constructor(){this.type=`COOKIE`,this.listenerUnsubscribes=new Map}_getFinalTarget(e){let t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set(`finalTarget`,e),t}async _isAvailable(){return typeof isSecureContext==`boolean`&&!isSecureContext||typeof navigator>`u`||typeof document>`u`?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;let t=yo(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:vo(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let t=yo(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch(`/__cookies__`,{method:`DELETE`}).catch(()=>void 0)}_addListener(e,t){if(!this._isAvailable())return;let n=yo(e);if(window.cookieStore){let e=(e=>{let r=e.changed.find(e=>e.name===n);r&&t(r.value),e.deleted.find(e=>e.name===n)&&t(null)});return this.listenerUnsubscribes.set(t,()=>window.cookieStore.removeEventListener(`change`,e)),window.cookieStore.addEventListener(`change`,e)}let r=vo(n),i=setInterval(()=>{let e=vo(n);e!==r&&(t(e),r=e)},_o);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){let n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}};bo.type=`COOKIE`;var xo=class extends fo{constructor(){super(()=>window.sessionStorage,`SESSION`)}_addListener(e,t){}_removeListener(e,t){}};xo.type=`SESSION`;var So=xo;function Co(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}var A=class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:`ack`,eventId:n,eventType:r});let o=await Co(Array.from(a).map(async e=>e(t.origin,i)));t.ports[0].postMessage({status:`done`,eventId:n,eventType:r,response:o})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener(`message`,this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener(`message`,this.boundEventHandler)}};A.receivers=[];function j(e=``,t=10){let n=``;for(let e=0;e<t;e++)n+=Math.floor(Math.random()*10);return e+n}var wo=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener(`message`,e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r=typeof MessageChannel<`u`?new MessageChannel:null;if(!r)throw Error(`connection_unavailable`);let i,a;return new Promise((o,s)=>{let c=j(``,20);r.port1.start();let l=setTimeout(()=>{s(Error(`unsupported_event`))},n);a={messageChannel:r,onMessage(e){let t=e;if(t.data.eventId===c)switch(t.data.status){case`ack`:clearTimeout(l),i=setTimeout(()=>{s(Error(`timeout`))},3e3);break;case`done`:clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(Error(`invalid_response`));break}}},this.handlers.add(a),r.port1.addEventListener(`message`,a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function To(){return window}function Eo(e){To().location.href=e}function Do(){return To().WorkerGlobalScope!==void 0&&typeof To().importScripts==`function`}async function Oo(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ko(){return navigator?.serviceWorker?.controller||null}function Ao(){return Do()?self:null}var jo=`firebaseLocalStorageDb`,Mo=1,No=`firebaseLocalStorage`,Po=`fbase_key`,Fo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener(`success`,()=>{e(this.request.result)}),this.request.addEventListener(`error`,()=>{t(this.request.error)})})}};function Io(e,t){return e.transaction([No],t?`readwrite`:`readonly`).objectStore(No)}function Lo(){return new Fo(indexedDB.deleteDatabase(jo)).toPromise()}function Ro(){let e=indexedDB.open(jo,Mo);return new Promise((t,n)=>{e.addEventListener(`error`,()=>{n(e.error)}),e.addEventListener(`upgradeneeded`,()=>{let t=e.result;try{t.createObjectStore(No,{keyPath:Po})}catch(e){n(e)}}),e.addEventListener(`success`,async()=>{let n=e.result;n.objectStoreNames.contains(No)?t(n):(n.close(),await Lo(),t(await Ro()))})})}async function zo(e,t,n){return new Fo(Io(e,!0).put({[Po]:t,value:n})).toPromise()}async function Bo(e,t){let n=await new Fo(Io(e,!1).get(t)).toPromise();return n===void 0?null:n.value}function Vo(e,t){return new Fo(Io(e,!0).delete(t)).toPromise()}var Ho=800,Uo=3,Wo=class{constructor(){this.type=`LOCAL`,this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||=await Ro(),this.db}async _withRetries(e){let t=0;for(;;)try{return await e(await this._openDb())}catch(e){if(t++>Uo)throw e;this.db&&=(this.db.close(),void 0)}}async initializeServiceWorkerMessaging(){return Do()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=A._getInstance(Ao()),this.receiver._subscribe(`keyChanged`,async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe(`ping`,async(e,t)=>[`keyChanged`])}async initializeSender(){if(this.activeServiceWorker=await Oo(),!this.activeServiceWorker)return;this.sender=new wo(this.activeServiceWorker);let e=await this.sender._send(`ping`,{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes(`keyChanged`)&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ko()!==this.activeServiceWorker))try{await this.sender._send(`keyChanged`,{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await Ro();return await zo(e,uo,`1`),await Vo(e,uo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>zo(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>Bo(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vo(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new Fo(Io(e,!1).getAll()).toPromise());if(!e||this.pendingWrites!==0)return[];let t=[],n=new Set;if(e.length!==0)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ho)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Wo.type=`LOCAL`;var Go=Wo;function Ko(e,t){return $r(e,`POST`,`/v2/accounts/mfaSignIn:start`,Qr(e,t))}function qo(e,t){return $r(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Qr(e,t))}function Jo(e,t){return $r(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Qr(e,t))}aa(`rcb`),new Kr(3e4,6e4);var Yo=`recaptcha`;async function Xo(e,t,n){if(!e._getRecaptchaConfig())try{await pa(e)}catch{console.log(`Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.`)}try{let r;if(r=typeof t==`string`?{phoneNumber:t}:t,`session`in r){let t=r.session;if(`phoneNumber`in r)return O(t.type===`enroll`,e,`internal-error`),(await fa(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`}},`mfaSmsEnrollment`,async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===la?(O(n?.type===Yo,e,`argument-error`),oo(e,await Zo(e,t,n))):oo(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo;{O(t.type===`signin`,e,`internal-error`);let i=r.multiFactorHint?.uid||r.multiFactorUid;return O(i,e,`missing-multi-factor-info`),(await fa(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:`CLIENT_TYPE_WEB`}},`mfaSmsSignIn`,async(e,t)=>t.phoneSignInInfo.captchaResponse===la?(O(n?.type===Yo,e,`argument-error`),Ko(e,await Zo(e,t,n))):Ko(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}else return(await fa(e,{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`},`sendVerificationCode`,async(e,t)=>t.captchaResponse===la?(O(n?.type===Yo,e,`argument-error`),Aa(e,await Zo(e,t,n))):Aa(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).sessionInfo}finally{n?._reset()}}async function Zo(e,t,n){O(n.type===Yo,e,`argument-error`);let r=await n.verify();O(typeof r==`string`,e,`argument-error`);let i={...t};if(`phoneEnrollmentInfo`in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}else if(`phoneSignInInfo`in i){let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}else return Object.assign(i,{recaptchaToken:r}),i}var Qo=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Qi(t)}verifyPhoneNumber(e,t){return Xo(this.auth,e,Ft(t))}static credential(e,t){return Fa._fromVerification(e,t)}static credentialFromResult(t){let n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?Fa._fromTokenResponse(t,n):null}};Qo.PROVIDER_ID=`phone`,Qo.PHONE_SIGN_IN_METHOD=`phone`;function $o(e,t){return t?Ai(t):(O(e._popupRedirectResolver,e,`argument-error`),e._popupRedirectResolver)}var es=class extends xa{constructor(e){super(`custom`,`custom`),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Da(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function ts(e){return eo(e.auth,new es(e),e.bypassAuthState)}function ns(e){let{auth:t,user:n}=e;return O(n,t,`internal-error`),$a(n,new es(e),e.bypassAuthState)}async function rs(e){let{auth:t,user:n}=e;return O(n,t,`internal-error`),Qa(n,new es(e),e.bypassAuthState)}var is=class{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case`signInViaPopup`:case`signInViaRedirect`:return ts;case`linkViaPopup`:case`linkViaRedirect`:return rs;case`reauthViaPopup`:case`reauthViaRedirect`:return ns;default:Pr(this.auth,`internal-error`)}}resolve(e){Br(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}},as=new Kr(2e3,1e4),os=class e extends is{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return O(e,this.auth,`internal-error`),e}async onExecution(){Br(this.filter.length===1,`Popup operations only handle one event`);let e=j();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Fr(this.auth,`web-storage-unsupported`))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fr(this.auth,`cancelled-popup-request`))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,`popup-closed-by-user`))},8e3);return}this.pollId=window.setTimeout(e,as.get())};e()}};os.currentPopupAction=null;var ss=`pendingRedirect`,cs=new Map,ls=class extends is{constructor(e,t,n=!1){super(e,[`signInViaRedirect`,`linkViaRedirect`,`reauthViaRedirect`,`unknown`],t,void 0,n),this.eventId=null}async execute(){let e=cs.get(this.auth._key());if(!e){try{let t=await us(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}cs.set(this.auth._key(),e)}return this.bypassAuthState||cs.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type===`signInViaRedirect`)return super.onAuthEvent(e);if(e.type===`unknown`){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function us(e,t){let n=ps(t),r=fs(e);if(!await r._isAvailable())return!1;let i=await r._get(n)===`true`;return await r._remove(n),i}function ds(e,t){cs.set(e._key(),t)}function fs(e){return Ai(e._redirectPersistence)}function ps(e){return Ni(ss,e.config.apiKey,e.name)}async function ms(e,t,n=!1){if(ir(e.app))return Promise.reject(Lr(e));let r=Qi(e),i=await new ls(r,$o(r,t),n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}var hs=600*1e3,gs=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ys(e)?t:(this.hasHandledPotentialRedirect=!0,t||=(this.queuedRedirectEvent=e,!0),t)}sendToConsumer(e,t){if(e.error&&!vs(e)){let n=e.error.code?.split(`auth/`)[1]||`internal-error`;t.onError(Fr(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hs&&this.cachedEventUids.clear(),this.cachedEventUids.has(_s(e))}saveEventToCache(e){this.cachedEventUids.add(_s(e)),this.lastProcessedEventTime=Date.now()}};function _s(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join(`-`)}function vs({type:e,error:t}){return e===`unknown`&&t?.code===`auth/no-auth-event`}function ys(e){switch(e.type){case`signInViaRedirect`:case`linkViaRedirect`:case`reauthViaRedirect`:return!0;case`unknown`:return vs(e);default:return!1}}async function bs(e,t={}){return $r(e,`GET`,`/v1/projects`,t)}var xs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ss=/^https?/;async function Cs(e){if(e.config.emulator)return;let{authorizedDomains:t}=await bs(e);for(let e of t)try{if(ws(e))return}catch{}Pr(e,`unauthorized-domain`)}function ws(e){let t=Vr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith(`chrome-extension://`)){let i=new URL(e);return i.hostname===``&&r===``?n===`chrome-extension:`&&e.replace(`chrome-extension://`,``)===t.replace(`chrome-extension://`,``):n===`chrome-extension:`&&i.hostname===r}if(!Ss.test(n))return!1;if(xs.test(e))return r===e;let i=e.replace(/\./g,`\\.`);return RegExp(`^(.+\\.`+i+`|`+i+`)$`,`i`).test(r)}var Ts=new Kr(3e4,6e4);function Es(){let e=To().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}function Ds(e){return new Promise((t,n)=>{function r(){Es(),gapi.load(`gapi.iframes`,{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Es(),n(Fr(e,`network-request-failed`))},timeout:Ts.get()})}if(To().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(To().gapi?.load)r();else{let t=aa(`iframefcb`);return To()[t]=()=>{gapi.load?r():n(Fr(e,`network-request-failed`))},na(`${ia()}?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw Os=null,e})}var Os=null;function ks(e){return Os||=Ds(e),Os}var As=new Kr(5e3,15e3),js=`__/auth/iframe`,Ms=`emulator/auth/iframe`,Ns={style:{position:`absolute`,top:`-100px`,width:`1px`,height:`1px`},"aria-hidden":`true`,tabindex:`-1`},Ps=new Map([[`identitytoolkit.googleapis.com`,`p`],[`staging-identitytoolkit.sandbox.googleapis.com`,`s`],[`test-identitytoolkit.sandbox.googleapis.com`,`t`]]);function Fs(e){let t=e.config;O(t.authDomain,e,`auth-domain-config-required`);let n=t.emulator?qr(t,Ms):`https://${e.config.authDomain}/${js}`,r={apiKey:t.apiKey,appName:e.name,v:sr},i=Ps.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(`,`)),`${n}?${Ot(r).slice(1)}`}async function Is(e){let t=await ks(e),n=To().gapi;return O(n,e,`internal-error`),t.open({where:document.body,url:Fs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ns,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=Fr(e,`network-request-failed`),a=To().setTimeout(()=>{r(i)},As.get());function o(){To().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}var Ls={location:`yes`,resizable:`yes`,statusbar:`yes`,toolbar:`no`},Rs=500,zs=600,Bs=`_blank`,Vs=`http://localhost`,Hs=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Us(e,t,n,r=Rs,i=zs){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s=``,c={...Ls,width:r.toString(),height:i.toString(),top:a,left:o},l=lt().toLowerCase();n&&(s=Ri(l)?Bs:n),Ii(l)&&(t||=Vs,c.scrollbars=`yes`);let u=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,``);if(Wi(l)&&s!==`_self`)return Ws(t||``,s),new Hs(null);let d=window.open(t||``,s,u);O(d,e,`popup-blocked`);try{d.focus()}catch{}return new Hs(d)}function Ws(e,t){let n=document.createElement(`a`);n.href=e,n.target=t;let r=document.createEvent(`MouseEvent`);r.initMouseEvent(`click`,!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Gs=`__/auth/handler`,Ks=`emulator/auth/handler`,qs=`fac`;async function Js(e,t,n,r,i,a){O(e.config.authDomain,e,`auth-domain-config-required`),O(e.config.apiKey,e,`invalid-api-key`);let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:sr,eventId:i};if(t instanceof Ba){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||``,Tt(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof Va){let e=t.getScopes().filter(e=>e!==``);e.length>0&&(o.scopes=e.join(`,`))}e.tenantId&&(o.tid=e.tenantId);let s=o;for(let e of Object.keys(s))s[e]===void 0&&delete s[e];let c=await e._getAppCheckToken(),l=c?`#${qs}=${encodeURIComponent(c)}`:``;return`${Ys(e)}?${Ot(s).slice(1)}${l}`}function Ys({config:e}){return e.emulator?qr(e,Ks):`https://${e.authDomain}/${Gs}`}var Xs=`webStorageSupport`,Zs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=So,this._completeRedirectFn=ms,this._overrideRedirectResult=ds}async _openPopup(e,t,n,r){return Br(this.eventManagers[e._key()]?.manager,`_initialize() not called before _openPopup()`),Us(e,await Js(e,t,n,Vr(),r),j())}async _openRedirect(e,t,n,r){return await this._originValidation(e),Eo(await Js(e,t,n,Vr(),r)),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Br(n,`If manager is not set, promise should be`),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await Is(e),n=new gs(e);return t.register(`authEvent`,t=>(O(t?.authEvent,e,`invalid-auth-event`),{status:n.onEvent(t.authEvent)?`ACK`:`ERROR`}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xs,{type:Xs},n=>{let r=n?.[0]?.[Xs];r!==void 0&&t(!!r),Pr(e,`internal-error`)},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Cs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Gi()||Li()||Ui()}},Qs=class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case`enroll`:return this._finalizeEnroll(e,t.credential,n);case`signin`:return this._finalizeSignIn(e,t.credential);default:return zr(`unexpected MultiFactorSessionType`)}}},$s=class e extends Qs{constructor(e){super(`phone`),this.credential=e}static _fromCredential(t){return new e(t)}_finalizeEnroll(e,t,n){return so(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return qo(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},ec=class{constructor(){}static assertion(e){return $s._fromCredential(e)}};ec.FACTOR_ID=`phone`;var tc=class{static assertionForEnrollment(e,t){return nc._fromSecret(e,t)}static assertionForSignIn(e,t){return nc._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;O(t.user?.auth!==void 0,`internal-error`);let n=await co(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return rc._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}};tc.FACTOR_ID=`totp`;var nc=class e extends Qs{constructor(e,t,n){super(`totp`),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(e,t,n){return O(this.secret!==void 0,e,`argument-error`),lo(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){O(this.enrollmentId!==void 0&&this.otp!==void 0,e,`argument-error`);let n={verificationCode:this.otp};return Jo(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},rc=class e{constructor(e,t,n,r,i,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(ic(e)||ic(t))&&(n=!0),n&&(ic(e)&&(e=this.auth.currentUser?.email||`unknownuser`),ic(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function ic(e){return e===void 0||e?.length===0}var ac=`@firebase/auth`,oc=`1.12.0`,sc=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,`dependent-sdk-initialized-before-auth`)}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function cc(e){switch(e){case`Node`:return`node`;case`ReactNative`:return`rn`;case`Worker`:return`webworker`;case`Cordova`:return`cordova`;case`WebExtension`:return`web-extension`;default:return}}function lc(e){nr(new It(`auth`,(t,{options:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(`heartbeat`),a=t.getProvider(`app-check-internal`),{apiKey:o,authDomain:s}=r.options;O(o&&!o.includes(`:`),`invalid-api-key`,{appName:r.name});let c=new Zi(r,i,a,{apiKey:o,authDomain:s,clientPlatform:e,apiHost:`identitytoolkit.googleapis.com`,tokenApiHost:`securetoken.googleapis.com`,apiScheme:`https`,sdkClientVersion:Ki(e)});return ha(c,n),c},`PUBLIC`).setInstantiationMode(`EXPLICIT`).setInstanceCreatedCallback((e,t,n)=>{e.getProvider(`auth-internal`).initialize()})),nr(new It(`auth-internal`,e=>(e=>new sc(e))(Qi(e.getProvider(`auth`).getImmediate())),`PRIVATE`).setInstantiationMode(`EXPLICIT`)),ur(ac,oc,cc(e)),ur(ac,oc,`esm2020`)}var uc=et(`authIdTokenMaxAge`)||300,dc=null,fc=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uc)return;let i=n?.token;dc!==i&&(dc=i,await fetch(e,{method:i?`POST`:`DELETE`,headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pc(e=lr()){let t=rr(e,`auth`);if(t.isInitialized())return t.getImmediate();let n=ma(e,{popupRedirectResolver:Zs,persistence:[Go,go,So]}),r=et(`authTokenSyncURL`);if(r&&typeof isSecureContext==`boolean`&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t=fc(e.toString());io(n,t,()=>t(n.currentUser)),ro(n,e=>t(e))}}let i=Qe(`auth`);return i&&ga(n,`http://${i}`),n}function mc(){return document.getElementsByTagName(`head`)?.[0]??document}ta({loadJS(e){return new Promise((t,n)=>{let r=document.createElement(`script`);r.setAttribute(`src`,e),r.onload=t,r.onerror=e=>{let t=Fr(`internal-error`);t.customData=e,n(t)},r.type=`text/javascript`,r.charset=`UTF-8`,mc().appendChild(r)})},gapiScript:`https://apis.google.com/js/api.js`,recaptchaV2Script:`https://www.google.com/recaptcha/api.js`,recaptchaEnterpriseScript:`https://www.google.com/recaptcha/enterprise.js?render=`}),lc(`Browser`);var hc=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},gc={},_c,vc;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;let r=Array(16);if(typeof t==`string`)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.v=function(e,t){t===void 0&&(t=e.length);let n=t-this.blockSize,r=this.C,a=this.h,o=0;for(;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&e<128?a(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(l(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,t<2||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(e.indexOf(`-`)>=0)throw Error(`number format error: interior "-" character`);let n=l(t**8),r=d;for(let a=0;a<e.length;a+=8){var i=Math.min(8,e.length-a);let o=parseInt(e.substring(a,a+i),t);i<8?(i=l(t**+i),r=r.j(i).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,e<2||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);let t=l(e**6);var n=this;let r=``;for(;;){let i=b(n,t).g;n=_(n,i.j(t));let a=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;a.length<6;)a=`0`+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(this.l(p)<0&&e.l(p)<0)return l(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,a=this.i(r)&65535,o=e.i(t)>>>16,s=e.i(t)&65535;n[2*r+2*t]+=a*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=ee(n,1),a=ee(r,1);for(r=ee(r,2),n=ee(n,2);!m(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=ee(r,1),n=ee(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=r<=48?1:2**(r-48),a=l(n),o=a.j(t);h(o)||o.l(e)>0;)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.B=function(e){return b(this,e).h},e.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function ee(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,vc=gc.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,_c=gc.Integer=o}).apply(hc===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:hc);var yc=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},bc={},xc,Sc,Cc,wc,Tc,Ec,Dc,Oc;(function(){var e,t=Object.defineProperty;function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof yc==`object`&&yc];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}i(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)}),i(`Array.prototype.values`,function(e){return e||function(){return this[Symbol.iterator]()}}),i(`Object.entries`,function(e){return e||function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var a=a||{},o=this||self;function s(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return l=c,l.apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var f=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if(n=n==`object`?r?Array.isArray(r)?`array`:n:`null`:n,n==`array`||n==`object`&&typeof r.length==`number`){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g(e){o.setTimeout(()=>{throw e},0)}function _(){var e=te;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class v{constructor(){this.h=this.g=null}add(e,t){let n=y.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var y=new h(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,ee=!1,te=new v,S=()=>{let e=Promise.resolve(void 0);x=()=>{e.then(C)}};function C(){for(var e;e=_();){try{e.h.call(e.g)}catch(e){g(e)}var t=y;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}ee=!1}function ne(){this.u=this.u,this.C=this.C}ne.prototype.u=!1,ne.prototype.dispose=function(){this.u||(this.u=!0,this.N())},ne.prototype[Symbol.dispose]=function(){this.dispose()},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};o.addEventListener(`test`,e,t),o.removeEventListener(`test`,e,t)}catch{}return e}();function ie(e){return/^[\s\xa0]*$/.test(e)}function ae(e,t){w.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e&&this.init(e,t)}d(ae,w),ae.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget,t||(n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var oe=`closure_listenable_`+(Math.random()*1e6|0),se=0;function ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++se,this.da=this.fa=!1}function le(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ue(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function T(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function E(e){let t={};for(let n in e)t[n]=e[n];return t}let de=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function fe(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<de.length;t++)n=de[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function pe(e){this.src=e,this.g={},this.h=0}pe.prototype.add=function(e,t,n,r,i){let a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);let o=he(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):(t=new ce(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function me(e,t){let n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=i>=0)&&Array.prototype.splice.call(r,i,1),a&&(le(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function he(e,t,n,r){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var ge=`closure_lm_`+(Math.random()*1e6|0),_e={};function ve(e,t,n,r,i){if(r&&r.once)return xe(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)ve(e,t[a],n,r,i);return null}return n=Oe(n),e&&e[oe]?e.J(t,n,s(r)?!!r.capture:!!r,i):ye(e,t,n,!1,r,i)}function ye(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);let o=s(i)?!!i.capture:!!i,c=Ee(e);if(c||(e[ge]=c=new pe(e)),n=c.add(t,n,r,o,a),n.proxy)return n;if(r=be(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)re||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function be(){function e(n){return t.call(e.src,e.listener,n)}let t=Te;return e}function xe(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)xe(e,t[a],n,r,i);return null}return n=Oe(n),e&&e[oe]?e.K(t,n,s(r)?!!r.capture:!!r,i):ye(e,t,n,!0,r,i)}function Se(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Se(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=Oe(n),e&&e[oe]?(e=e.i,a=String(t).toString(),a in e.g&&(t=e.g[a],n=he(t,n,r,i),n>-1&&(le(t[n]),Array.prototype.splice.call(t,n,1),t.length==0&&(delete e.g[a],e.h--)))):(e&&=Ee(e))&&(t=e.g[t.toString()],e=-1,t&&(e=he(t,n,r,i)),(n=e>-1?t[e]:null)&&Ce(n))}function Ce(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[oe])me(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ee(t))?(me(n,e),n.h==0&&(n.src=null,t[ge]=null)):le(e)}}}function we(e){return e in _e?_e[e]:_e[e]=`on`+e}function Te(e,t){if(e.da)e=!0;else{t=new ae(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&Ce(e),e=n.call(r,t)}return e}function Ee(e){return e=e[ge],e instanceof pe?e:null}var De=`__closure_events_fn_`+(Math.random()*1e9>>>0);function Oe(e){return typeof e==`function`?e:(e[De]||(e[De]=function(t){return e.handleEvent(t)}),e[De])}function ke(){ne.call(this),this.i=new pe(this),this.M=this,this.G=null}d(ke,ne),ke.prototype[oe]=!0,ke.prototype.removeEventListener=function(e,t,n,r){Se(this,e,t,n,r)};function Ae(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new w(t,e);else if(t instanceof w)t.target=t.target||e;else{var i=t;t=new w(r,e),fe(t,i)}i=!0;let a,o;if(n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=je(a,r,!0,t)&&i;if(a=t.g=e,i=je(a,r,!0,t)&&i,i=je(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=je(a,r,!1,t)&&i}ke.prototype.N=function(){if(ke.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)le(n[e]);delete e.g[t],e.h--}}this.G=null},ke.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ke.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function je(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==n){let t=o.listener,n=o.ha||o.src;o.fa&&me(e.i,o),i=t.call(n,r)!==!1&&i}}return i&&!r.defaultPrevented}function Me(e,t){if(typeof e!=`function`)if(e&&typeof e.handleEvent==`function`)e=l(e.handleEvent,e);else throw Error(`Invalid listener argument`);return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}function Ne(e){e.g=Me(()=>{e.g=null,e.i&&(e.i=!1,Ne(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class Pe extends ne{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:Ne(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fe(e){ne.call(this),this.h=e,this.g={}}d(Fe,ne);var Ie=[];function Le(e){ue(e.g,function(e,t){this.g.hasOwnProperty(t)&&Ce(e)},e),e.g={}}Fe.prototype.N=function(){Fe.Z.N.call(this),Le(this)},Fe.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var Re=o.JSON.stringify,ze=o.JSON.parse,Be=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function Ve(){}function He(){}var Ue={OPEN:`a`,hb:`b`,ERROR:`c`,tb:`d`};function We(){w.call(this,`d`)}d(We,w);function Ge(){w.call(this,`c`)}d(Ge,w);var Ke={},qe=null;function Je(){return qe||=new ke}Ke.Ia=`serverreachability`;function Ye(e){w.call(this,Ke.Ia,e)}d(Ye,w);function Xe(e){let t=Je();Ae(t,new Ye(t))}Ke.STAT_EVENT=`statevent`;function Ze(e,t){w.call(this,Ke.STAT_EVENT,e),this.stat=t}d(Ze,w);function Qe(e){let t=Je();Ae(t,new Ze(t,e))}Ke.Ja=`timingevent`;function $e(e,t){w.call(this,Ke.Ja,e),this.size=t}d($e,w);function et(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return o.setTimeout(function(){e()},t)}function tt(){this.g=!0}tt.prototype.ua=function(){this.g=!1};function nt(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o=``,s=a.split(`&`);for(let e=0;e<s.length;e++){var c=s[e].split(`=`);if(c.length>1){let e=c[0];c=c[1];let t=e.split(`_`);o=t.length>=2&&t[1]==`type`?o+(e+`=`+c+`&`):o+(e+`=redacted&`)}}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function rt(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function it(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+ot(e,n)+(r?` `+r:``)})}function at(e,t){e.info(function(){return`TIMEOUT: `+t})}tt.prototype.info=function(){};function ot(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if(i!=`noop`&&i!=`stop`&&i!=`close`)for(let e=1;e<r.length;e++)r[e]=``}}}}return Re(a)}catch{return t}}var st={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ct={ib:`complete`,Fb:`success`,ERROR:`error`,Ga:`abort`,xb:`ready`,yb:`readystatechange`,TIMEOUT:`timeout`,sb:`incrementaldata`,wb:`progress`,lb:`downloadprogress`,Nb:`uploadprogress`},lt;function ut(){}d(ut,Ve),ut.prototype.g=function(){return new XMLHttpRequest},lt=new ut;function dt(e){return encodeURIComponent(String(e))}function ft(e){var t=1;e=e.split(`:`);let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function pt(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new Fe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mt}function mt(){this.i=null,this.g=``,this.h=!1}var ht={},gt={};function _t(e,t,n){e.M=1,e.A=Ut(zt(t)),e.u=n,e.R=!0,vt(e,null)}function vt(e,t){e.F=Date.now(),St(e),e.B=zt(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),rn(n.i,`t`,r),e.C=0,n=e.j.L,e.h=new mt,e.g=Yn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Pe(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i=`readystatechange`;Array.isArray(i)||(i&&(Ie[0]=i.toString()),i=Ie);for(let e=0;e<i.length;e++){let a=ve(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?E(e.J):{},e.u?(e.v||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.B,e.v,e.u,t)):(e.v=`GET`,e.g.ea(e.B,e.v,null,t)),Xe(),nt(e.i,e.v,e.B,e.l,e.S,e.u)}pt.prototype.ba=function(e){e=e.target;let t=this.O;t&&En(e)==3?t.j():this.Y(e)},pt.prototype.Y=function(e){try{if(e==this.g)a:{let s=En(this.g),c=this.g.ya(),l=this.g.ca();if(!(s<3)&&(s!=3||this.g&&(this.h.h||this.g.la()||Dn(this.g)))){this.K||s!=4||c==7||Xe(c==8||l<=0?3:2),wt(this);var t=this.g.ca();this.X=t;var n=yt(this);if(this.o=t==200,rt(this.i,this.v,this.B,this.l,this.S,s,t),this.o){if(this.U&&!this.L){b:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!ie(r)){var a=r;break b}}a=null}if(e=a)it(this.i,this.l,e,`Initial handshake response via X-HTTP-Initial-Response`),this.L=!0,Dt(this,e);else{this.o=!1,this.m=3,Qe(12),Et(this),Tt(this);break a}}if(this.R){e=!0;let t;for(;!this.K&&this.C<n.length;)if(t=xt(this,n),t==gt){s==4&&(this.m=4,Qe(14),e=!1),it(this.i,this.l,null,`[Incomplete Response]`);break}else if(t==ht){this.m=4,Qe(15),it(this.i,this.l,n,`[Invalid Chunk]`),e=!1;break}else it(this.i,this.l,t,null),Dt(this,t);if(bt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),s!=4||n.length!=0||this.h.h||(this.m=1,Qe(16),e=!1),this.o=this.o&&e,!e)it(this.i,this.l,n,`[Invalid Chunked Response]`),Et(this),Tt(this);else if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info(`Great, no buffering proxy detected. Bytes received: `+n.length),Vn(o),o.P=!0,Qe(11))}}else it(this.i,this.l,n,null),Dt(this,n);s==4&&Et(this),this.o&&!this.K&&(s==4?Wn(this.j,this):(this.o=!1,St(this)))}else On(this.g),t==400&&n.indexOf(`Unknown SID`)>0?(this.m=3,Qe(12)):(this.m=0,Qe(13)),Et(this),Tt(this)}}}catch{}};function yt(e){if(!bt(e))return e.g.la();let t=Dn(e.g);if(t===``)return``;let n=``,r=t.length,i=En(e.g)==4;if(!e.h.i){if(typeof TextDecoder>`u`)return Et(e),Tt(e),``;e.h.i=new o.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}function bt(e){return e.g?e.v==`GET`&&e.M!=2&&e.j.Aa:!1}function xt(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?gt:(n=Number(t.substring(n,r)),isNaN(n)?ht:(r+=1,r+n>t.length?gt:(t=t.slice(r,r+n),e.C=r+n,t)))}pt.prototype.cancel=function(){this.K=!0,Et(this)};function St(e){e.T=Date.now()+e.H,Ct(e,e.H)}function Ct(e,t){if(e.D!=null)throw Error(`WatchDog timer not null`);e.D=et(l(e.aa,e),t)}function wt(e){e.D&&=(o.clearTimeout(e.D),null)}pt.prototype.aa=function(){this.D=null;let e=Date.now();e-this.T>=0?(at(this.i,this.B),this.M!=2&&(Xe(),Qe(17)),Et(this),this.m=2,Tt(this)):Ct(this,this.T-e)};function Tt(e){e.j.I==0||e.K||Wn(e.j,e)}function Et(e){wt(e);var t=e.O;t&&typeof t.dispose==`function`&&t.dispose(),e.O=null,Le(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Dt(e,t){try{var n=e.j;if(n.I!=0&&(n.g==e||Mt(n.h,e))){if(!e.L&&Mt(n.h,e)&&n.I==3){try{var r=n.Ba.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)Un(n),Mn(n);else break a;Bn(n),Qe(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=et(l(n.Va,n),6e3));jt(n.h)<=1&&n.ta&&(n.ta=void 0)}else Kn(n,11)}else if((e.L||n.g==e)&&Un(n),!ie(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t],u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],n.I==2)if(l[0]==`c`){n.M=l[1],n.ba=l[2];let t=l[3];t!=null&&(n.ka=t,n.j.info(`VER=`+n.ka));let i=l[4];i!=null&&(n.za=i,n.j.info(`SVER=`+n.za));let u=l[5];u!=null&&typeof u==`number`&&u>0&&(r=1.5*u,n.O=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(Nt(a,a.h),null))}if(r.G){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.wa=e,D(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.T+`ms`)),r=n;var o=e;if(r.na=Jn(r,r.L?r.ba:null,r.W),o.L){Pt(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(wt(s),St(s)),r.g=o}else zn(r);n.i.length>0&&Pn(n)}else l[0]!=`stop`&&l[0]!=`close`||Kn(n,7);else n.I==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?Kn(n,7):jn(n):l[0]!=`noop`&&n.l&&n.l.qa(l),n.A=0)}}Xe(4)}catch{}}var Ot=class{constructor(e,t){this.g=e,this.map=t}};function kt(e){this.l=e||10,o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType(`navigation`),e=e.length>0&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function At(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function jt(e){return e.h?1:e.g?e.g.size:0}function Mt(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Nt(e,t){e.g?e.g.add(t):e.h=t}function Pt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}kt.prototype.cancel=function(){if(this.i=Ft(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function Ft(e){if(e.h!=null)return e.i.concat(e.h.G);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return p(e.i)}var It=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function Lt(e,t){if(e){e=e.split(`&`);for(let n=0;n<e.length;n++){let r=e[n].indexOf(`=`),i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g,` `)):``)}}}function Rt(e){this.g=this.o=this.j=``,this.u=null,this.m=this.h=``,this.l=!1;let t;e instanceof Rt?(this.l=e.l,Bt(this,e.j),this.o=e.o,this.g=e.g,Vt(this,e.u),this.h=e.h,Ht(this,an(e.i)),this.m=e.m):e&&(t=String(e).match(It))?(this.l=!1,Bt(this,t[1]||``,!0),this.o=Wt(t[2]||``),this.g=Wt(t[3]||``,!0),Vt(this,t[4]),this.h=Wt(t[5]||``,!0),Ht(this,t[6]||``,!0),this.m=Wt(t[7]||``)):(this.l=!1,this.i=new Qt(null,this.l))}Rt.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(Gt(t,qt,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(Gt(t,qt,!0),`@`),e.push(dt(n).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.u,n!=null&&e.push(`:`,String(n))),(n=this.h)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(Gt(n,n.charAt(0)==`/`?Yt:Jt,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,Gt(n,Zt)),e.join(``)},Rt.prototype.resolve=function(e){let t=zt(this),n=!!e.j;n?Bt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=e.u!=null;var r=e.h;if(n)Vt(t,e.u);else if(n=!!e.h){if(r.charAt(0)!=`/`)if(this.g&&!this.h)r=`/`+r;else{var i=t.h.lastIndexOf(`/`);i!=-1&&(r=t.h.slice(0,i+1)+r)}if(i=r,i==`..`||i==`.`)r=``;else if(i.indexOf(`./`)!=-1||i.indexOf(`/.`)!=-1){r=i.lastIndexOf(`/`,0)==0,i=i.split(`/`);let e=[];for(let t=0;t<i.length;){let n=i[t++];n==`.`?r&&t==i.length&&e.push(``):n==`..`?((e.length>1||e.length==1&&e[0]!=``)&&e.pop(),r&&t==i.length&&e.push(``)):(e.push(n),r=!0)}r=e.join(`/`)}else r=i}return n?t.h=r:n=e.i.toString()!==``,n?Ht(t,an(e.i)):n=!!e.m,n&&(t.m=e.m),t};function zt(e){return new Rt(e)}function Bt(e,t,n){e.j=n?Wt(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Vt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error(`Bad port number `+t);e.u=t}else e.u=null}function Ht(e,t,n){t instanceof Qt?(e.i=t,sn(e.i,e.l)):(n||(t=Gt(t,Xt)),e.i=new Qt(t,e.l))}function D(e,t,n){e.i.set(t,n)}function Ut(e){return D(e,`zx`,Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),e}function Wt(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function Gt(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,Kt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function Kt(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var qt=/[#\/\?@]/g,Jt=/[#\?:]/g,Yt=/[#\?]/g,Xt=/[#\?@]/g,Zt=/#/g;function Qt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $t(e){e.g||(e.g=new Map,e.h=0,e.i&&Lt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=Qt.prototype,e.add=function(e,t){$t(this),this.i=null,e=on(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function en(e,t){$t(e),t=on(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tn(e,t){return $t(e),t=on(e,t),e.g.has(t)}e.forEach=function(e,t){$t(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)};function nn(e,t){$t(e);let n=[];if(typeof t==`string`)tn(e,t)&&(n=n.concat(e.g.get(on(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}e.set=function(e,t){return $t(this),this.i=null,e=on(this,e),tn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=nn(this,e),e.length>0?String(e[0]):t):t};function rn(e,t,n){en(e,t),n.length>0&&(e.i=null,e.g.set(on(e,t),p(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=dt(n);n=nn(this,n);for(let t=0;t<n.length;t++){let r=i;n[t]!==``&&(r+=`=`+dt(n[t])),e.push(r)}}return this.i=e.join(`&`)};function an(e){let t=new Qt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function on(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function sn(e,t){t&&!e.j&&($t(e),e.i=null,e.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&(en(this,t),rn(this,n,e))},e)),e.j=t}function cn(e,t){let n=new tt;if(o.Image){let r=new Image;r.onload=u(un,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=u(un,n,`TestLoadImage: error`,!1,t,r),r.onabort=u(un,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=u(un,n,`TestLoadImage: timeout`,!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ln(e,t){let n=new tt,r=new AbortController,i=setTimeout(()=>{r.abort(),un(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?un(n,`TestPingServer: ok`,!0,t):un(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),un(n,`TestPingServer: error`,!1,t)})}function un(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function dn(){this.g=new Be}function fn(e){this.i=e.Sb||null,this.h=e.ab||!1}d(fn,Ve),fn.prototype.g=function(){return new pn(this.i,this.h)};function pn(e,t){ke.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F=`GET`,this.D=``,this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(pn,ke),e=pn.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.F=e,this.D=t,this.readyState=1,gn(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);if(this.v.signal.aborted)throw this.abort(),Error(`Request was aborted.`);this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hn(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,gn(this)),this.g&&(this.readyState=3,gn(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(o.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.B=new TextDecoder;mn(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))};function mn(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?hn(this):gn(this),this.readyState==3&&mn(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,hn(this))},e.Na=function(e){this.g&&(this.response=e,hn(this))},e.ga=function(){this.g&&hn(this)};function hn(e){e.readyState=4,e.l=null,e.j=null,e.B=null,gn(e)}e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function gn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(pn.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function _n(e){let t=``;return ue(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function vn(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=_n(n),typeof e==`string`?n!=null&&dt(n):D(e,t,n))}function yn(e){ke.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D=``,this.o=0,this.l=``,this.j=this.B=this.v=this.A=!1,this.m=null,this.F=``,this.H=!1}d(yn,ke);var bn=/^https?$/i,xn=[`POST`,`PUT`];e=yn.prototype,e.Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():lt.g(),this.g.onreadystatechange=f(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){Sn(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(xn,t,void 0)>=0)||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),`withCredentials`in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&=(clearTimeout(this.m),null),this.v=!0,this.g.send(e),this.v=!1}catch(e){Sn(this,e)}};function Sn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Cn(e),Tn(e)}function Cn(e){e.A||(e.A=!0,Ae(e,`complete`),Ae(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Ae(this,`complete`),Ae(this,`abort`),Tn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tn(this,!0)),yn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?wn(this):this.Xa())},e.Xa=function(){wn(this)};function wn(e){if(e.h&&a!==void 0){if(e.v&&En(e)==4)setTimeout(e.Ca.bind(e),0);else if(Ae(e,`readystatechange`),En(e)==4){e.h=!1;try{let a=e.ca();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){let t=String(e.D).match(It)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!bn.test(t?t.toLowerCase():``)}n=r}if(n)Ae(e,`complete`),Ae(e,`success`);else{e.o=6;try{var i=En(e)>2?e.g.statusText:``}catch{i=``}e.l=i+` [`+e.ca()+`]`,Cn(e)}}finally{Tn(e)}}}}function Tn(e,t){if(e.g){e.m&&=(clearTimeout(e.m),null);let n=e.g;e.g=null,t||Ae(e,`ready`);try{n.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function En(e){return e.g?e.g.readyState:0}e.ca=function(){try{return En(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),ze(t)}};function Dn(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.F){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function On(e){let t={};e=(e.g&&En(e)>=2&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(ie(e[r]))continue;var n=ft(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}T(t,function(e){return e.join(`, `)})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l==`string`?this.l:String(this.l)};function kn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function An(e){this.za=0,this.i=[],this.j=new tt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=kn(`failFast`,!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=kn(`baseRetryDelayMs`,5e3,e),this.Za=kn(`retryDelaySeedMs`,1e4,e),this.Ta=kn(`forwardChannelMaxRetries`,2,e),this.va=kn(`forwardChannelRequestTimeoutMs`,2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M=``,this.h=new kt(e&&e.concurrentRequestLimit),this.Ba=new dn,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=An.prototype,e.ka=8,e.I=1,e.connect=function(e,t,n,r){Qe(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=Jn(this,null,this.W),Pn(this)};function jn(e){if(Nn(e),e.I==3){var t=e.V++,n=zt(e.J);if(D(n,`SID`,e.M),D(n,`RID`,t),D(n,`TYPE`,`terminate`),Ln(e,n),t=new pt(e,e.j,t),t.M=2,t.A=Ut(zt(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),``)}catch{}!n&&o.Image&&(new Image().src=t.A,n=!0),n||(t.g=Yn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),St(t)}qn(e)}function Mn(e){e.g&&=(Vn(e),e.g.cancel(),null)}function Nn(e){Mn(e),e.v&&=(o.clearTimeout(e.v),null),Un(e),e.h.cancel(),e.m&&=(typeof e.m==`number`&&o.clearTimeout(e.m),null)}function Pn(e){if(!At(e.h)&&!e.m){e.m=!0;var t=e.Ea;x||S(),ee||=(x(),!0),te.add(t,e),e.D=0}}function Fn(e,t){return jt(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.G.concat(e.i),!0):e.I==1||e.I==2||e.D>=(e.Sa?0:e.Ta)?!1:(e.m=et(l(e.Ea,e,t),Gn(e,e.D)),e.D++,!0)}e.Ea=function(e){if(this.m)if(this.m=null,this.I==1){if(!e){this.V=Math.floor(Math.random()*1e5),e=this.V++;let i=new pt(this,this.j,e),a=this.o;if(this.U&&(a?(a=E(a),fe(a,this.U)):a=this.U),this.u!==null||this.R||(i.J=a,a=null),this.S)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,t>4096){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=Rn(this,i,t),n=zt(this.J),D(n,`RID`,e),D(n,`CVER`,22),this.G&&D(n,`X-HTTP-Session-Id`,this.G),Ln(this,n),a&&(this.R?t=`headers=`+dt(_n(a))+`&`+t:this.u&&vn(n,this.u,a)),Nt(this.h,i),this.Ra&&D(n,`TYPE`,`init`),this.S?(D(n,`$req`,t),D(n,`SID`,`null`),i.U=!0,_t(i,n,null)):_t(i,n,t),this.I=2}}else this.I==3&&(e?In(this,e):this.i.length==0||At(this.h)||In(this))};function In(e,t){var n=t?t.l:e.V++;let r=zt(e.J);D(r,`SID`,e.M),D(r,`RID`,n),D(r,`AID`,e.K),Ln(e,r),e.u&&e.o&&vn(r,e.u,e.o),n=new pt(e,e.j,n,e.D+1),e.u===null&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Rn(e,n,1e3),n.H=Math.round(e.va*.5)+Math.round(e.va*.5*Math.random()),Nt(e.h,n),_t(n,r,t)}function Ln(e,t){e.H&&ue(e.H,function(e,n){D(t,n,e)}),e.l&&ue({},function(e,n){D(t,n,e)})}function Rn(e,t,n){n=Math.min(e.i.length,n);let r=e.l?l(e.l.Ka,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?n>0?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let c=!0;for(let l=0;l<n;l++){var a=i[l].g;let n=i[l].map;if(a-=t,a<0)t=Math.max(0,i[l].g-100),c=!1;else try{a=`req`+a+`_`||``;try{var o=n instanceof Map?n:Object.entries(n);for(let[t,n]of o){let r=n;s(n)&&(r=Re(n)),e.push(a+t+`=`+encodeURIComponent(r))}}catch(t){throw e.push(a+`type=_badmap`),t}}catch{r&&r(n)}}if(c){o=e.join(`&`);break a}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function zn(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;x||S(),ee||=(x(),!0),te.add(t,e),e.A=0}}function Bn(e){return e.g||e.v||e.A>=3?!1:(e.Y++,e.v=et(l(e.Da,e),Gn(e,e.A)),e.A++,!0)}e.Da=function(){if(this.v=null,Hn(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var e=4*this.T;this.j.info(`BP detection timer enabled: `+e),this.B=et(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.P=!0,Qe(10),Mn(this),Hn(this))};function Vn(e){e.B!=null&&(o.clearTimeout(e.B),e.B=null)}function Hn(e){e.g=new pt(e,e.j,`rpc`,e.Y),e.u===null&&(e.g.J=e.o),e.g.P=0;var t=zt(e.na);D(t,`RID`,`rpc`),D(t,`SID`,e.M),D(t,`AID`,e.K),D(t,`CI`,e.F?`0`:`1`),!e.F&&e.ia&&D(t,`TO`,e.ia),D(t,`TYPE`,`xmlhttp`),Ln(e,t),e.u&&e.o&&vn(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=Ut(zt(t)),n.u=null,n.R=!0,vt(n,e)}e.Va=function(){this.C!=null&&(this.C=null,Mn(this),Bn(this),Qe(19))};function Un(e){e.C!=null&&(o.clearTimeout(e.C),e.C=null)}function Wn(e,t){var n=null;if(e.g==t){Un(e),Vn(e),e.g=null;var r=2}else if(Mt(e.h,t))n=t.G,Pt(e.h,t),r=1;else return;if(e.I!=0){if(t.o)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;r=Je(),Ae(r,new $e(r,n)),Pn(e)}else zn(e);else if(i=t.m,i==3||i==0&&t.X>0||!(r==1&&Fn(e,t)||r==2&&Bn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Kn(e,5);break;case 4:Kn(e,10);break;case 3:Kn(e,6);break;default:Kn(e,2)}}}function Gn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function Kn(e,t){if(e.j.info(`Error code `+t),t==2){var n=l(e.bb,e),r=e.Ua;let t=!r;r=new Rt(r||`//www.google.com/images/cleardot.gif`),o.location&&o.location.protocol==`http`||Bt(r,`https`),Ut(r),t?cn(r.toString(),n):ln(r.toString(),n)}else Qe(2);e.I=0,e.l&&e.l.pa(t),qn(e),Nn(e)}e.bb=function(e){e?(this.j.info(`Successfully pinged google.com`),Qe(2)):(this.j.info(`Failed to ping google.com`),Qe(1))};function qn(e){if(e.I=0,e.ja=[],e.l){let t=Ft(e.h);(t.length!=0||e.i.length!=0)&&(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function Jn(e,t,n){var r=n instanceof Rt?zt(n):new Rt(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Vt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;let e=new Rt(null);r&&Bt(e,r),t&&(e.g=t),i&&Vt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&D(r,n,t),D(r,`VER`,e.ka),Ln(e,r),r}function Yn(e,t,n){if(t&&!e.L)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Aa&&!e.ma?new yn(new fn({ab:n})):new yn(e.ma),t.Fa(e.L),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xn(){}e=Xn.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Zn(){}Zn.prototype.g=function(e,t){return new Qn(e,t)};function Qn(e,t){ke.call(this),this.g=new An(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e[`X-WebChannel-Client-Profile`]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!ie(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!ie(t)&&(this.g.G=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new tr(this)}d(Qn,ke),Qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){jn(this.g)},Qn.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Re(e),e=n);t.i.push(new Ot(t.Ya++,e)),t.I==3&&Pn(t)},Qn.prototype.N=function(){this.g.l=null,delete this.j,jn(this.g),delete this.g,Qn.Z.N.call(this)};function $n(e){We.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}d($n,We);function er(){Ge.call(this),this.status=1}d(er,Ge);function tr(e){this.g=e}d(tr,Xn),tr.prototype.ra=function(){Ae(this.g,`a`)},tr.prototype.qa=function(e){Ae(this.g,new $n(e))},tr.prototype.pa=function(e){Ae(this.g,new er)},tr.prototype.oa=function(){Ae(this.g,`b`)},Zn.prototype.createWebChannel=Zn.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,Oc=bc.createWebChannelTransport=function(){return new Zn},Dc=bc.getStatEventTarget=function(){return Je()},Ec=bc.Event=Ke,Tc=bc.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},st.NO_ERROR=0,st.TIMEOUT=8,st.HTTP_ERROR=6,wc=bc.ErrorCode=st,ct.COMPLETE=`complete`,Cc=bc.EventType=ct,He.EventType=Ue,Ue.OPEN=`a`,Ue.CLOSE=`b`,Ue.ERROR=`c`,Ue.MESSAGE=`d`,ke.prototype.listen=ke.prototype.J,Sc=bc.WebChannel=He,bc.FetchXmlHttpFactory=fn,yn.prototype.listenOnce=yn.prototype.K,yn.prototype.getLastError=yn.prototype.Ha,yn.prototype.getLastErrorCode=yn.prototype.ya,yn.prototype.getStatus=yn.prototype.ca,yn.prototype.getResponseJson=yn.prototype.La,yn.prototype.getResponseText=yn.prototype.la,yn.prototype.send=yn.prototype.ea,yn.prototype.setWithCredentials=yn.prototype.Fa,xc=bc.XhrIo=yn}).apply(yc===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:yc);var kc=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};kc.UNAUTHENTICATED=new kc(null),kc.GOOGLE_CREDENTIALS=new kc(`google-credentials-uid`),kc.FIRST_PARTY=new kc(`first-party-uid`),kc.MOCK_USER=new kc(`mock-user`);var Ac=`12.9.0`;function jc(e){Ac=e}var Mc=new qt(`@firebase/firestore`);function Nc(){return Mc.logLevel}function M(e,...t){if(Mc.logLevel<=D.DEBUG){let n=t.map(Ic);Mc.debug(`Firestore (${Ac}): ${e}`,...n)}}function Pc(e,...t){if(Mc.logLevel<=D.ERROR){let n=t.map(Ic);Mc.error(`Firestore (${Ac}): ${e}`,...n)}}function Fc(e,...t){if(Mc.logLevel<=D.WARN){let n=t.map(Ic);Mc.warn(`Firestore (${Ac}): ${e}`,...n)}}function Ic(e){if(typeof e==`string`)return e;try{return function(e){return JSON.stringify(e)}(e)}catch{return e}}function N(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,Lc(e,r,n)}function Lc(e,t,n){let r=`FIRESTORE (${Ac}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw Pc(r),Error(r)}function P(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||Lc(t,i,r)}function F(e,t){return e}var I={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},L=class extends xt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},Rc=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},zc=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},Bc=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(kc.UNAUTHENTICATED)))}shutdown(){}},Vc=class{constructor(e){this.t=e,this.currentUser=kc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){P(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new Rc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Rc,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{M(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(M(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new Rc)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(P(typeof t.accessToken==`string`,31837,{l:t}),new zc(t.accessToken,this.currentUser)):null:(M(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return P(e===null||typeof e==`string`,2055,{h:e}),new kc(e)}},Hc=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=kc.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set(`X-Goog-AuthUser`,this.P);let e=this.A();return e&&this.R.set(`Authorization`,e),this.T&&this.R.set(`X-Goog-Iam-Authorization-Token`,this.T),this.R}},Uc=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Hc(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(kc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},Wc=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},Gc=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){P(this.o===void 0,3512);let n=e=>{e.error!=null&&M(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,M(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{M(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):M(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new Wc(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(P(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new Wc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Kc(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}var qc=class{static newId(){let e=``;for(;e.length<20;){let t=Kc(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function R(e,t){return e<t?-1:e>t?1:0}function Jc(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return Zc(n)===Zc(i)?R(n,i):Zc(n)?1:-1}return R(e.length,t.length)}var Yc=55296,Xc=57343;function Zc(e){let t=e.charCodeAt(0);return t>=Yc&&t<=Xc}function Qc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function $c(e){return e+`\0`}var el=`__name__`,tl=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&N(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&N(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return R(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):Jc(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return _c.fromString(e.substring(4,e.length-2))}},nl=class e extends tl{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new L(I.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},rl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,il=class e extends tl{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return rl.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===`__name__`}static keyField(){return new e([el])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new L(I.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new L(I.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new L(I.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new L(I.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},z=class e{constructor(e){this.path=e}static fromPath(t){return new e(nl.fromString(t))}static fromName(t){return new e(nl.fromString(t).popFirst(5))}static empty(){return new e(nl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nl.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new nl(t.slice()))}};function al(e,t,n){if(!n)throw new L(I.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ol(e,t,n,r){if(!0===t&&!0===r)throw new L(I.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function sl(e){if(!z.isDocumentKey(e))throw new L(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function cl(e){if(z.isDocumentKey(e))throw new L(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ll(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ul(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:N(12329,{type:typeof e})}function dl(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(I.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=ul(e);throw new L(I.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function fl(e,t){let n={typeString:e};return t&&(n.value=t),n}function pl(e,t){if(!ll(e))throw new L(I.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new L(I.INVALID_ARGUMENT,n);return!0}var ml=-62135596800,hl=1e6,gl=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*hl))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new L(I.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<ml||e>=253402300800)throw new L(I.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hl}_compareTo(e){return this.seconds===e.seconds?R(this.nanoseconds,e.nanoseconds):R(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(pl(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-ml;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};gl._jsonSchemaVersion=`firestore/timestamp/1.0`,gl._jsonSchema={type:fl(`string`,gl._jsonSchemaVersion),seconds:fl(`number`),nanoseconds:fl(`number`)};var B=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new gl(0,0))}static max(){return new e(new gl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},_l=-1,vl=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};function yl(e){return e.fields.find((e=>e.kind===2))}function bl(e){return e.fields.filter((e=>e.kind!==2))}vl.UNKNOWN_ID=-1;var xl=class{constructor(e,t){this.fieldPath=e,this.kind=t}},Sl=class e{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new e(0,Tl.min())}};function Cl(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new Tl(B.fromTimestamp(r===1e9?new gl(n+1,0):new gl(n,r)),z.empty(),t)}function wl(e){return new Tl(e.readTime,e.key,_l)}var Tl=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(B.min(),z.empty(),_l)}static max(){return new e(B.max(),z.empty(),_l)}};function El(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=z.comparator(e.documentKey,t.documentKey),n===0?R(e.largestBatchId,t.largestBatchId):n):n}var Dl=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,Ol=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function kl(e){if(e.code!==I.FAILED_PRECONDITION||e.message!==Dl)throw e;M(`LocalStore`,`Unexpectedly lost primary lease`)}var V=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&N(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}},Al=`SimpleDb`,jl=class e{static open(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(e){throw new Fl(n,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Rc,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Fl(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{let n=Bl(t.target.error);this.S.reject(new Fl(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(M(Al,`Aborting transaction:`,e?e.message:`Client-initiated abort`),this.aborted=!0,this.transaction.abort())}C(){let e=this.transaction;this.aborted||typeof e.commit!=`function`||e.commit()}store(e){return new Ll(this.transaction.objectStore(e))}},Ml=class e{static delete(e){return M(Al,`Removing database:`,e),Rl(qe().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!vt())return!1;if(e.F())return!0;let t=lt(),n=e.M(t),r=0<n&&n<10,i=Nl(t),a=0<i&&i<4.5;return!(t.indexOf(`MSIE `)>0||t.indexOf(`Trident/`)>0||t.indexOf(`Edge/`)>0||r||a)}static F(){return typeof process<`u`&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE===`YES`}static O(e,t){return e.store(t)}static M(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split(`_`).slice(0,2).join(`.`):`-1`;return Number(n)}constructor(t,n,r){this.name=t,this.version=n,this.N=r,this.B=null,e.M(lt())===12.2&&Pc(`Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`)}async L(e){return this.db||=(M(Al,`Opening database:`,this.name),await new Promise(((t,n)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{let n=e.target.result;t(n)},r.onblocked=()=>{n(new Fl(e,`Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed.`))},r.onerror=t=>{let r=t.target.error;r.name===`VersionError`?n(new L(I.FAILED_PRECONDITION,`A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.`)):r.name===`InvalidStateError`?n(new L(I.FAILED_PRECONDITION,`Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: `+r)):n(new Fl(e,r))},r.onupgradeneeded=e=>{M(Al,`Database "`+this.name+`" requires upgrade from version:`,e.oldVersion);let t=e.target.result;this.N.k(t,r.transaction,e.oldVersion,this.version).next((()=>{M(Al,`Database upgrade to version `+this.version+` complete`)}))}}))),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){let i=t===`readonly`,a=0;for(;;){++a;try{this.db=await this.L(e);let t=jl.open(this.db,e,i?`readonly`:`readwrite`,n),a=r(t).next((e=>(t.C(),e))).catch((e=>(t.abort(e),V.reject(e)))).toPromise();return a.catch((()=>{})),await t.D,a}catch(e){let t=e,n=t.name!==`FirebaseError`&&a<3;if(M(Al,`Transaction failed with error:`,t.message,`Retrying:`,n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}};function Nl(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}var Pl=class{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Rl(this.U.delete())}},Fl=class extends L{constructor(e,t){super(I.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name=`IndexedDbTransactionError`}};function Il(e){return e.name===`IndexedDbTransactionError`}var Ll=class{constructor(e){this.store=e}put(e,t){let n;return t===void 0?(M(Al,`PUT`,this.store.name,`<auto-key>`,e),n=this.store.put(e)):(M(Al,`PUT`,this.store.name,e,t),n=this.store.put(t,e)),Rl(n)}add(e){return M(Al,`ADD`,this.store.name,e,e),Rl(this.store.add(e))}get(e){return Rl(this.store.get(e)).next((t=>(t===void 0&&(t=null),M(Al,`GET`,this.store.name,e,t),t)))}delete(e){return M(Al,`DELETE`,this.store.name,e),Rl(this.store.delete(e))}count(){return M(Al,`COUNT`,this.store.name),Rl(this.store.count())}H(e,t){let n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if(typeof r.getAll==`function`){let e=r.getAll(n.range);return new V(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{let e=this.cursor(n),t=[];return this.J(e,((e,n)=>{t.push(n)})).next((()=>t))}}Z(e,t){let n=this.store.getAll(e,t===null?void 0:t);return new V(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}X(e,t){M(Al,`DELETE ALL`,this.store.name);let n=this.options(e,t);n.Y=!1;let r=this.cursor(n);return this.J(r,((e,t,n)=>n.delete()))}ee(e,t){let n;t?n=e:(n={},t=e);let r=this.cursor(n);return this.J(r,t)}te(e){let t=this.cursor({});return new V(((n,r)=>{t.onerror=e=>{r(Bl(e.target.error))},t.onsuccess=t=>{let r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}J(e,t){let n=[];return new V(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{let i=e.target.result;if(!i)return void r();let a=new Pl(i),o=t(i.primaryKey,i.value,a);if(o instanceof V){let e=o.catch((e=>(a.done(),V.reject(e))));n.push(e)}a.isDone?r():a.G===null?i.continue():i.continue(a.G)}})).next((()=>V.waitFor(n)))}options(e,t){let n;return e!==void 0&&(typeof e==`string`?n=e:t=e),{index:n,range:t}}cursor(e){let t=`next`;if(e.reverse&&(t=`prev`),e.index){let n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function Rl(e){return new V(((t,n)=>{e.onsuccess=e=>{let n=e.target.result;t(n)},e.onerror=e=>{n(Bl(e.target.error))}}))}var zl=!1;function Bl(e){let t=Ml.M(lt());if(t>=12.2&&t<13){let t=`An internal error was encountered in the Indexed Database server`;if(e.message.indexOf(t)>=0){let e=new L(`internal`,`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zl||(zl=!0,setTimeout((()=>{throw e}),0)),e}}return e}var Vl=`IndexBackfiller`,Hl=class{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&=(this.task.cancel(),null)}get started(){return this.task!==null}re(e){M(Vl,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay(`index_backfill`,e,(async()=>{this.task=null;try{M(Vl,`Documents written: ${await this.ne.ie()}`)}catch(e){Il(e)?M(Vl,`Ignoring IndexedDB error during index backfill: `,e):await kl(e)}await this.re(6e4)}))}},H=class{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction(`Backfill Indexes`,`readwrite-primary`,(t=>this.se(t,e)))}se(e,t){let n=new Set,r=t,i=!0;return V.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(t!==null&&!n.has(t))return M(Vl,`Processing collection: ${t}`),this.oe(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{let i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this._e(r,n))).next((n=>(M(Vl,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}_e(e,t){let n=e;return t.changes.forEach(((e,t)=>{let r=wl(t);El(r,n)>0&&(n=r)})),new Tl(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}},U=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};U.ce=-1;var W=-1;function G(e){return e==null}function K(e){return e===0&&1/e==-1/0}function Ul(e){return typeof e==`number`&&Number.isInteger(e)&&!K(e)&&e<=2**53-1&&e>=-(2**53-1)}var Wl=``;function Gl(e){let t=``;for(let n=0;n<e.length;n++)t.length>0&&(t=ql(t)),t=Kl(e.get(n),t);return ql(t)}function Kl(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case`\0`:n+=``;break;case Wl:n+=``;break;default:n+=r}}return n}function ql(e){return e+Wl+``}function q(e){let t=e.length;if(P(t>=2,64408,{path:e}),t===2)return P(e.charAt(0)===Wl&&e.charAt(1)===``,56145,{path:e}),nl.emptyPath();let n=t-2,r=[],i=``;for(let a=0;a<t;){let t=e.indexOf(Wl,a);switch((t<0||t>n)&&N(50515,{path:e}),e.charAt(t+1)){case``:let n=e.substring(a,t),o;i.length===0?o=n:(i+=n,o=i,i=``),r.push(o);break;case``:i+=e.substring(a,t),i+=`\0`;break;case``:i+=e.substring(a,t+1);break;default:N(61167,{path:e})}a=t+2}return new nl(r)}var Jl=`remoteDocuments`,Yl=`owner`,Xl=`owner`,Zl=`mutationQueues`,Ql=`userId`,$l=`mutations`,eu=`batchId`,tu=`userMutationsIndex`,nu=[`userId`,`batchId`];function ru(e,t){return[e,Gl(t)]}function iu(e,t,n){return[e,Gl(t),n]}var au={},ou=`documentMutations`,su=`remoteDocumentsV14`,cu=[`prefixPath`,`collectionGroup`,`readTime`,`documentId`],lu=`documentKeyIndex`,uu=[`prefixPath`,`collectionGroup`,`documentId`],du=`collectionGroupIndex`,fu=[`collectionGroup`,`readTime`,`prefixPath`,`documentId`],pu=`remoteDocumentGlobal`,mu=`remoteDocumentGlobalKey`,hu=`targets`,gu=`queryTargetsIndex`,_u=[`canonicalId`,`targetId`],vu=`targetDocuments`,yu=[`targetId`,`path`],bu=`documentTargetsIndex`,xu=[`path`,`targetId`],Su=`targetGlobalKey`,Cu=`targetGlobal`,wu=`collectionParents`,Tu=[`collectionId`,`parent`],Eu=`clientMetadata`,Du=`clientId`,Ou=`bundles`,ku=`bundleId`,Au=`namedQueries`,ju=`name`,Mu=`indexConfiguration`,Nu=`indexId`,Pu=`collectionGroupIndex`,Fu=`collectionGroup`,Iu=`indexState`,Lu=[`indexId`,`uid`],Ru=`sequenceNumberIndex`,zu=[`uid`,`sequenceNumber`],Bu=`indexEntries`,Vu=[`indexId`,`uid`,`arrayValue`,`directionalValue`,`orderedDocumentKey`,`documentKey`],Hu=`documentKeyIndex`,Uu=[`indexId`,`uid`,`orderedDocumentKey`],Wu=`documentOverlays`,Gu=[`userId`,`collectionPath`,`documentId`],Ku=`collectionPathOverlayIndex`,qu=[`userId`,`collectionPath`,`largestBatchId`],Ju=`collectionGroupOverlayIndex`,Yu=[`userId`,`collectionGroup`,`largestBatchId`],Xu=`globals`,Zu=`name`,Qu=[...[...[...[...[Zl,$l,ou,Jl,hu,Yl,Cu,vu],Eu],pu],wu],Ou,Au],$u=[...Qu,Wu],ed=[Zl,$l,ou,su,hu,Yl,Cu,vu,Eu,pu,wu,Ou,Au,Wu],td=ed,nd=[...td,Mu,Iu,Bu],rd=nd,id=[...nd,Xu],ad=id,od=class extends Ol{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}};function sd(e,t){let n=F(e);return Ml.O(n.le,t)}function cd(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ld(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ud(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var dd=class e{constructor(e,t){this.comparator=e,this.root=t||pd.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pd.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fd(this.root,e,this.comparator,!0)}},fd=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pd=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw N(43730,{key:this.key,value:this.value});if(this.right.isRed())throw N(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw N(27949);return e+(this.isRed()?0:1)}};pd.EMPTY=null,pd.RED=!0,pd.BLACK=!1,pd.EMPTY=new class{constructor(){this.size=0}get key(){throw N(57766)}get value(){throw N(16141)}get color(){throw N(16727)}get left(){throw N(29726)}get right(){throw N(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new pd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var md=class e{constructor(e){this.comparator=e,this.data=new dd(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hd(this.data.getIterator())}getIteratorFrom(e){return new hd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},hd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function gd(e){return e.hasNext()?e.getNext():void 0}var _d=class e{constructor(e){this.fields=e,e.sort(il.comparator)}static empty(){return new e([])}unionWith(t){let n=new md(il.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},vd=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},yd=class e{constructor(e){this.binaryString=e}static fromBase64String(t){return new e(function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new vd(`Invalid base64 string: `+e):e}}(t))}static fromUint8Array(t){return new e(function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return R(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yd.EMPTY_BYTE_STRING=new yd(``);var bd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xd(e){if(P(!!e,39018),typeof e==`string`){let t=0,n=bd.exec(e);if(P(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Sd(e.seconds),nanos:Sd(e.nanos)}}function Sd(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function Cd(e){return typeof e==`string`?yd.fromBase64String(e):yd.fromUint8Array(e)}var J=`server_timestamp`,wd=`__type__`,Td=`__previous_value__`,Ed=`__local_write_time__`;function Dd(e){return(e?.mapValue?.fields||{})[wd]?.stringValue===J}function Od(e){let t=e.mapValue.fields[Td];return Dd(t)?Od(t):t}function kd(e){let t=xd(e.mapValue.fields[Ed].timestampValue);return new gl(t.seconds,t.nanos)}var Ad=class{constructor(e,t,n,r,i,a,o,s,c,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l,this.apiKey=u}},jd=`(default)`,Md=class e{constructor(e,t){this.projectId=e,this.database=t||jd}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===jd}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}};function Nd(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new L(I.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new Md(e.options.projectId,t)}var Pd=`__type__`,Fd=`__max__`,Id={mapValue:{fields:{__type__:{stringValue:Fd}}}},Ld=`__vector__`,Rd=`value`,zd={nullValue:`NULL_VALUE`};function Bd(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?Dd(e)?4:rf(e)?9007199254740991:tf(e)?10:11:N(28295,{value:e})}function Vd(e,t){if(e===t)return!0;let n=Bd(e);if(n!==Bd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return kd(e).isEqual(kd(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=xd(e.timestampValue),r=xd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Cd(e.bytesValue).isEqual(Cd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Sd(e.geoPointValue.latitude)===Sd(t.geoPointValue.latitude)&&Sd(e.geoPointValue.longitude)===Sd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return Sd(e.integerValue)===Sd(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=Sd(e.doubleValue),r=Sd(t.doubleValue);return n===r?K(n)===K(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Qc(e.arrayValue.values||[],t.arrayValue.values||[],Vd);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cd(n)!==cd(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!Vd(n[e],r[e])))return!1;return!0}(e,t);default:return N(52216,{left:e})}}function Hd(e,t){return(e.values||[]).find((e=>Vd(e,t)))!==void 0}function Ud(e,t){if(e===t)return 0;let n=Bd(e),r=Bd(t);if(n!==r)return R(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return R(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=Sd(e.integerValue||e.doubleValue),r=Sd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wd(e.timestampValue,t.timestampValue);case 4:return Wd(kd(e),kd(t));case 5:return Jc(e.stringValue,t.stringValue);case 6:return function(e,t){let n=Cd(e),r=Cd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=R(n[e],r[e]);if(t!==0)return t}return R(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=R(Sd(e.latitude),Sd(t.latitude));return n===0?R(Sd(e.longitude),Sd(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return Gd(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[Rd]?.arrayValue,a=r[Rd]?.arrayValue,o=R(i?.values?.length||0,a?.values?.length||0);return o===0?Gd(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Id.mapValue&&t===Id.mapValue)return 0;if(e===Id.mapValue)return 1;if(t===Id.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=Jc(r[e],a[e]);if(t!==0)return t;let o=Ud(n[r[e]],i[a[e]]);if(o!==0)return o}return R(r.length,a.length)}(e.mapValue,t.mapValue);default:throw N(23264,{he:n})}}function Wd(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return R(e,t);let n=xd(e),r=xd(t),i=R(n.seconds,r.seconds);return i===0?R(n.nanos,r.nanos):i}function Gd(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=Ud(n[e],r[e]);if(t)return t}return R(n.length,r.length)}function Kd(e){return qd(e)}function qd(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=xd(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return Cd(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return z.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=qd(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${qd(e.fields[i])}`;return n+`}`}(e.mapValue):N(61005,{value:e})}function Jd(e){switch(Bd(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=Od(e);return t?16+Jd(t):16;case 5:return 2*e.stringValue.length;case 6:return Cd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Jd(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ld(e.fields,((e,n)=>{t+=e.length+Jd(n)})),t}(e.mapValue);default:throw N(13486,{value:e})}}function Yd(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Xd(e){return!!e&&`integerValue`in e}function Zd(e){return!!e&&`arrayValue`in e}function Qd(e){return!!e&&`nullValue`in e}function $d(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function ef(e){return!!e&&`mapValue`in e}function tf(e){return(e?.mapValue?.fields||{})[Pd]?.stringValue===Ld}function nf(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return ld(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=nf(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nf(e.arrayValue.values[n]);return t}return{...e}}function rf(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Fd}var af={mapValue:{fields:{[Pd]:{stringValue:Ld},[Rd]:{arrayValue:{}}}}};function of(e){return`nullValue`in e?zd:`booleanValue`in e?{booleanValue:!1}:`integerValue`in e||`doubleValue`in e?{doubleValue:NaN}:`timestampValue`in e?{timestampValue:{seconds:-(2**53-1)}}:`stringValue`in e?{stringValue:``}:`bytesValue`in e?{bytesValue:``}:`referenceValue`in e?Yd(Md.empty(),z.empty()):`geoPointValue`in e?{geoPointValue:{latitude:-90,longitude:-180}}:`arrayValue`in e?{arrayValue:{}}:`mapValue`in e?tf(e)?af:{mapValue:{}}:N(35942,{value:e})}function sf(e){return`nullValue`in e?{booleanValue:!1}:`booleanValue`in e?{doubleValue:NaN}:`integerValue`in e||`doubleValue`in e?{timestampValue:{seconds:-(2**53-1)}}:`timestampValue`in e?{stringValue:``}:`stringValue`in e?{bytesValue:``}:`bytesValue`in e?Yd(Md.empty(),z.empty()):`referenceValue`in e?{geoPointValue:{latitude:-90,longitude:-180}}:`geoPointValue`in e?{arrayValue:{}}:`arrayValue`in e?af:`mapValue`in e?tf(e)?{mapValue:{}}:Id:N(61959,{value:e})}function cf(e,t){let n=Ud(e.value,t.value);return n===0?e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0:n}function lf(e,t){let n=Ud(e.value,t.value);return n===0?e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0:n}var uf=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nf(t)}setAll(e){let t=il.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=nf(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ef(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ld(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(nf(this.value))}};function df(e){let t=[];return ld(e.fields,((e,n)=>{let r=new il([e]);if(ef(n)){let e=df(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new _d(t)}var ff=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,B.min(),B.min(),B.min(),uf.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,B.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,B.min(),B.min(),uf.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,B.min(),B.min(),uf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(B.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=uf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=uf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},pf=class{constructor(e,t){this.position=e,this.inclusive=t}};function mf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?z.comparator(z.fromName(o.referenceValue),n.key):Ud(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function hf(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vd(e.position[n],t.position[n]))return!1;return!0}var gf=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function _f(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var vf=class{},Y=class e extends vf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new Of(t,n,r):n===`array-contains`?new Mf(t,r):n===`in`?new Nf(t,r):n===`not-in`?new Pf(t,r):n===`array-contains-any`?new Ff(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new kf(e,n):new Af(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ud(t,this.value)):t!==null&&Bd(this.value)===Bd(t)&&this.matchesComparison(Ud(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return N(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},yf=class e extends vf{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(t,n){return new e(t,n)}matches(e){return bf(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function bf(e){return e.op===`and`}function xf(e){return e.op===`or`}function Sf(e){return Cf(e)&&bf(e)}function Cf(e){for(let t of e.filters)if(t instanceof yf)return!1;return!0}function wf(e){if(e instanceof Y)return e.field.canonicalString()+e.op.toString()+Kd(e.value);if(Sf(e))return e.filters.map((e=>wf(e))).join(`,`);{let t=e.filters.map((e=>wf(e))).join(`,`);return`${e.op}(${t})`}}function Tf(e,t){return e instanceof Y?function(e,t){return t instanceof Y&&e.op===t.op&&e.field.isEqual(t.field)&&Vd(e.value,t.value)}(e,t):e instanceof yf?function(e,t){return t instanceof yf&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&Tf(n,t.filters[r])),!0):!1}(e,t):void N(19439)}function Ef(e,t){let n=e.filters.concat(t);return yf.create(n,e.op)}function Df(e){return e instanceof Y?function(e){return`${e.field.canonicalString()} ${e.op} ${Kd(e.value)}`}(e):e instanceof yf?function(e){return e.op.toString()+` {`+e.getFilters().map(Df).join(` ,`)+`}`}(e):`Filter`}var Of=class extends Y{constructor(e,t,n){super(e,t,n),this.key=z.fromName(n.referenceValue)}matches(e){let t=z.comparator(e.key,this.key);return this.matchesComparison(t)}},kf=class extends Y{constructor(e,t){super(e,`in`,t),this.keys=jf(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},Af=class extends Y{constructor(e,t){super(e,`not-in`,t),this.keys=jf(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function jf(e,t){return(t.arrayValue?.values||[]).map((e=>z.fromName(e.referenceValue)))}var Mf=class extends Y{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return Zd(t)&&Hd(t.arrayValue,this.value)}},Nf=class extends Y{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&Hd(this.value.arrayValue,t)}},Pf=class extends Y{constructor(e,t){super(e,`not-in`,t)}matches(e){if(Hd(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hd(this.value.arrayValue,t)}},Ff=class extends Y{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!Zd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Hd(this.value.arrayValue,e)))}},If=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}};function Lf(e,t=null,n=[],r=[],i=null,a=null,o=null){return new If(e,t,n,r,i,a,o)}function Rf(e){let t=F(e);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>wf(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),G(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>Kd(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>Kd(e))).join(`,`)),t.Te=e}return t.Te}function zf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!_f(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Tf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hf(e.startAt,t.startAt)&&hf(e.endAt,t.endAt)}function Bf(e){return z.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function Vf(e,t){return e.filters.filter((e=>e instanceof Y&&e.field.isEqual(t)))}function Hf(e,t,n){let r=zd,i=!0;for(let n of Vf(e,t)){let e=zd,t=!0;switch(n.op){case`<`:case`<=`:e=of(n.value);break;case`==`:case`in`:case`>=`:e=n.value;break;case`>`:e=n.value,t=!1;break;case`!=`:case`not-in`:e=zd}cf({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(n!==null){for(let a=0;a<e.orderBy.length;++a)if(e.orderBy[a].field.isEqual(t)){let e=n.position[a];cf({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}}return{value:r,inclusive:i}}function Uf(e,t,n){let r=Id,i=!0;for(let n of Vf(e,t)){let e=Id,t=!0;switch(n.op){case`>=`:case`>`:e=sf(n.value),t=!1;break;case`==`:case`in`:case`<=`:e=n.value;break;case`<`:e=n.value,t=!1;break;case`!=`:case`not-in`:e=Id}lf({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(n!==null){for(let a=0;a<e.orderBy.length;++a)if(e.orderBy[a].field.isEqual(t)){let e=n.position[a];lf({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}}return{value:r,inclusive:i}}var Wf=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function Gf(e,t,n,r,i,a,o,s){return new Wf(e,t,n,r,i,a,o,s)}function Kf(e){return new Wf(e)}function qf(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Jf(e){return z.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function Yf(e){return e.collectionGroup!==null}function Xf(e){let t=F(e);if(t.Ie===null){t.Ie=[];let e=new Set;for(let n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new md(il.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new gf(r,n))})),e.has(il.keyField().canonicalString())||t.Ie.push(new gf(il.keyField(),n))}return t.Ie}function Zf(e){let t=F(e);return t.Ee||=Qf(t,Xf(e)),t.Ee}function Qf(e,t){if(e.limitType===`F`)return Lf(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new gf(e.field,t)}));let n=e.endAt?new pf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new pf(e.startAt.position,e.startAt.inclusive):null;return Lf(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $f(e,t,n){return new Wf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ep(e,t){return zf(Zf(e),Zf(t))&&e.limitType===t.limitType}function tp(e){return`${Rf(Zf(e))}|lt:${e.limitType}`}function np(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Df(e))).join(`, `)}]`),G(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>Kd(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>Kd(e))).join(`,`)),`Target(${t})`}(Zf(e))}; limitType=${e.limitType})`}function rp(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?z.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of Xf(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=mf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xf(e),t)||e.endAt&&!function(e,t,n){let r=mf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xf(e),t))}(e,t)}function ip(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ap(e){return(t,n)=>{let r=!1;for(let i of Xf(e)){let e=op(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function op(e,t,n){let r=e.field.isKeyField()?z.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?Ud(r,i):N(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return N(19790,{direction:e.dir})}}var sp=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ld(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return ud(this.inner)}size(){return this.innerSize}},cp=new dd(z.comparator);function lp(){return cp}var up=new dd(z.comparator);function dp(...e){let t=up;for(let n of e)t=t.insert(n.key,n);return t}function fp(e){let t=up;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function pp(){return hp()}function mp(){return hp()}function hp(){return new sp((e=>e.toString()),((e,t)=>e.isEqual(t)))}var gp=new dd(z.comparator),_p=new md(z.comparator);function X(...e){let t=_p;for(let n of e)t=t.add(n);return t}var vp=new md(R);function yp(){return vp}function bp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:K(t)?`-0`:t}}function xp(e){return{integerValue:``+e}}function Sp(e,t){return Ul(t)?xp(t):bp(e,t)}var Cp=class{constructor(){this._=void 0}};function wp(e,t,n){return e instanceof Dp?function(e,t){let n={fields:{[wd]:{stringValue:J},[Ed]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Dd(t)&&(t=Od(t)),t&&(n.fields[Td]=t),{mapValue:n}}(n,t):e instanceof Op?kp(e,t):e instanceof Ap?jp(e,t):function(e,t){let n=Ep(e,t),r=Np(n)+Np(e.Ae);return Xd(n)&&Xd(e.Ae)?xp(r):bp(e.serializer,r)}(e,t)}function Tp(e,t,n){return e instanceof Op?kp(e,t):e instanceof Ap?jp(e,t):n}function Ep(e,t){return e instanceof Mp?function(e){return Xd(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var Dp=class extends Cp{},Op=class extends Cp{constructor(e){super(),this.elements=e}};function kp(e,t){let n=Pp(t);for(let t of e.elements)n.some((e=>Vd(e,t)))||n.push(t);return{arrayValue:{values:n}}}var Ap=class extends Cp{constructor(e){super(),this.elements=e}};function jp(e,t){let n=Pp(t);for(let t of e.elements)n=n.filter((e=>!Vd(e,t)));return{arrayValue:{values:n}}}var Mp=class extends Cp{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function Np(e){return Sd(e.integerValue||e.doubleValue)}function Pp(e){return Zd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Fp=class{constructor(e,t){this.field=e,this.transform=t}};function Ip(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Op&&t instanceof Op||e instanceof Ap&&t instanceof Ap?Qc(e.elements,t.elements,Vd):e instanceof Mp&&t instanceof Mp?Vd(e.Ae,t.Ae):e instanceof Dp&&t instanceof Dp}(e.transform,t.transform)}var Lp=class{constructor(e,t){this.version=e,this.transformResults=t}},Rp=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function zp(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var Bp=class{};function Vp(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Zp(e.key,Rp.none()):new Kp(e.key,e.data,Rp.none());{let n=e.data,r=uf.empty(),i=new md(il.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new qp(e.key,r,new _d(i.toArray()),Rp.none())}}function Hp(e,t,n){e instanceof Kp?function(e,t,n){let r=e.value.clone(),i=Yp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof qp?function(e,t,n){if(!zp(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=Yp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Jp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Up(e,t,n,r){return e instanceof Kp?function(e,t,n,r){if(!zp(e.precondition,t))return n;let i=e.value.clone(),a=Xp(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof qp?function(e,t,n,r){if(!zp(e.precondition,t))return n;let i=Xp(e.fieldTransforms,r,t),a=t.data;return a.setAll(Jp(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return zp(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Wp(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=Ep(r.transform,e||null);i!=null&&(n===null&&(n=uf.empty()),n.set(r.field,i))}return n||null}function Gp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&Qc(e,t,((e,t)=>Ip(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Kp=class extends Bp{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},qp=class extends Bp{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function Jp(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function Yp(e,t,n){let r=new Map;P(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Tp(o,s,n[i]))}return r}function Xp(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,wp(e,a,t))}return r}var Zp=class extends Bp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qp=class extends Bp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},$p=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&Hp(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=Up(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=Up(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=mp();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=Vp(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(B.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),X())}isEqual(e){return this.batchId===e.batchId&&Qc(this.mutations,e.mutations,((e,t)=>Gp(e,t)))&&Qc(this.baseMutations,e.baseMutations,((e,t)=>Gp(e,t)))}},em=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){P(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return gp}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},tm=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},nm=class{constructor(e,t){this.count=e,this.unchangedNames=t}},rm,Z;function im(e){switch(e){case I.OK:return N(64938);case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0;default:return N(15467,{code:e})}}function am(e){if(e===void 0)return Pc(`GRPC error has no .code`),I.UNKNOWN;switch(e){case rm.OK:return I.OK;case rm.CANCELLED:return I.CANCELLED;case rm.UNKNOWN:return I.UNKNOWN;case rm.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case rm.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case rm.INTERNAL:return I.INTERNAL;case rm.UNAVAILABLE:return I.UNAVAILABLE;case rm.UNAUTHENTICATED:return I.UNAUTHENTICATED;case rm.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case rm.NOT_FOUND:return I.NOT_FOUND;case rm.ALREADY_EXISTS:return I.ALREADY_EXISTS;case rm.PERMISSION_DENIED:return I.PERMISSION_DENIED;case rm.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case rm.ABORTED:return I.ABORTED;case rm.OUT_OF_RANGE:return I.OUT_OF_RANGE;case rm.UNIMPLEMENTED:return I.UNIMPLEMENTED;case rm.DATA_LOSS:return I.DATA_LOSS;default:return N(39323,{code:e})}}(Z=rm||={})[Z.OK=0]=`OK`,Z[Z.CANCELLED=1]=`CANCELLED`,Z[Z.UNKNOWN=2]=`UNKNOWN`,Z[Z.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,Z[Z.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,Z[Z.NOT_FOUND=5]=`NOT_FOUND`,Z[Z.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,Z[Z.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,Z[Z.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,Z[Z.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,Z[Z.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,Z[Z.ABORTED=10]=`ABORTED`,Z[Z.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,Z[Z.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,Z[Z.INTERNAL=13]=`INTERNAL`,Z[Z.UNAVAILABLE=14]=`UNAVAILABLE`,Z[Z.DATA_LOSS=15]=`DATA_LOSS`;var om=null;function sm(){return new TextEncoder}var cm=new _c([4294967295,4294967295],0);function lm(e){let t=sm().encode(e),n=new vc;return n.update(t),new Uint8Array(n.digest())}function um(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new _c([n,r],0),new _c([i,a],0)]}var dm=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new fm(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new fm(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new fm(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_c.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(_c.fromNumber(n)));return r.compare(cm)===1&&(r=new _c([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let[t,n]=um(lm(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((e=>a.insert(e))),a}insert(e){if(this.ge===0)return;let[t,n]=um(lm(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.be(r)}}be(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},fm=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},pm=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,mm.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(B.min(),i,new dd(R),lp(),X())}},mm=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,X(),X(),X())}},hm=class{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.De=r}},gm=class{constructor(e,t){this.targetId=e,this.Ce=t}},_m=class{constructor(e,t,n=yd.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},vm=class{constructor(){this.ve=0,this.Fe=xm(),this.Me=yd.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=X(),t=X(),n=X();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:N(38017,{changeType:i})}})),new mm(this.Me,this.xe,e,t,n)}Ke(){this.Oe=!1,this.Fe=xm()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){--this.ve,P(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}},ym=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=lp(),this.He=bm(),this.Je=bm(),this.Ze=new dd(R)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:N(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if(Bf(i))if(n===0){let e=new z(i.path);this.et(t,e,ff.newNoDocument(e,B.min()))}else P(n===1,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;if(i!==0){this.it(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.Ze=this.Ze.insert(t,e)}om?.lt(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),a}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=Cd(n).toUint8Array()}catch(e){if(e instanceof vd)return Fc(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new dm(a,r,i)}catch(e){return Fc(e instanceof fm?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)})),r}Tt(e){let t=new Map;this.ze.forEach(((n,r)=>{let i=this.ot(r);if(i){if(n.current&&Bf(i.target)){let t=new z(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,ff.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.Ke())}}));let n=X();this.Je.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.ot(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));let r=new pm(e,t,this.Ze,this.je,n);return this.je=lp(),this.He=bm(),this.Je=bm(),this.Ze=new dd(R),r}Ye(e,t){if(!this.rt(e))return;let n=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,n),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new vm,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new md(R),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new md(R),this.He=this.He.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||M(`WatchChangeAggregator`,`Detected inactive target`,e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vm),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function bm(){return new dd(z.comparator)}function xm(){return new dd(z.comparator)}var Sm={asc:`ASCENDING`,desc:`DESCENDING`},Cm={"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`},wm={and:`AND`,or:`OR`},Tm=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Em(e,t){return e.useProto3Json||G(t)?t:{value:t}}function Dm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function Om(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function km(e,t){return Dm(e,t.toTimestamp())}function Am(e){return P(!!e,49232),B.fromTimestamp(function(e){let t=xd(e);return new gl(t.seconds,t.nanos)}(e))}function jm(e,t){return Mm(e,t).canonicalString()}function Mm(e,t){let n=function(e){return new nl([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function Nm(e){let t=nl.fromString(e);return P(ih(t),10190,{key:t.toString()}),t}function Pm(e,t){return jm(e.databaseId,t.path)}function Fm(e,t){let n=Nm(t);if(n.get(1)!==e.databaseId.projectId)throw new L(I.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(I.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new z(zm(n))}function Im(e,t){return jm(e.databaseId,t)}function Lm(e){let t=Nm(e);return t.length===4?nl.emptyPath():zm(t)}function Rm(e){return new nl([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function zm(e){return P(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function Bm(e,t,n){return{name:Pm(e,t),fields:n.value.mapValue.fields}}function Vm(e,t,n){let r=Fm(e,t.name),i=Am(t.updateTime),a=t.createTime?Am(t.createTime):B.min(),o=new uf({mapValue:{fields:t.fields}}),s=ff.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Hm(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:N(39313,{state:e})}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(P(t===void 0||typeof t==`string`,58123),yd.fromBase64String(t||``)):(P(t===void 0||t instanceof Buffer||t instanceof Uint8Array,16193),yd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause;n=new _m(r,i,a,o&&function(e){return new L(e.code===void 0?I.UNKNOWN:am(e.code),e.message||``)}(o)||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=Fm(e,r.document.name),a=Am(r.document.updateTime),o=r.document.createTime?Am(r.document.createTime):B.min(),s=new uf({mapValue:{fields:r.document.fields}}),c=ff.newFoundDocument(i,a,o,s);n=new hm(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=Fm(e,r.document),a=r.readTime?Am(r.readTime):B.min(),o=ff.newNoDocument(i,a);n=new hm([],r.removedTargetIds||[],o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=Fm(e,r.document);n=new hm([],r.removedTargetIds||[],i,null)}else{if(!(`filter`in t))return N(11601,{Vt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new nm(r,i),o=e.targetId;n=new gm(o,a)}}return n}function Um(e,t){let n;if(t instanceof Kp)n={update:Bm(e,t.key,t.value)};else if(t instanceof Zp)n={delete:Pm(e,t.key)};else if(t instanceof qp)n={update:Bm(e,t.key,t.data),updateMask:rh(t.fieldMask)};else{if(!(t instanceof Qp))return N(16599,{dt:t.type});n={verify:Pm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof Dp)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof Op)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ap)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Mp)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw N(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?N(27497):{exists:t.exists}:{updateTime:km(e,t.updateTime)}}(e,t.precondition)),n}function Wm(e,t){let n=t.currentDocument?function(e){return e.updateTime===void 0?e.exists===void 0?Rp.none():Rp.exists(e.exists):Rp.updateTime(Am(e.updateTime))}(t.currentDocument):Rp.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;return`setToServerValue`in t?(P(t.setToServerValue===`REQUEST_TIME`,16630,{proto:t}),n=new Dp):`appendMissingElements`in t?n=new Op(t.appendMissingElements.values||[]):`removeAllFromArray`in t?n=new Ap(t.removeAllFromArray.values||[]):`increment`in t?n=new Mp(e,t.increment):N(16584,{proto:t}),new Fp(il.fromServerFormat(t.fieldPath),n)}(e,t))):[];if(t.update){t.update.name;let i=Fm(e,t.update.name),a=new uf({mapValue:{fields:t.update.fields}});return t.updateMask?new qp(i,a,function(e){return new _d((e.fieldPaths||[]).map((e=>il.fromServerFormat(e))))}(t.updateMask),n,r):new Kp(i,a,n,r)}return t.delete?new Zp(Fm(e,t.delete),n):t.verify?new Qp(Fm(e,t.verify),n):N(1463,{proto:t})}function Gm(e,t){return e&&e.length>0?(P(t!==void 0,14353),e.map((e=>function(e,t){let n=e.updateTime?Am(e.updateTime):Am(t);return n.isEqual(B.min())&&(n=Am(t)),new Lp(n,e.transformResults||[])}(e,t)))):[]}function Km(e,t){return{documents:[Im(e,t.path)]}}function qm(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=Im(e,i);let a=function(e){if(e.length!==0)return nh(yf.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:eh(e.field),direction:Zm(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=Em(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Jm(e){let t=Lm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){P(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=Xm(e);return t instanceof yf&&Sf(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new gf(th(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,G(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before;return new pf(e.values||[],t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before;return new pf(e.values||[],t)}(n.endAt)),Gf(t,i,o,a,s,`F`,c,l)}function Ym(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return N(28987,{purpose:e})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Xm(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?N(30097,{filter:e}):function(e){return yf.create(e.compositeFilter.filters.map((e=>Xm(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return N(1026)}}(e.compositeFilter.op))}(e):function(e){return Y.create(th(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return N(58110);default:return N(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=th(e.unaryFilter.field);return Y.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=th(e.unaryFilter.field);return Y.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=th(e.unaryFilter.field);return Y.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=th(e.unaryFilter.field);return Y.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return N(61313);default:return N(60726)}}(e)}function Zm(e){return Sm[e]}function Qm(e){return Cm[e]}function $m(e){return wm[e]}function eh(e){return{fieldPath:e.canonicalString()}}function th(e){return il.fromServerFormat(e.fieldPath)}function nh(e){return e instanceof Y?function(e){if(e.op===`==`){if($d(e.value))return{unaryFilter:{field:eh(e.field),op:`IS_NAN`}};if(Qd(e.value))return{unaryFilter:{field:eh(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if($d(e.value))return{unaryFilter:{field:eh(e.field),op:`IS_NOT_NAN`}};if(Qd(e.value))return{unaryFilter:{field:eh(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:eh(e.field),op:Qm(e.op),value:e.value}}}(e):e instanceof yf?function(e){let t=e.getFilters().map((e=>nh(e)));return t.length===1?t[0]:{compositeFilter:{op:$m(e.op),filters:t}}}(e):N(54877,{filter:e})}function rh(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ih(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}function ah(e){return!!e&&typeof e._toProto==`function`&&e._protoValueType===`ProtoValue`}var oh=class e{constructor(e,t,n,r,i=B.min(),a=B.min(),o=yd.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},sh=class{constructor(e){this.yt=e}};function ch(e,t){let n;if(t.document)n=Vm(e.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){let e=z.fromSegments(t.noDocument.path),r=fh(t.noDocument.readTime);n=ff.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return N(56709);{let e=z.fromSegments(t.unknownDocument.path),r=fh(t.unknownDocument.version);n=ff.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){let t=new gl(e[0],e[1]);return B.fromTimestamp(t)}(t.readTime)),n}function lh(e,t){let n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:uh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Pm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Dm(e,t.version.toTimestamp()),createTime:Dm(e,t.createTime.toTimestamp())}}(e.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:dh(t.version)};else{if(!t.isUnknownDocument())return N(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:dh(t.version)}}return r}function uh(e){let t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function dh(e){let t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function fh(e){let t=new gl(e.seconds,e.nanoseconds);return B.fromTimestamp(t)}function ph(e,t){let n=(t.baseMutations||[]).map((t=>Wm(e.yt,t)));for(let e=0;e<t.mutations.length-1;++e){let n=t.mutations[e];e+1<t.mutations.length&&t.mutations[e+1].transform!==void 0&&(n.updateTransforms=t.mutations[e+1].transform.fieldTransforms,t.mutations.splice(e+1,1),++e)}let r=t.mutations.map((t=>Wm(e.yt,t))),i=gl.fromMillis(t.localWriteTimeMs);return new $p(t.batchId,i,n,r)}function mh(e){let t=fh(e.readTime),n=e.lastLimboFreeSnapshotVersion===void 0?B.min():fh(e.lastLimboFreeSnapshotVersion),r;return r=function(e){return e.documents!==void 0}(e.query)?function(e){let t=e.documents.length;return P(t===1,1966,{count:t}),Zf(Kf(Lm(e.documents[0])))}(e.query):function(e){return Zf(Jm(e))}(e.query),new oh(r,e.targetId,`TargetPurposeListen`,e.lastListenSequenceNumber,t,n,yd.fromBase64String(e.resumeToken))}function hh(e,t){let n=dh(t.snapshotVersion),r=dh(t.lastLimboFreeSnapshotVersion),i;i=Bf(t.target)?Km(e.yt,t.target):qm(e.yt,t.target).ft;let a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Rf(t.target),readTime:n,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function gh(e){let t=Jm({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?$f(t,t.limit,`L`):t}function _h(e,t){return new tm(t.largestBatchId,Wm(e.yt,t.overlayMutation))}function vh(e,t){let n=t.path.lastSegment();return[e,Gl(t.path.popLast()),n]}function yh(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:dh(r.readTime),documentKey:Gl(r.documentKey.path),largestBatchId:r.largestBatchId}}var bh=class{getBundleMetadata(e,t){return xh(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:fh(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return xh(e).put(function(e){return{bundleId:e.id,createTime:dh(Am(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Sh(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:gh(e.bundledQuery),readTime:fh(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Sh(e).put(function(e){return{name:e.name,readTime:dh(Am(e.readTime)),bundledQuery:e.bundledQuery}}(t))}};function xh(e){return sd(e,Ou)}function Sh(e){return sd(e,Au)}var Ch=class e{constructor(e,t){this.serializer=e,this.userId=t}static wt(t,n){return new e(t,n.uid||``)}getOverlay(e,t){return wh(e).get(vh(this.userId,t)).next((e=>e?_h(this.serializer,e):null))}getOverlays(e,t){let n=pp();return V.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){let r=[];return n.forEach(((n,i)=>{let a=new tm(t,i);r.push(this.bt(e,a))})),V.waitFor(r)}removeOverlaysForBatchId(e,t,n){let r=new Set;t.forEach((e=>r.add(Gl(e.getCollectionPath()))));let i=[];return r.forEach((t=>{let r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(wh(e).X(Ku,r))})),V.waitFor(i)}getOverlaysForCollection(e,t,n){let r=pp(),i=Gl(t),a=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,1/0],!0);return wh(e).H(Ku,a).next((e=>{for(let t of e){let e=_h(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){let i=pp(),a,o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,1/0],!0);return wh(e).ee({index:Ju,range:o},((e,t,n)=>{let o=_h(this.serializer,t);i.size()<r||o.largestBatchId===a?(i.set(o.getKey(),o),a=o.largestBatchId):n.done()})).next((()=>i))}bt(e,t){return wh(e).put(function(e,t,n){let[r,i,a]=vh(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:a,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Um(e.yt,n.mutation)}}(this.serializer,this.userId,t))}};function wh(e){return sd(e,Wu)}var Th=class{St(e){return sd(e,Xu)}getSessionToken(e){return this.St(e).get(`sessionToken`).next((e=>{let t=e?.value;return t?yd.fromUint8Array(t):yd.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:`sessionToken`,value:t.toUint8Array()})}},Eh=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if(`nullValue`in e)this.Ft(t,5);else if(`booleanValue`in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if(`integerValue`in e)this.Ft(t,15),t.Mt(Sd(e.integerValue));else if(`doubleValue`in e){let n=Sd(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),K(n)?t.Mt(0):t.Mt(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ft(t,20),typeof n==`string`&&(n=xd(n)),t.xt(`${n.seconds||``}`),t.Mt(n.nanos||0)}else if(`stringValue`in e)this.Ot(e.stringValue,t),this.Nt(t);else if(`bytesValue`in e)this.Ft(t,30),t.Bt(Cd(e.bytesValue)),this.Nt(t);else if(`referenceValue`in e)this.Lt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else `mapValue`in e?rf(e)?this.Ft(t,2**53-1):tf(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):`arrayValue`in e?(this.qt(e.arrayValue,t),this.Nt(t)):N(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let n=e.fields||{};this.Ft(t,55);for(let e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=Rd,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Sd(i)),this.Ot(r,t),this.Ct(n[r],t)}qt(e,t){let n=e.values||[];this.Ft(t,50);for(let e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),z.fromName(e).path.forEach((e=>{this.Ft(t,60),this.$t(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Eh.Wt=new Eh;var Dh=255;function Oh(e){if(e===0)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function kh(e){let t=64-function(e){let t=0;for(let n=0;n<8;++n){let r=Oh(255&e[n]);if(t+=r,r!==8)break}return t}(e);return Math.ceil(t/8)}var Ah=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){let t=e[Symbol.iterator](),n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){let t=e[Symbol.iterator](),n=t.next();for(;!n.done;)this.Ht(n.value),n=t.next();this.Jt()}Zt(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.Gt(e);else if(e<2048)this.Gt(960|e>>>6),this.Gt(128|63&e);else if(t<`\ud800`||`\udbff`<t)this.Gt(480|e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e);else{let e=t.codePointAt(0);this.Gt(240|e>>>18),this.Gt(128|63&e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e)}}this.zt()}Xt(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.Ht(e);else if(e<2048)this.Ht(960|e>>>6),this.Ht(128|63&e);else if(t<`\ud800`||`\udbff`<t)this.Ht(480|e>>>12),this.Ht(128|63&e>>>6),this.Ht(128|63&e);else{let e=t.codePointAt(0);this.Ht(240|e>>>18),this.Ht(128|63&e>>>12),this.Ht(128|63&e>>>6),this.Ht(128|63&e)}}this.Jt()}Yt(e){let t=this.en(e),n=kh(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}nn(e){let t=this.en(e),n=kh(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}rn(){this.sn(Dh),this.sn(255)}_n(){this.an(Dh),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){let t=function(e){let t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}Gt(e){let t=255&e;t===0?(this.sn(0),this.sn(255)):t===Dh?(this.sn(Dh),this.sn(0)):this.sn(t)}Ht(e){let t=255&e;t===0?(this.an(0),this.an(255)):t===Dh?(this.an(Dh),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){let t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);let r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}},jh=class{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}},Mh=class{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}},Nh=class{constructor(){this.cn=new Ah,this.ascending=new jh(this.cn),this.descending=new Mh(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}},Ph=class e{constructor(e,t,n,r){this.hn=e,this.Pn=t,this.Tn=n,this.In=r}En(){let t=this.In.length,n=t===0||this.In[t-1]===255?t+1:t,r=new Uint8Array(n);return r.set(this.In,0),n===t?++r[r.length-1]:r.set([0],this.In.length),new e(this.hn,this.Pn,this.Tn,r)}Rn(e,t,n){return{indexId:this.hn,uid:e,arrayValue:Lh(this.Tn),directionalValue:Lh(this.In),orderedDocumentKey:Lh(t),documentKey:n.path.toArray()}}An(e,t,n){let r=this.Rn(e,t,n);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}};function Fh(e,t){let n=e.hn-t.hn;return n===0?(n=Ih(e.Tn,t.Tn),n===0?(n=Ih(e.In,t.In),n===0?z.comparator(e.Pn,t.Pn):n):n):n}function Ih(e,t){for(let n=0;n<e.length&&n<t.length;++n){let r=e[n]-t[n];if(r!==0)return r}return e.length-t.length}function Lh(e){return _t()?function(e){let t=``;for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e):e}function Rh(e){return typeof e==`string`?function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e):e}var zh=class{constructor(e){this.Vn=new md(((e,t)=>il.comparator(e.field,t.field))),this.collectionId=e.collectionGroup==null?e.path.lastSegment():e.collectionGroup,this.dn=e.orderBy,this.mn=[];for(let t of e.filters){let e=t;e.isInequality()?this.Vn=this.Vn.add(e):this.mn.push(e)}}get fn(){return this.Vn.size>1}gn(e){if(P(e.collectionGroup===this.collectionId,49279),this.fn)return!1;let t=yl(e);if(t!==void 0&&!this.pn(t))return!1;let n=bl(e),r=new Set,i=0,a=0;for(;i<n.length&&this.pn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Vn.size>0){let e=this.Vn.getIterator().getNext();if(!r.has(e.field.canonicalString())){let t=n[i];if(!this.yn(e,t)||!this.wn(this.dn[a++],t))return!1}++i}for(;i<n.length;++i){let e=n[i];if(a>=this.dn.length||!this.wn(this.dn[a++],e))return!1}return!0}bn(){if(this.fn)return null;let e=new md(il.comparator),t=[];for(let n of this.mn)if(!n.field.isKeyField())if(n.op===`array-contains`||n.op===`array-contains-any`)t.push(new xl(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new xl(n.field,0))}for(let n of this.dn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new xl(n.field,n.dir===`asc`?0:1)));return new vl(vl.UNKNOWN_ID,this.collectionId,t,Sl.empty())}pn(e){for(let t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let n=e.op===`array-contains`||e.op===`array-contains-any`;return t.kind===2===n}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir===`asc`||t.kind===1&&e.dir===`desc`)}};function Bh(e){if(P(e instanceof Y||e instanceof yf,20012),e instanceof Y){if(e instanceof Nf){let t=e.value.arrayValue?.values?.map((t=>Y.create(e.field,`==`,t)))||[];return yf.create(t,`or`)}return e}let t=e.filters.map((e=>Bh(e)));return yf.create(t,e.op)}function Vh(e){if(e.getFilters().length===0)return[];let t=Gh(Bh(e));return P(Wh(t),7391),Hh(t)||Uh(t)?[t]:t.getFilters()}function Hh(e){return e instanceof Y}function Uh(e){return e instanceof yf&&Sf(e)}function Wh(e){return Hh(e)||Uh(e)||function(e){if(e instanceof yf&&xf(e)){for(let t of e.getFilters())if(!Hh(t)&&!Uh(t))return!1;return!0}return!1}(e)}function Gh(e){if(P(e instanceof Y||e instanceof yf,34018),e instanceof Y)return e;if(e.filters.length===1)return Gh(e.filters[0]);let t=e.filters.map((e=>Gh(e))),n=yf.create(t,e.op);return n=Jh(n),Wh(n)?n:(P(n instanceof yf,64498),P(bf(n),40251),P(n.filters.length>1,57927),n.filters.reduce(((e,t)=>Kh(e,t))))}function Kh(e,t){let n;return P(e instanceof Y||e instanceof yf,38388),P(t instanceof Y||t instanceof yf,25473),n=e instanceof Y?t instanceof Y?function(e,t){return yf.create([e,t],`and`)}(e,t):qh(e,t):t instanceof Y?qh(t,e):function(e,t){if(P(e.filters.length>0&&t.filters.length>0,48005),bf(e)&&bf(t))return Ef(e,t.getFilters());let n=xf(e)?e:t,r=xf(e)?t:e,i=n.filters.map((e=>Kh(e,r)));return yf.create(i,`or`)}(e,t),Jh(n)}function qh(e,t){if(bf(t))return Ef(t,e.getFilters());{let n=t.filters.map((t=>Kh(e,t)));return yf.create(n,`or`)}}function Jh(e){if(P(e instanceof Y||e instanceof yf,11850),e instanceof Y)return e;let t=e.getFilters();if(t.length===1)return Jh(t[0]);if(Cf(e))return e;let n=t.map((e=>Jh(e))),r=[];return n.forEach((t=>{t instanceof Y?r.push(t):t instanceof yf&&(t.op===e.op?r.push(...t.filters):r.push(t))})),r.length===1?r[0]:yf.create(r,e.op)}var Yh=class{constructor(){this.Sn=new Xh}addToCollectionParentIndex(e,t){return this.Sn.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(Tl.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(Tl.min())}updateCollectionGroup(e,t,n){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},Xh=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new md(nl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new md(nl.comparator)).toArray()}},Zh=`IndexedDbIndexManager`,Qh=new Uint8Array,$h=class{constructor(e,t){this.databaseId=t,this.Dn=new Xh,this.Cn=new sp((e=>Rf(e)),((e,t)=>zf(e,t))),this.uid=e.uid||``}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){let n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));let i={collectionId:n,parent:Gl(r)};return eg(e).put(i)}return V.resolve()}getCollectionParents(e,t){let n=[],r=IDBKeyRange.bound([t,``],[$c(t),``],!1,!0);return eg(e).H(r).next((e=>{for(let r of e){if(r.collectionId!==t)break;n.push(q(r.parent))}return n}))}addFieldIndex(e,t){let n=ng(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;let i=n.add(r);if(t.indexState){let n=rg(e);return i.next((e=>{n.put(yh(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){let n=ng(e),r=rg(e),i=tg(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){let t=ng(e),n=tg(e),r=rg(e);return t.X().next((()=>n.X())).next((()=>r.X()))}createTargetIndexes(e,t){return V.forEach(this.vn(t),(t=>this.getIndexType(e,t).next((n=>{if(n===0||n===1){let n=new zh(t).bn();if(n!=null)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){let n=tg(e),r=!0,i=new Map;return V.forEach(this.vn(t),(t=>this.Fn(e,t).next((e=>{r&&=!!e,i.set(t,e)})))).next((()=>{if(r){let e=X(),r=[];return V.forEach(i,((i,a)=>{M(Zh,`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(`,`)}`}(i)} to execute ${Rf(t)}`);let o=function(e,t){let n=yl(t);if(n===void 0)return null;for(let t of Vf(e,n.fieldPath))switch(t.op){case`array-contains-any`:return t.value.arrayValue.values||[];case`array-contains`:return[t.value]}return null}(a,i),s=function(e,t){let n=new Map;for(let r of bl(t))for(let t of Vf(e,r.fieldPath))switch(t.op){case`==`:case`in`:n.set(r.fieldPath.canonicalString(),t.value);break;case`not-in`:case`!=`:return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(a,i),c=function(e,t){let n=[],r=!0;for(let i of bl(t)){let t=i.kind===0?Hf(e,i.fieldPath,e.startAt):Uf(e,i.fieldPath,e.startAt);n.push(t.value),r&&=t.inclusive}return new pf(n,r)}(a,i),l=function(e,t){let n=[],r=!0;for(let i of bl(t)){let t=i.kind===0?Uf(e,i.fieldPath,e.endAt):Hf(e,i.fieldPath,e.endAt);n.push(t.value),r&&=t.inclusive}return new pf(n,r)}(a,i),u=this.Mn(i,a,c),d=this.Mn(i,a,l),f=this.xn(i,a,s),p=this.On(i.indexId,o,u,c.inclusive,d,l.inclusive,f);return V.forEach(p,(i=>n.Z(i,t.limit).next((t=>{t.forEach((t=>{let n=z.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return V.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(t=e.filters.length===0?[e]:Vh(yf.create(e.filters,`and`)).map((t=>Lf(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,n,r,i,a,o){let s=(t==null?1:t.length)*Math.max(n.length,i.length),c=s/(t==null?1:t.length),l=[];for(let u=0;u<s;++u){let s=t?this.Nn(t[u/c]):Qh,d=this.Bn(e,s,n[u%c],r),f=this.Ln(e,s,i[u%c],a),p=o.map((t=>this.Bn(e,s,t,!0)));l.push(...this.createRange(d,f,p))}return l}Bn(e,t,n,r){let i=new Ph(e,z.empty(),t,n);return r?i:i.En()}Ln(e,t,n,r){let i=new Ph(e,z.empty(),t,n);return r?i.En():i}Fn(e,t){let n=new zh(t),r=t.collectionGroup==null?t.path.lastSegment():t.collectionGroup;return this.getFieldIndexes(e,r).next((e=>{let t=null;for(let r of e)n.gn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2,r=this.vn(t);return V.forEach(r,(t=>this.Fn(e,t).next((e=>{e?n!==0&&e.fields.length<function(e){let t=new md(il.comparator),n=!1;for(let r of e.filters)for(let e of r.getFlattenedFilters())e.field.isKeyField()||(e.op===`array-contains`||e.op===`array-contains-any`?n=!0:t=t.add(e.field));for(let n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return e.limit!==null}(t)&&r.length>1&&n===2?1:n))}kn(e,t){let n=new Nh;for(let r of bl(e)){let e=t.data.field(r.fieldPath);if(e==null)return null;let i=n.ln(r.kind);Eh.Wt.Dt(e,i)}return n.un()}Nn(e){let t=new Nh;return Eh.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){let n=new Nh;return Eh.Wt.Dt(Yd(this.databaseId,t),n.ln(function(e){let t=bl(e);return t.length===0?0:t[t.length-1].kind}(e))),n.un()}xn(e,t,n){if(n===null)return[];let r=[];r.push(new Nh);let i=0;for(let a of bl(e)){let e=n[i++];for(let n of r)if(this.qn(t,a.fieldPath)&&Zd(e))r=this.Un(r,a,e);else{let t=n.ln(a.kind);Eh.Wt.Dt(e,t)}}return this.$n(r)}Mn(e,t,n){return this.xn(e,t,n.position)}$n(e){let t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Un(e,t,n){let r=[...e],i=[];for(let e of n.arrayValue.values||[])for(let n of r){let r=new Nh;r.seed(n.un()),Eh.Wt.Dt(e,r.ln(t.kind)),i.push(r)}return i}qn(e,t){return!!e.filters.find((e=>e instanceof Y&&e.field.isEqual(t)&&(e.op===`in`||e.op===`not-in`)))}getFieldIndexes(e,t){let n=ng(e),r=rg(e);return(t?n.H(Pu,IDBKeyRange.bound(t,t)):n.H()).next((e=>{let t=[];return V.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){let n=t?new Sl(t.sequenceNumber,new Tl(fh(t.readTime),new z(q(t.documentKey)),t.largestBatchId)):Sl.empty(),r=e.fields.map((([e,t])=>new xl(il.fromServerFormat(e),t)));return new vl(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>e.length===0?null:(e.sort(((e,t)=>{let n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return n===0?R(e.collectionGroup,t.collectionGroup):n})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){let r=ng(e),i=rg(e);return this.Wn(e).next((e=>r.H(Pu,IDBKeyRange.bound(t,t)).next((t=>V.forEach(t,(t=>i.put(yh(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){let n=new Map;return V.forEach(t,((t,r)=>{let i=n.get(t.collectionGroup);return(i?V.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),V.forEach(i,(n=>this.Qn(e,t,n).next((t=>{let i=this.Gn(r,n);return t.isEqual(i)?V.resolve():this.zn(e,r,n,t,i)})))))))}))}jn(e,t,n,r){return tg(e).put(r.Rn(this.uid,this.Kn(n,t.key),t.key))}Hn(e,t,n,r){return tg(e).delete(r.An(this.uid,this.Kn(n,t.key),t.key))}Qn(e,t,n){let r=tg(e),i=new md(Fh);return r.ee({index:Hu,range:IDBKeyRange.only([n.indexId,this.uid,Lh(this.Kn(n,t))])},((e,r)=>{i=i.add(new Ph(n.indexId,t,Rh(r.arrayValue),Rh(r.directionalValue)))})).next((()=>i))}Gn(e,t){let n=new md(Fh),r=this.kn(t,e);if(r==null)return n;let i=yl(t);if(i!=null){let a=e.data.field(i.fieldPath);if(Zd(a))for(let i of a.arrayValue.values||[])n=n.add(new Ph(t.indexId,e.key,this.Nn(i),r))}else n=n.add(new Ph(t.indexId,e.key,Qh,r));return n}zn(e,t,n,r,i){M(Zh,`Updating index entries for document '%s'`,t.key);let a=[];return function(e,t,n,r,i){let a=e.getIterator(),o=t.getIterator(),s=gd(a),c=gd(o);for(;s||c;){let e=!1,t=!1;if(s&&c){let r=n(s,c);r<0?t=!0:r>0&&(e=!0)}else s==null?e=!0:t=!0;e?(r(c),c=gd(o)):t?(i(s),s=gd(a)):(s=gd(a),c=gd(o))}}(r,i,Fh,(r=>{a.push(this.jn(e,t,n,r))}),(r=>{a.push(this.Hn(e,t,n,r))})),V.waitFor(a)}Wn(e){let t=1;return rg(e).ee({index:Ru,reverse:!0,range:IDBKeyRange.upperBound([this.uid,2**53-1])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Fh(e,t))).filter(((e,t,n)=>!t||Fh(e,n[t-1])!==0));let r=[];r.push(e);for(let i of n){let n=Fh(i,e),a=Fh(i,t);if(n===0)r[0]=e.En();else if(n>0&&a<0)r.push(i),r.push(i.En());else if(a>0)break}r.push(t);let i=[];for(let e=0;e<r.length;e+=2){if(this.Jn(r[e],r[e+1]))return[];let t=r[e].An(this.uid,Qh,z.empty()),n=r[e+1].An(this.uid,Qh,z.empty());i.push(IDBKeyRange.bound(t,n))}return i}Jn(e,t){return Fh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ig)}getMinOffset(e,t){return V.mapArray(this.vn(t),(t=>this.Fn(e,t).next((e=>e||N(44426))))).next(ig)}};function eg(e){return sd(e,wu)}function tg(e){return sd(e,Bu)}function ng(e){return sd(e,Mu)}function rg(e){return sd(e,Iu)}function ig(e){P(e.length!==0,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){let i=e[r].indexState.offset;El(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Tl(t.readTime,t.documentKey,n)}var ag={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},og=41943040,sg=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};function cg(e,t,n){let r=e.store($l),i=e.store(ou),a=[],o=IDBKeyRange.only(n.batchId),s=0,c=r.ee({range:o},((e,t,n)=>(s++,n.delete())));a.push(c.next((()=>{P(s===1,47070,{batchId:n.batchId})})));let l=[];for(let e of n.mutations){let r=iu(t,e.key.path,n.batchId);a.push(i.delete(r)),l.push(e.key)}return V.waitFor(a).next((()=>l))}function lg(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw N(14731);t=e.noDocument}return JSON.stringify(t).length}sg.DEFAULT_COLLECTION_PERCENTILE=10,sg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sg.DEFAULT=new sg(og,sg.DEFAULT_COLLECTION_PERCENTILE,sg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sg.DISABLED=new sg(-1,0,0);var ug=class e{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Zn={}}static wt(t,n,r,i){return P(t.uid!==``,64387),new e(t.isAuthenticated()?t.uid:``,n,r,i)}checkEmpty(e){let t=!0,n=IDBKeyRange.bound([this.userId,-1/0],[this.userId,1/0]);return fg(e).ee({index:tu,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){let i=pg(e),a=fg(e);return a.add({}).next((o=>{P(typeof o==`number`,49019);let s=new $p(o,t,n,r),c=function(e,t,n){let r=n.baseMutations.map((t=>Um(e.yt,t))),i=n.mutations.map((t=>Um(e.yt,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,s),l=[],u=new md(((e,t)=>R(e.canonicalString(),t.canonicalString())));for(let e of r){let t=iu(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(a.put(c)),l.push(i.put(t,au))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Zn[o]=s.keys()})),V.waitFor(l).next((()=>s))}))}lookupMutationBatch(e,t){return fg(e).get(t).next((e=>e?(P(e.userId===this.userId,48,`Unexpected user for mutation batch`,{userId:e.userId,batchId:t}),ph(this.serializer,e)):null))}Xn(e,t){return this.Zn[t]?V.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){let n=e.keys();return this.Zn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]),i=null;return fg(e).ee({index:tu,range:r},((e,t,r)=>{t.userId===this.userId&&(P(t.batchId>=n,47524,{Yn:n}),i=ph(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,1/0]),n=W;return fg(e).ee({index:tu,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,W],[this.userId,1/0]);return fg(e).H(tu,t).next((e=>e.map((e=>ph(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){let n=ru(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return pg(e).ee({range:r},((n,r,a)=>{let[o,s,c]=n,l=q(s);if(o===this.userId&&t.path.isEqual(l))return fg(e).get(c).next((e=>{if(!e)throw N(61480,{er:n,batchId:c});P(e.userId===this.userId,10503,`Unexpected user for mutation batch`,{userId:e.userId,batchId:c}),i.push(ph(this.serializer,e))}));a.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new md(R),r=[];return t.forEach((t=>{let i=ru(this.userId,t.path),a=IDBKeyRange.lowerBound(i),o=pg(e).ee({range:a},((e,r,i)=>{let[a,o,s]=e,c=q(o);a===this.userId&&t.path.isEqual(c)?n=n.add(s):i.done()}));r.push(o)})),V.waitFor(r).next((()=>this.tr(e,n)))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=ru(this.userId,n),a=IDBKeyRange.lowerBound(i),o=new md(R);return pg(e).ee({range:a},((e,t,i)=>{let[a,s,c]=e,l=q(s);a===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):i.done()})).next((()=>this.tr(e,o)))}tr(e,t){let n=[],r=[];return t.forEach((t=>{r.push(fg(e).get(t).next((e=>{if(e===null)throw N(35274,{batchId:t});P(e.userId===this.userId,9748,`Unexpected user for mutation batch`,{userId:e.userId,batchId:t}),n.push(ph(this.serializer,e))})))})),V.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return cg(e.le,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),V.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return V.resolve();let n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return pg(e).ee({range:n},((e,t,n)=>{if(e[0]===this.userId){let t=q(e[1]);r.push(t)}else n.done()})).next((()=>{P(r.length===0,56720,{rr:r.map((e=>e.canonicalString()))})}))}))}containsKey(e,t){return dg(e,this.userId,t)}ir(e){return mg(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:W,lastStreamToken:``}))}};function dg(e,t,n){let r=ru(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return pg(e).ee({range:a,Y:!0},((e,n,r)=>{let[a,s,c]=e;a===t&&s===i&&(o=!0),r.done()})).next((()=>o))}function fg(e){return sd(e,$l)}function pg(e){return sd(e,ou)}function mg(e){return sd(e,Zl)}var hg=class e{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new e(0)}static ar(){return new e(-1)}},gg=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>(t.highestTargetId=new hg(t.highestTargetId).next(),this.cr(e,t).next((()=>t.highestTargetId)))))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((e=>B.fromTimestamp(new gl(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.ur(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.cr(e,r))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((n=>(n.targetCount+=1,this.hr(t,n),this.cr(e,n))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>_g(e).delete(t.targetId))).next((()=>this.ur(e))).next((t=>(P(t.targetCount>0,8065),--t.targetCount,this.cr(e,t))))}removeTargets(e,t,n){let r=0,i=[];return _g(e).ee(((a,o)=>{let s=mh(o);s.sequenceNumber<=t&&n.get(s.targetId)===null&&(r++,i.push(this.removeTargetData(e,s)))})).next((()=>V.waitFor(i))).next((()=>r))}forEachTarget(e,t){return _g(e).ee(((e,n)=>{t(mh(n))}))}ur(e){return vg(e).get(Su).next((e=>(P(e!==null,2888),e)))}cr(e,t){return vg(e).put(Su,t)}lr(e,t){return _g(e).put(hh(this.serializer,t))}hr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.ur(e).next((e=>e.targetCount))}getTargetData(e,t){let n=Rf(t),r=IDBKeyRange.bound([n,-1/0],[n,1/0]),i=null;return _g(e).ee({range:r,index:gu},((e,n,r)=>{let a=mh(n);zf(t,a.target)&&(i=a,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){let r=[],i=yg(e);return t.forEach((t=>{let a=Gl(t.path);r.push(i.put({targetId:n,path:a})),r.push(this.referenceDelegate.addReference(e,n,t))})),V.waitFor(r)}removeMatchingKeys(e,t,n){let r=yg(e);return V.forEach(t,(t=>{let i=Gl(t.path);return V.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){let n=yg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){let n=IDBKeyRange.bound([t],[t+1],!1,!0),r=yg(e),i=X();return r.ee({range:n,Y:!0},((e,t,n)=>{let r=new z(q(e[1]));i=i.add(r)})).next((()=>i))}containsKey(e,t){let n=Gl(t.path),r=IDBKeyRange.bound([n],[$c(n)],!1,!0),i=0;return yg(e).ee({index:bu,Y:!0,range:r},(([e,t],n,r)=>{e!==0&&(i++,r.done())})).next((()=>i>0))}At(e,t){return _g(e).get(t).next((e=>e?mh(e):null))}};function _g(e){return sd(e,hu)}function vg(e){return sd(e,Cu)}function yg(e){return sd(e,vu)}var bg=`LruGarbageCollector`,xg=1048576;function Sg([e,t],[n,r]){let i=R(e,n);return i===0?R(t,r):i}var Cg=class{constructor(e){this.Pr=e,this.buffer=new md(Sg),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();Sg(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}},wg=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&=(this.Rr.cancel(),null)}get started(){return this.Rr!==null}Ar(e){M(bg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay(`lru_garbage_collection`,e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Il(e)?M(bg,`Ignoring IndexedDB error during garbage collection: `,e):await kl(e)}await this.Ar(3e5)}))}},Tg=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(t===0)return V.resolve(U.ce);let n=new Cg(t);return this.Vr.forEachTarget(e,(e=>n.Er(e.sequenceNumber))).next((()=>this.Vr.mr(e,(e=>n.Er(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(M(`LruGarbageCollector`,`Garbage collection skipped; disabled`),V.resolve(ag)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(M(`LruGarbageCollector`,`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ag):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let n,r,i,a,o,s,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(M(`LruGarbageCollector`,`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Nc()<=D.DEBUG&&M(`LruGarbageCollector`,`LRU Garbage Collection\n\tCounted targets in ${a-l}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms
\tRemoved ${i} targets in `+(s-o)+`ms
\tRemoved ${e} documents in `+(c-s)+`ms
Total Duration: ${c-l}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}};function Eg(e,t){return new Tg(e,t)}var Dg=class{constructor(e,t){this.db=e,this.garbageCollector=Eg(this,t)}dr(e){let t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}pr(e){let t=0;return this.mr(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((e,n)=>t(n)))}addReference(e,t,n){return Og(e,n)}removeReference(e,t,n){return Og(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Og(e,t)}wr(e,t){return function(e,t){let n=!1;return mg(e).te((r=>dg(e,r,t).next((e=>(e&&(n=!0),V.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){let n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],i=0;return this.yr(e,((a,o)=>{if(o<=t){let t=this.wr(e,a).next((t=>{if(!t)return i++,n.getEntry(e,a).next((()=>(n.removeEntry(a,B.min()),yg(e).delete(function(e){return[0,Gl(e.path)]}(a)))))}));r.push(t)}})).next((()=>V.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Og(e,t)}yr(e,t){let n=yg(e),r,i=U.ce;return n.ee({index:bu},(([e,n],{path:a,sequenceNumber:o})=>{e===0?(i!==U.ce&&t(new z(q(r)),i),i=o,r=a):i=U.ce})).next((()=>{i!==U.ce&&t(new z(q(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Og(e,t){return yg(e).put(function(e,t){return{targetId:0,path:Gl(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var kg=class{constructor(){this.changes=new sp((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ff.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):V.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},Ag=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Pg(e).put(n)}removeEntry(e,t,n){return Pg(e).delete(function(e,t){let n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],uh(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.br(e,n))))}getEntry(e,t){let n=ff.newInvalidDocument(t);return Pg(e).ee({index:lu,range:IDBKeyRange.only(Fg(t))},((e,r)=>{n=this.Sr(t,r)})).next((()=>n))}Dr(e,t){let n={size:0,document:ff.newInvalidDocument(t)};return Pg(e).ee({index:lu,range:IDBKeyRange.only(Fg(t))},((e,r)=>{n={document:this.Sr(t,r),size:lg(r)}})).next((()=>n))}getEntries(e,t){let n=lp();return this.Cr(e,t,((e,t)=>{let r=this.Sr(e,t);n=n.insert(e,r)})).next((()=>n))}vr(e,t){let n=lp(),r=new dd(z.comparator);return this.Cr(e,t,((e,t)=>{let i=this.Sr(e,t);n=n.insert(e,i),r=r.insert(e,lg(t))})).next((()=>({documents:n,Fr:r})))}Cr(e,t,n){if(t.isEmpty())return V.resolve();let r=new md(Lg);t.forEach((e=>r=r.add(e)));let i=IDBKeyRange.bound(Fg(r.first()),Fg(r.last())),a=r.getIterator(),o=a.getNext();return Pg(e).ee({index:lu,range:i},((e,t,r)=>{let i=z.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Lg(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Fg(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){let a=t.path,o=[a.popLast().toArray(),a.lastSegment(),uh(n.readTime),n.documentKey.path.isEmpty()?``:n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[2**53-1,2**53-1],``];return Pg(e).H(IDBKeyRange.bound(o,s,!0)).next((e=>{i?.incrementDocumentReadCount(e.length);let n=lp();for(let i of e){let e=this.Sr(z.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(rp(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=lp(),a=Ig(t,n),o=Ig(t,Tl.max());return Pg(e).ee({index:du,range:IDBKeyRange.bound(a,o,!0)},((e,t,n)=>{let a=this.Sr(z.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(a.key,a),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Mg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Ng(e).get(mu).next((e=>(P(!!e,20021),e)))}br(e,t){return Ng(e).put(mu,t)}Sr(e,t){if(t){let e=ch(this.serializer,t);if(!(e.isNoDocument()&&e.version.isEqual(B.min())))return e}return ff.newInvalidDocument(e)}};function jg(e){return new Ag(e)}var Mg=class extends kg{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new sp((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){let t=[],n=0,r=new md(((e,t)=>R(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,a)=>{let o=this.Or.get(i);if(t.push(this.Mr.removeEntry(e,i,o.readTime)),a.isValidDocument()){let s=lh(this.Mr.serializer,a);r=r.add(i.path.popLast());let c=lg(s);n+=c-o.size,t.push(this.Mr.addEntry(e,i,s))}else if(n-=o.size,this.trackRemovals){let n=lh(this.Mr.serializer,a.convertToNoDocument(B.min()));t.push(this.Mr.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.Mr.updateMetadata(e,n)),V.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((e=>(this.Or.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:e,Fr:t})=>(t.forEach(((t,n)=>{this.Or.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}};function Ng(e){return sd(e,pu)}function Pg(e){return sd(e,su)}function Fg(e){let t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ig(e,t){let n=t.documentKey.path.toArray();return[e,uh(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:``]}function Lg(e,t){let n=e.path.toArray(),r=t.path.toArray(),i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e)if(i=R(n[e],r[e]),i)return i;return i=R(n.length,r.length),i||(i=R(n[n.length-2],r[r.length-2]),i||R(n[n.length-1],r[r.length-1]))}var Rg=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},zg=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&Up(n.mutation,e,_d.empty(),gl.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,X()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=X()){let r=pp();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=dp();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=pp();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,X())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=lp(),a=hp(),o=function(){return hp()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof qp)?i=i.insert(t.key,t):o===void 0?a.set(t.key,_d.empty()):(a.set(t.key,o.mutation.getFieldMask()),Up(o.mutation,t,o.mutation.getFieldMask(),gl.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new Rg(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=hp(),r=new dd(((e,t)=>e-t)),i=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||_d.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||X()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=mp();c.forEach((e=>{if(!i.has(e)){let r=Vp(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return V.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return Jf(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):V.resolve(pp()),o=_l,s=i;return a.next((t=>V.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?V.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,X()))).next((e=>({batchId:o,changes:fp(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next((e=>{let t=dp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=dp();return this.indexManager.getCollectionParents(e,i).next((o=>V.forEach(o,(o=>{let s=function(e,t){return new Wf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,ff.newInvalidDocument(r)))}));let n=dp();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&Up(a.mutation,r,_d.empty(),gl.now()),rp(t,r)&&(n=n.insert(e,r))})),n}))}},Bg=class{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return V.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Am(e.createTime)}}(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,function(e){return{name:e.name,query:gh(e.bundledQuery),readTime:Am(e.readTime)}}(t)),V.resolve()}},Vg=class{constructor(){this.overlays=new dd(z.comparator),this.Lr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let n=pp();return V.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.bt(e,t,r)})),V.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.Lr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Lr.delete(n)),V.resolve()}getOverlaysForCollection(e,t,n){let r=pp(),i=t.length+1,a=new z(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return V.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new dd(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=pp(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=pp(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return V.resolve(o)}bt(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.Lr.get(r.largestBatchId).delete(n.key);this.Lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new tm(t,n));let i=this.Lr.get(t);i===void 0&&(i=X(),this.Lr.set(t,i)),this.Lr.set(t,i.add(n.key))}},Hg=class{constructor(){this.sessionToken=yd.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}},Ug=class{constructor(){this.kr=new md(Wg.Kr),this.qr=new md(Wg.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let n=new Wg(e,t);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Wr(new Wg(e,t))}Qr(e,t){e.forEach((e=>this.removeReference(e,t)))}Gr(e){let t=new z(new nl([])),n=new Wg(t,e),r=new Wg(t,e+1),i=[];return this.qr.forEachInRange([n,r],(e=>{this.Wr(e),i.push(e.key)})),i}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new z(new nl([])),n=new Wg(t,e),r=new Wg(t,e+1),i=X();return this.qr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new Wg(e,0),n=this.kr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},Wg=class{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return z.comparator(e.key,t.key)||R(e.Hr,t.Hr)}static Ur(e,t){return R(e.Hr,t.Hr)||z.comparator(e.key,t.key)}},Gg=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new md(Wg.Kr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new $p(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Jr=this.Jr.add(new Wg(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return V.resolve(a)}lookupMutationBatch(e,t){return V.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.Xr(n),i=r<0?0:r;return V.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?W:this.Yn-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new Wg(t,0),r=new Wg(t,1/0),i=[];return this.Jr.forEachInRange([n,r],(e=>{let t=this.Zr(e.Hr);i.push(t)})),V.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new md(R);return t.forEach((e=>{let t=new Wg(e,0),r=new Wg(e,1/0);this.Jr.forEachInRange([t,r],(e=>{n=n.add(e.Hr)}))})),V.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;z.isDocumentKey(i)||(i=i.child(``));let a=new Wg(new z(i),0),o=new md(R);return this.Jr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Hr)),!0)}),a),V.resolve(this.Yr(o))}Yr(e){let t=[];return e.forEach((e=>{let n=this.Zr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){P(this.ei(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Jr;return V.forEach(t.mutations,(r=>{let i=new Wg(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Jr=n}))}nr(e){}containsKey(e,t){let n=new Wg(t,0),r=this.Jr.firstAfterOrEqual(n);return V.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},Kg=class{constructor(e){this.ti=e,this.docs=function(){return new dd(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ti(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return V.resolve(n?n.document.mutableCopy():ff.newInvalidDocument(t))}getEntries(e,t){let n=lp();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ff.newInvalidDocument(e))})),V.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=lp(),a=t.path,o=new z(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||El(wl(o),n)<=0||(r.has(o.key)||rp(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return V.resolve(i)}getAllFromCollectionGroup(e,t,n,r){N(9500)}ni(e,t){return V.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new qg(this)}getSize(e){return V.resolve(this.size)}},qg=class extends kg{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(n)})),V.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}},Jg=class{constructor(e){this.persistence=e,this.ri=new sp((e=>Rf(e)),zf),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.ii=0,this.si=new Ug,this.targetCount=0,this.oi=hg._r()}forEachTarget(e,t){return this.ri.forEach(((e,n)=>t(n))),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ii&&(this.ii=t),V.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new hg(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.lr(t),V.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),--this.targetCount,V.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.ri.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.ri.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),V.waitFor(i).next((()=>r))}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let n=this.ri.get(t)||null;return V.resolve(n)}addMatchingKeys(e,t,n){return this.si.$r(t,n),V.resolve()}removeMatchingKeys(e,t,n){this.si.Qr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),V.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let n=this.si.jr(t);return V.resolve(n)}containsKey(e,t){return V.resolve(this.si.containsKey(t))}},Yg=class{constructor(e,t){this._i={},this.overlays={},this.ai=new U(0),this.ui=!1,this.ui=!0,this.ci=new Hg,this.referenceDelegate=e(this),this.li=new Jg(this),this.indexManager=new Yh,this.remoteDocumentCache=function(e){return new Kg(e)}((e=>this.referenceDelegate.hi(e))),this.serializer=new sh(t),this.Pi=new Bg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this._i[e.toKey()];return n||(n=new Gg(t,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,n){M(`MemoryPersistence`,`Starting transaction:`,e);let r=new Xg(this.ai.next());return this.referenceDelegate.Ti(),n(r).next((e=>this.referenceDelegate.Ii(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ei(e,t){return V.or(Object.values(this._i).map((n=>()=>n.containsKey(e,t))))}},Xg=class extends Ol{constructor(e){super(),this.currentSequenceNumber=e}},Zg=class e{constructor(e){this.persistence=e,this.Ri=new Ug,this.Ai=null}static Vi(t){return new e(t)}get di(){if(this.Ai)return this.Ai;throw N(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.di.delete(n.toString()),V.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.di.add(n.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),V.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((e=>this.di.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.di,(n=>{let r=z.fromPath(n);return this.mi(e,r).next((e=>{e||t.removeEntry(r,B.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return V.or([()=>V.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Qg=class e{constructor(e,t){this.persistence=e,this.fi=new sp((e=>Gl(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Eg(this,t)}static Vi(t,n){return new e(t,n)}Ti(){}Ii(e){return V.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}pr(e){let t=0;return this.mr(e,(e=>{t++})).next((()=>t))}mr(e,t){return V.forEach(this.fi,((n,r)=>this.wr(e,n,r).next((e=>e?V.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(e,(r=>this.wr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,B.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),V.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),V.resolve()}removeReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),V.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jd(e.data.value)),t}wr(e,t,n){return V.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.fi.get(t);return V.resolve(e!==void 0&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}},$g=class{constructor(e){this.serializer=e}k(e,t,n,r){let i=new jl(`createOrUpgrade`,t);n<1&&r>=1&&(function(e){e.createObjectStore(Yl)}(e),function(e){e.createObjectStore(Zl,{keyPath:Ql}),e.createObjectStore($l,{keyPath:eu,autoIncrement:!0}).createIndex(tu,nu,{unique:!0}),e.createObjectStore(ou)}(e),e_(e),function(e){e.createObjectStore(Jl)}(e));let a=V.resolve();return n<3&&r>=3&&(n!==0&&(function(e){e.deleteObjectStore(vu),e.deleteObjectStore(hu),e.deleteObjectStore(Cu)}(e),e_(e)),a=a.next((()=>function(e){let t=e.store(Cu),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:B.min().toTimestamp(),targetCount:0};return t.put(Su,n)}(i)))),n<4&&r>=4&&(n!==0&&(a=a.next((()=>function(e,t){return t.store($l).H().next((n=>{e.deleteObjectStore($l),e.createObjectStore($l,{keyPath:eu,autoIncrement:!0}).createIndex(tu,nu,{unique:!0});let r=t.store($l),i=n.map((e=>r.put(e)));return V.waitFor(i)}))}(e,i)))),a=a.next((()=>{(function(e){e.createObjectStore(Eu,{keyPath:Du})})(e)}))),n<5&&r>=5&&(a=a.next((()=>this.gi(i)))),n<6&&r>=6&&(a=a.next((()=>(function(e){e.createObjectStore(pu)}(e),this.pi(i))))),n<7&&r>=7&&(a=a.next((()=>this.yi(i)))),n<8&&r>=8&&(a=a.next((()=>this.wi(e,i)))),n<9&&r>=9&&(a=a.next((()=>{(function(e){e.objectStoreNames.contains(`remoteDocumentChanges`)&&e.deleteObjectStore(`remoteDocumentChanges`)})(e)}))),n<10&&r>=10&&(a=a.next((()=>this.bi(i)))),n<11&&r>=11&&(a=a.next((()=>{(function(e){e.createObjectStore(Ou,{keyPath:ku})})(e),function(e){e.createObjectStore(Au,{keyPath:ju})}(e)}))),n<12&&r>=12&&(a=a.next((()=>{(function(e){let t=e.createObjectStore(Wu,{keyPath:Gu});t.createIndex(Ku,qu,{unique:!1}),t.createIndex(Ju,Yu,{unique:!1})})(e)}))),n<13&&r>=13&&(a=a.next((()=>function(e){let t=e.createObjectStore(su,{keyPath:cu});t.createIndex(lu,uu),t.createIndex(du,fu)}(e))).next((()=>this.Si(e,i))).next((()=>e.deleteObjectStore(Jl)))),n<14&&r>=14&&(a=a.next((()=>this.Di(e,i)))),n<15&&r>=15&&(a=a.next((()=>function(e){e.createObjectStore(Mu,{keyPath:Nu,autoIncrement:!0}).createIndex(Pu,Fu,{unique:!1}),e.createObjectStore(Iu,{keyPath:Lu}).createIndex(Ru,zu,{unique:!1}),e.createObjectStore(Bu,{keyPath:Vu}).createIndex(Hu,Uu,{unique:!1})}(e)))),n<16&&r>=16&&(a=a.next((()=>{t.objectStore(Iu).clear()})).next((()=>{t.objectStore(Bu).clear()}))),n<17&&r>=17&&(a=a.next((()=>{(function(e){e.createObjectStore(Xu,{keyPath:Zu})})(e)}))),n<18&&r>=18&&_t()&&(a=a.next((()=>{t.objectStore(Iu).clear()})).next((()=>{t.objectStore(Bu).clear()}))),a}pi(e){let t=0;return e.store(Jl).ee(((e,n)=>{t+=lg(n)})).next((()=>{let n={byteSize:t};return e.store(pu).put(mu,n)}))}gi(e){let t=e.store(Zl),n=e.store($l);return t.H().next((t=>V.forEach(t,(t=>{let r=IDBKeyRange.bound([t.userId,W],[t.userId,t.lastAcknowledgedBatchId]);return n.H(tu,r).next((n=>V.forEach(n,(n=>{P(n.userId===t.userId,18650,`Cannot process batch from unexpected user`,{batchId:n.batchId});let r=ph(this.serializer,n);return cg(e,t.userId,r).next((()=>{}))}))))}))))}yi(e){let t=e.store(vu),n=e.store(Jl);return e.store(Cu).get(Su).next((e=>{let r=[];return n.ee(((n,i)=>{let a=new nl(n),o=function(e){return[0,Gl(e)]}(a);r.push(t.get(o).next((n=>n?V.resolve():(n=>t.put({targetId:0,path:Gl(n),sequenceNumber:e.highestListenSequenceNumber}))(a))))})).next((()=>V.waitFor(r)))}))}wi(e,t){e.createObjectStore(wu,{keyPath:Tu});let n=t.store(wu),r=new Xh,i=e=>{if(r.add(e)){let t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Gl(r)})}};return t.store(Jl).ee({Y:!0},((e,t)=>i(new nl(e).popLast()))).next((()=>t.store(ou).ee({Y:!0},(([e,t,n],r)=>i(q(t).popLast())))))}bi(e){let t=e.store(hu);return t.ee(((e,n)=>{let r=mh(n),i=hh(this.serializer,r);return t.put(i)}))}Si(e,t){let n=t.store(Jl),r=[];return n.ee(((e,n)=>{let i=t.store(su),a=function(e){return e.document?new z(nl.fromString(e.document.name).popFirst(5)):e.noDocument?z.fromSegments(e.noDocument.path):e.unknownDocument?z.fromSegments(e.unknownDocument.path):N(36783)}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>V.waitFor(r)))}Di(e,t){let n=t.store($l),r=jg(this.serializer),i=new Yg(Zg.Vi,this.serializer.yt);return n.H().next((e=>{let n=new Map;return e.forEach((e=>{let t=n.get(e.userId)??X();ph(this.serializer,e).keys().forEach((e=>t=t.add(e))),n.set(e.userId,t)})),V.forEach(n,((e,n)=>{let a=new kc(n),o=Ch.wt(this.serializer,a),s=i.getIndexManager(a);return new zg(r,ug.wt(a,this.serializer,s,i.referenceDelegate),o,s).recalculateAndSaveOverlaysForDocumentKeys(new od(t,U.ce),e).next()}))}))}};function e_(e){e.createObjectStore(vu,{keyPath:yu}).createIndex(bu,xu,{unique:!0}),e.createObjectStore(hu,{keyPath:`targetId`}).createIndex(gu,_u,{unique:!0}),e.createObjectStore(Cu)}var t_=`IndexedDbPersistence`,n_=18e5,r_=5e3,i_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",a_=`main`,o_=class e{constructor(t,n,r,i,a,o,s,c,l,u,d=18){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ci=a,this.window=o,this.document=s,this.Fi=l,this.Mi=u,this.xi=d,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=-1/0,this.ki=e=>Promise.resolve(),!e.v())throw new L(I.UNIMPLEMENTED,`This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.`);this.referenceDelegate=new Dg(this,i),this.Ki=n+a_,this.serializer=new sh(c),this.qi=new Ml(this.Ki,this.xi,new $g(this.serializer)),this.ci=new Th,this.li=new gg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=jg(this.serializer),this.Pi=new bh,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,!1===u&&Pc(t_,`LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page.`))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(I.FAILED_PRECONDITION,i_);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction(`getHighestListenSequenceNumber`,`readonly`,(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new U(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction(`updateClientMetadataAndTryBecomePrimary`,`readwrite`,(e=>c_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(Il(e))return M(t_,`Failed to extend owner lease: `,e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return M(t_,`Releasing owner lease after error during lease refresh`,e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return s_(e).get(Xl).next((e=>V.resolve(this.Xi(e))))}Yi(e){return c_(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,n_)){this.Li=Date.now();let e=await this.runTransaction(`maybeGarbageCollectMultiClientState`,`readwrite-primary`,(e=>{let t=sd(e,Eu);return t.H().next((e=>{let n=this.ns(e,n_),r=e.filter((e=>n.indexOf(e)===-1));return V.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ui)for(let t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay(`client_metadata_refresh`,4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?V.resolve(!0):s_(e).get(Xl).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,r_)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new L(I.FAILED_PRECONDITION,i_);return!1}}return!(!this.networkEnabled||!this.inForeground)||c_(e).H().next((e=>this.ns(e,r_).find((e=>{if(this.clientId!==e.clientId){let t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&M(t_,`Client ${e?`is`:`is not`} eligible for a primary lease.`),e)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&=(this.Bi.cancel(),null),this.us(),this.cs(),await this.qi.runTransaction(`shutdown`,`readwrite`,[Yl,Eu],(e=>{let t=new od(e,U.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((e=>this.ts(e.updateTimeMs,t)&&!this.ss(e.clientId)))}hs(){return this.runTransaction(`getActiveClients`,`readonly`,(e=>c_(e).H().next((e=>this.ns(e,n_).map((e=>e.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return ug.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $h(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Ch.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,n){M(t_,`Starting transaction:`,e);let r=t===`readonly`?`readonly`:`readwrite`,i=function(e){return e===18?ad:e===17?id:e===16?rd:e===15?nd:e===14?td:e===13?ed:e===12?$u:e===11?Qu:void N(60245)}(this.xi),a;return this.qi.runTransaction(e,r,i,(r=>(a=new od(r,this.ai?this.ai.next():U.ce),t===`readwrite-primary`?this.ji(a).next((e=>!!e||this.Hi(a))).next((t=>{if(!t)throw Pc(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new L(I.FAILED_PRECONDITION,Dl);return n(a)})).next((e=>this.Zi(a).next((()=>e)))):this.Ps(a).next((()=>n(a)))))).then((e=>(a.raiseOnCommittedEvent(),e)))}Ps(e){return s_(e).get(Xl).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,r_)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new L(I.FAILED_PRECONDITION,i_)}))}Zi(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return s_(e).put(Xl,t)}static v(){return Ml.v()}Ji(e){let t=s_(e);return t.get(Xl).next((e=>this.Xi(e)?(M(t_,`Releasing primary lease.`),t.delete(Xl)):V.resolve()))}ts(e,t){let n=Date.now();return!(e<n-t)&&(!(e>n)||(Pc(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener==`function`&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState===`visible`,this.$i())))},this.document.addEventListener(`visibilitychange`,this.Ni),this.inForeground=this.document.visibilityState===`visible`)}us(){this.Ni&&=(this.document.removeEventListener(`visibilitychange`,this.Ni),null)}Qi(){typeof this.window?.addEventListener==`function`&&(this.Oi=()=>{this._s();let e=/(?:Version|Mobile)\/1[456]/;gt()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener(`pagehide`,this.Oi))}cs(){this.Oi&&=(this.window.removeEventListener(`pagehide`,this.Oi),null)}ss(e){try{let t=this.Ui?.getItem(this.rs(e))!==null;return M(t_,`Client '${e}' ${t?`is`:`is not`} zombied in LocalStorage`),t}catch(e){return Pc(t_,`Failed to get zombied client id.`,e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Pc(`Failed to set zombie client id.`,e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function s_(e){return sd(e,Yl)}function c_(e){return sd(e,Eu)}function l_(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+=`.`+e.database),`firestore/`+t+`/`+n+`/`}var u_=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ts=n,this.Is=r}static Es(t,n){let r=X(),i=X();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},d_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},f_=class{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return gt()?8:Nl(lt())>0?6:4}()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.gs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ps(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new d_;return this.ys(e,t,n).next((r=>{if(i.result=r,this.As)return this.ws(e,t,n,r.size)}))})).next((()=>i.result))}ws(e,t,n,r){return n.documentReadCount<this.Vs?(Nc()<=D.DEBUG&&M(`QueryEngine`,`SDK will not create cache indexes for query:`,np(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.Vs,`documents`),V.resolve()):(Nc()<=D.DEBUG&&M(`QueryEngine`,`Query:`,np(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.ds*r?(Nc()<=D.DEBUG&&M(`QueryEngine`,`The SDK decides to create cache indexes for query:`,np(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,Zf(t))):V.resolve())}gs(e,t){if(qf(t))return V.resolve(null);let n=Zf(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=$f(t,null,`F`),n=Zf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=X(...r);return this.fs.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.bs(t,r);return this.Ss(t,a,i,n.readTime)?this.gs(e,$f(t,null,`F`)):this.Ds(e,a,t,n)}))))})))))}ps(e,t,n,r){return qf(t)||r.isEqual(B.min())?V.resolve(null):this.fs.getDocuments(e,n).next((i=>{let a=this.bs(t,i);return this.Ss(t,a,n,r)?V.resolve(null):(Nc()<=D.DEBUG&&M(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),np(t)),this.Ds(e,a,t,Cl(r,_l)).next((e=>e)))}))}bs(e,t){let n=new md(ap(e));return t.forEach(((t,r)=>{rp(e,r)&&(n=n.add(r))})),n}Ss(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,t,n){return Nc()<=D.DEBUG&&M(`QueryEngine`,`Using full collection scan to execute query:`,np(t)),this.fs.getDocumentsMatchingQuery(e,t,Tl.min(),n)}Ds(e,t,n,r){return this.fs.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},p_=`LocalStore`,m_=3e8,h_=class{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new dd(R),this.Fs=new sp((e=>Rf(e)),zf),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zg(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.vs)))}};function g_(e,t,n,r){return new h_(e,t,n,r)}async function __(e,t){let n=F(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=X();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ns:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function v_(e,t){let n=F(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=V.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);P(a!==null,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=X();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function y_(e){let t=F(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.li.getLastRemoteSnapshotVersion(e)))}function b_(e,t){let n=F(e),r=t.snapshotVersion,i=n.vs;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.li.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.li.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(yd.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=m_?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.li.updateTargetData(e,l))}));let s=lp(),c=X();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(x_(e,a,t.documentUpdates).next((e=>{s=e.Bs,c=e.Ls}))),!r.isEqual(B.min())){let t=n.li.getLastRemoteSnapshotVersion(e).next((t=>n.li.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return V.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.vs=i,e)))}function x_(e,t,n){let r=X(),i=X();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=lp();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(B.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):M(p_,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{Bs:r,Ls:i}}))}function S_(e,t){let n=F(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=W),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function C_(e,t){let n=F(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.li.getTargetData(e,t).next((i=>i?(r=i,V.resolve(r)):n.li.allocateTargetId(e).next((i=>(r=new oh(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.li.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.vs.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(e.targetId,e),n.Fs.set(t,e.targetId)),e}))}async function w_(e,t,n){let r=F(e),i=r.vs.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Il(e))throw e;M(p_,`Failed to update sequence numbers for target ${t}: ${e}`)}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function T_(e,t,n){let r=F(e),i=B.min(),a=X();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=F(e),i=r.Fs.get(n);return i===void 0?r.li.getTargetData(t,n):V.resolve(r.vs.get(i))}(r,e,Zf(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:B.min(),n?a:X()))).next((e=>(E_(r,ip(t),e),{documents:e,ks:a})))))}function E_(e,t,n){let r=e.Ms.get(t)||B.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ms.set(t,r)}var D_=class{constructor(){this.activeTargetIds=yp()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},O_=class{constructor(){this.vo=new D_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||`not-current`}updateQueryState(e,t,n){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new D_,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},k_=class{Mo(e){}shutdown(){}},A_=`ConnectivityMonitor`,j_=class{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener(`online`,this.xo),window.removeEventListener(`offline`,this.No)}ko(){window.addEventListener(`online`,this.xo),window.addEventListener(`offline`,this.No)}Oo(){M(A_,`Network connectivity changed: AVAILABLE`);for(let e of this.Lo)e(0)}Bo(){M(A_,`Network connectivity changed: UNAVAILABLE`);for(let e of this.Lo)e(1)}static v(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},M_=null;function N_(){return M_===null?M_=function(){return 268435456+Math.round(2147483648*Math.random())}():M_++,`0x`+M_.toString(16)}var P_=`RestConnection`,F_={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`,ExecutePipeline:`executePipeline`},I_=class{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+`://`+e.host,this.Uo=`projects/${n}/databases/${r}`,this.$o=this.databaseId.database===jd?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){let a=N_(),o=this.Qo(e,t.toUriEncodedString());M(P_,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(s,r,i);let{host:c}=new URL(o),l=nt(c);return this.zo(e,o,s,n,l).then((t=>(M(P_,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw Fc(P_,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}jo(e,t,n,r,i,a){return this.Wo(e,t,n,r,i)}Go(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+Ac}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Qo(e,t){let n=F_[e],r=`${this.qo}/v1/${t}:${n}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}},L_=class{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}},R_=`WebChannelConnection`,z_=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))},B_=class e extends I_{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){e.c_||=(z_(Dc(),Ec.STAT_EVENT,(e=>{e.stat===Tc.PROXY?M(R_,`STAT_EVENT: detected buffering proxy`):e.stat===Tc.NOPROXY&&M(R_,`STAT_EVENT: detected no buffering proxy`)})),!0)}zo(e,t,n,r,i){let a=N_();return new Promise(((i,o)=>{let s=new xc;s.setWithCredentials(!0),s.listenOnce(Cc.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case wc.NO_ERROR:let t=s.getResponseJson();M(R_,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case wc.TIMEOUT:M(R_,`RPC '${e}' ${a} timed out`),o(new L(I.DEADLINE_EXCEEDED,`Request time out`));break;case wc.HTTP_ERROR:let n=s.getStatus();if(M(R_,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;t&&t.status&&t.message?o(new L(function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(I).indexOf(t)>=0?t:I.UNKNOWN}(t.status),t.message)):o(new L(I.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new L(I.UNAVAILABLE,`Connection failed.`));break;default:N(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{M(R_,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);M(R_,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}T_(t,n,r){let i=N_(),a=[this.qo,`/`,`google.firestore.v1.Firestore`,`/`,t,`/channel`],o=this.createWebChannelTransport(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,n,r),s.encodeInitMessageHeaders=!0;let l=a.join(``);M(R_,`Creating RPC '${t}' stream ${i}: ${l}`,s);let u=o.createWebChannel(l,s);this.I_(u);let d=!1,f=!1,p=new L_({Ho:e=>{f?M(R_,`Not sending because RPC '${t}' stream ${i} is closed:`,e):(d||=(M(R_,`Opening RPC '${t}' stream ${i} transport.`),u.open(),!0),M(R_,`RPC '${t}' stream ${i} sending:`,e),u.send(e))},Jo:()=>u.close()});return z_(u,Sc.EventType.OPEN,(()=>{f||(M(R_,`RPC '${t}' stream ${i} transport opened.`),p.i_())})),z_(u,Sc.EventType.CLOSE,(()=>{f||(f=!0,M(R_,`RPC '${t}' stream ${i} transport closed`),p.o_(),this.E_(u))})),z_(u,Sc.EventType.ERROR,(e=>{f||(f=!0,Fc(R_,`RPC '${t}' stream ${i} transport errored. Name:`,e.name,`Message:`,e.message),p.o_(new L(I.UNAVAILABLE,`The operation could not be completed`)))})),z_(u,Sc.EventType.MESSAGE,(e=>{if(!f){let n=e.data[0];P(!!n,16349);let r=n,a=r?.error||r[0]?.error;if(a){M(R_,`RPC '${t}' stream ${i} received error:`,a);let e=a.status,n=function(e){let t=rm[e];if(t!==void 0)return am(t)}(e),r=a.message;e===`NOT_FOUND`&&r.includes(`database`)&&r.includes(`does not exist`)&&r.includes(this.databaseId.database)&&Fc(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),n===void 0&&(n=I.INTERNAL,r=`Unknown error status: `+e+` with message `+a.message),f=!0,p.o_(new L(n,r)),u.close()}else M(R_,`RPC '${t}' stream ${i} received:`,n),p.__(n)}})),e.u_(),setTimeout((()=>{p.s_()}),0),p}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,n){super.Go(e,t,n),this.databaseInfo.apiKey&&(e[`x-goog-api-key`]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Oc()}};function V_(e){return new B_(e)}function H_(){return typeof window<`u`?window:null}function U_(){return typeof document<`u`?document:null}function W_(e){return new Tm(e,!0)}B_.c_=!1;var G_=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Ci=e,this.timerId=t,this.R_=n,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&M(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}},K_=`PersistentStream`,q_=class{constructor(e,t,n,r,i,a,o,s){this.Ci=e,this.b_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state===4?this.N_():this.auth()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&=(this.C_.cancel(),null)}U_(){this.v_&&=(this.v_.cancel(),null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e===4?t&&t.code===I.RESOURCE_EXHAUSTED?(Pc(t.toString()),Pc(`Using maximum backoff delay to prevent overloading the backend.`),this.M_.g_()):t&&t.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.M_.reset(),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.D_===t&&this.G_(e,n)}),(t=>{e((()=>{let e=new L(I.UNKNOWN,`Fetching auth token failed: `+t.message);return this.z_(e)}))}))}G_(e,t){let n=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>++this.F_==1?this.H_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return M(K_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(M(K_,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},J_=class extends q_{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_(`Listen`,e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=Hm(this.serializer,e),n=function(e){if(!(`targetChange`in e))return B.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?B.min():t.readTime?Am(t.readTime):B.min()}(e);return this.listener.J_(t,n)}Z_(e){let t={};t.database=Rm(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=Bf(r)?{documents:Km(e,r)}:{query:qm(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Om(e,t.resumeToken);let r=Em(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(B.min())>0){n.readTime=Dm(e,t.snapshotVersion.toTimestamp());let r=Em(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=Ym(this.serializer,e);n&&(t.labels=n),this.K_(t)}X_(e){let t={};t.database=Rm(this.serializer),t.removeTarget=e,this.K_(t)}},Y_=class extends q_{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_(`Write`,e,t)}H_(e){return P(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,P(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){P(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=Gm(e.writeResults,e.commitTime),n=Am(e.commitTime);return this.listener.na(n,t)}ra(){let e={};e.database=Rm(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>Um(this.serializer,e)))};this.K_(t)}},X_=class{},Z_=class extends X_{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new L(I.FAILED_PRECONDITION,`The client has already been terminated.`)}Wo(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Wo(e,Mm(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(I.UNKNOWN,e.toString())}))}jo(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.jo(e,Mm(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(I.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}};function Q_(e,t,n,r){return new Z_(e,t,n,r)}var $_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca(`Unknown`),this._a=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this._a=null,this.la(`Backend didn't respond within 10 seconds.`),this.ca(`Offline`),Promise.resolve()))))}ha(e){this.state===`Online`?this.ca(`Unknown`):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca(`Offline`)))}set(e){this.Pa(),this.oa=0,e===`Online`&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pc(t),this.aa=!1):M(`OnlineStateTracker`,t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}},ev=`RemoteStore`,tv=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo((e=>{n.enqueueAndForget((async()=>{uv(this)&&(M(ev,`Restarting streams for network reachability change.`),await async function(e){let t=F(e);t.Ea.add(4),await rv(t),t.Va.set(`Unknown`),t.Ea.delete(4),await nv(t)}(this))}))})),this.Va=new $_(n,r)}};async function nv(e){if(uv(e))for(let t of e.Ra)await t(!0)}async function rv(e){for(let t of e.Ra)await t(!1)}function iv(e,t){let n=F(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),lv(n)?cv(n):kv(n).O_()&&ov(n,t))}function av(e,t){let n=F(e),r=kv(n);n.Ia.delete(t),r.O_()&&sv(n,t),n.Ia.size===0&&(r.O_()?r.L_():uv(n)&&n.Va.set(`Unknown`))}function ov(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(B.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}kv(e).Z_(t)}function sv(e,t){e.da.$e(t),kv(e).X_(t)}function cv(e){e.da=new ym({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),kv(e).start(),e.Va.ua()}function lv(e){return uv(e)&&!kv(e).x_()&&e.Ia.size>0}function uv(e){return F(e).Ea.size===0}function dv(e){e.da=void 0}async function fv(e){e.Va.set(`Online`)}async function pv(e){e.Ia.forEach(((t,n)=>{ov(e,t)}))}async function mv(e,t){dv(e),lv(e)?(e.Va.ha(t),cv(e)):e.Va.set(`Unknown`)}async function hv(e,t,n){if(e.Va.set(`Online`),t instanceof _m&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.da.removeTarget(r))}(e,t)}catch(n){M(ev,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await gv(e,n)}else if(t instanceof hm?e.da.Xe(t):t instanceof gm?e.da.st(t):e.da.tt(t),!n.isEqual(B.min()))try{let t=await y_(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.da.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.Ia.get(t);r&&(e.Ia.set(t,r.withResumeToken(yd.EMPTY_BYTE_STRING,r.snapshotVersion)),sv(e,t),ov(e,new oh(r.target,t,n,r.sequenceNumber)))})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){M(ev,`Failed to raise snapshot:`,t),await gv(e,t)}}async function gv(e,t,n){if(!Il(t))throw t;e.Ea.add(1),await rv(e),e.Va.set(`Offline`),n||=()=>y_(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{M(ev,`Retrying IndexedDB access`),await n(),e.Ea.delete(1),await nv(e)}))}function _v(e,t){return t().catch((n=>gv(e,n,t)))}async function vv(e){let t=F(e),n=Av(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:W;for(;yv(t);)try{let e=await S_(t.localStore,r);if(e===null){t.Ta.length===0&&n.L_();break}r=e.batchId,bv(t,e)}catch(e){await gv(t,e)}xv(t)&&Sv(t)}function yv(e){return uv(e)&&e.Ta.length<10}function bv(e,t){e.Ta.push(t);let n=Av(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function xv(e){return uv(e)&&!Av(e).x_()&&e.Ta.length>0}function Sv(e){Av(e).start()}async function Cv(e){Av(e).ra()}async function wv(e){let t=Av(e);for(let n of e.Ta)t.ea(n.mutations)}async function Tv(e,t,n){let r=e.Ta.shift(),i=em.from(r,t,n);await _v(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await vv(e)}async function Ev(e,t){t&&Av(e).Y_&&await async function(e,t){if(function(e){return im(e)&&e!==I.ABORTED}(t.code)){let n=e.Ta.shift();Av(e).B_(),await _v(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await vv(e)}}(e,t),xv(e)&&Sv(e)}async function Dv(e,t){let n=F(e);n.asyncQueue.verifyOperationInProgress(),M(ev,`RemoteStore received new credentials`);let r=uv(n);n.Ea.add(3),await rv(n),r&&n.Va.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await nv(n)}async function Ov(e,t){let n=F(e);t?(n.Ea.delete(2),await nv(n)):t||(n.Ea.add(2),await rv(n),n.Va.set(`Unknown`))}function kv(e){return e.ma||(e.ma=function(e,t,n){let r=F(e);return r.sa(),new J_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:fv.bind(null,e),Yo:pv.bind(null,e),t_:mv.bind(null,e),J_:hv.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),lv(e)?cv(e):e.Va.set(`Unknown`)):(await e.ma.stop(),dv(e))}))),e.ma}function Av(e){return e.fa||(e.fa=function(e,t,n){let r=F(e);return r.sa(),new Y_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Cv.bind(null,e),t_:Ev.bind(null,e),ta:wv.bind(null,e),na:Tv.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await vv(e)):(await e.fa.stop(),e.Ta.length>0&&(M(ev,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}var jv=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Rc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(I.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Mv(e,t){if(Pc(`AsyncQueue`,`${t}: ${e}`),Il(e))return new L(I.UNAVAILABLE,`${t}: ${e}`);throw e}var Nv=class e{static emptySet(t){return new e(t.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||z.comparator(t.key,n.key):(e,t)=>z.comparator(e.key,t.key),this.keyedMap=dp(),this.sortedSet=new dd(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},Pv=class{constructor(){this.ga=new dd(z.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):N(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}},Fv=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,Nv.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},Iv=class{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}},Lv=class{constructor(){this.queries=Rv(),this.onlineState=`Unknown`,this.Ca=new Set}terminate(){(function(e,t){let n=F(e),r=n.queries;n.queries=Rv(),r.forEach(((e,n)=>{for(let e of n.ba)e.onError(t)}))})(this,new L(I.ABORTED,`Firestore shutting down`))}};function Rv(){return new sp((e=>tp(e)),ep)}async function zv(e,t){let n=F(e),r=3,i=t.query,a=n.queries.get(i);a?!a.Sa()&&t.Da()&&(r=2):(a=new Iv,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=Mv(e,`Initialization of query '${np(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.ba.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Uv(n)}async function Bv(e,t){let n=F(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.ba.indexOf(t);e>=0&&(a.ba.splice(e,1),a.ba.length===0?i=t.Da()?0:1:!a.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Vv(e,t){let n=F(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.ba)t.Fa(e)&&(r=!0);i.wa=e}}r&&Uv(n)}function Hv(e,t,n){let r=F(e),i=r.queries.get(t);if(i)for(let e of i.ba)e.onError(n);r.queries.delete(t)}function Uv(e){e.Ca.forEach((e=>{e.next()}))}var Wv,Gv;(Gv=Wv||={}).Ma=`default`,Gv.Cache=`cache`;var Kv=class{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState=`Unknown`,this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new Fv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let n=t!==`Offline`;return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Fv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wv.Cache}},qv=class{constructor(e){this.key=e}},Jv=class{constructor(e){this.key=e}},Yv=class{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=X(),this.mutatedKeys=X(),this.eu=ap(e),this.tu=new Nv(this.eu)}get nu(){return this.Za}ru(e,t){let n=t?t.iu:new Pv,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=rp(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.su(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||c&&this.eu(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Ss:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let a=e.iu.ya();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return N(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r??=!1;let o=t&&!r?this._u():[],s=this.Ya.size===0&&this.current&&!r?1:0,c=s!==this.Xa;return this.Xa=s,a.length!==0||c?{snapshot:new Fv(this.query,e.tu,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Pv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=X(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Ya=this.Ya.add(e.key))}));let t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new Jv(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new qv(n))})),t}cu(e){this.Za=e.ks,this.Ya=X();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Fv.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}},Xv=`SyncEngine`,Zv=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},Qv=class{constructor(e){this.key=e,this.hu=!1}},$v=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new sp((e=>tp(e)),ep),this.Iu=new Map,this.Eu=new Set,this.Ru=new dd(z.comparator),this.Au=new Map,this.Vu=new Ug,this.du={},this.mu=new Map,this.fu=hg.ar(),this.onlineState=`Unknown`,this.gu=void 0}get isPrimaryClient(){return!0===this.gu}};async function ey(e,t,n=!0){let r=Sy(e),i,a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await ny(r,t,n,!0),i}async function ty(e,t){await ny(Sy(e),t,!0,!1)}async function ny(e,t,n,r){let i=await C_(e.localStore,Zf(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await ry(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&iv(e.remoteStore,i),s}async function ry(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Ss&&(i=await T_(e.localStore,t.query,!1).then((({documents:e})=>t.view.ru(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return gy(e,t.targetId,s.au),s.snapshot}(e,t,n,r);let a=await T_(e.localStore,t,!0),o=new Yv(t,a.ks),s=o.ru(a.documents),c=mm.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);gy(e,n,l.au);let u=new Zv(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function iy(e,t,n){let r=F(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((e=>!ep(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await w_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&av(r.remoteStore,i.targetId),my(r,i.targetId)})).catch(kl)):(my(r,i.targetId),await w_(r.localStore,i.targetId,!0))}async function ay(e,t){let n=F(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),av(n.remoteStore,r.targetId))}async function oy(e,t,n){let r=Cy(e);try{let e=await function(e,t){let n=F(e),r=gl.now(),i=t.reduce(((e,t)=>e.add(t.key)),X()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=lp(),c=X();return n.xs.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=Wp(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new qp(e.key,t,df(t.value.mapValue),Rp.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:fp(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.du[e.currentUser.toKey()];r||=new dd(R),r=r.insert(t,n),e.du[e.currentUser.toKey()]=r}(r,e.batchId,n),await yy(r,e.changes),await vv(r.remoteStore)}catch(e){let t=Mv(e,`Failed to persist write`);n.reject(t)}}async function sy(e,t){let n=F(e);try{let e=await b_(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Au.get(t);r&&(P(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?P(r.hu,14607):e.removedDocuments.size>0&&(P(r.hu,42227),r.hu=!1))})),await yy(n,e,t)}catch(e){await kl(e)}}function cy(e,t,n){let r=F(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Tu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=F(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.ba)e.va(t)&&(r=!0)})),r&&Uv(n)}(r.eventManager,t),e.length&&r.Pu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ly(e,t,n){let r=F(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Au.get(t),a=i&&i.key;if(a){let e=new dd(z.comparator);e=e.insert(a,ff.newNoDocument(a,B.min()));let n=X().add(a);await sy(r,new pm(B.min(),new Map,new dd(R),e,n)),r.Ru=r.Ru.remove(a),r.Au.delete(t),vy(r)}else await w_(r.localStore,t,!1).then((()=>my(r,t,n))).catch(kl)}async function uy(e,t){let n=F(e),r=t.batch.batchId;try{let e=await v_(n.localStore,t);py(n,r,null),fy(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await yy(n,e)}catch(e){await kl(e)}}async function dy(e,t,n){let r=F(e);try{let e=await function(e,t){let n=F(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(P(t!==null,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);py(r,t,n),fy(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await yy(r,e)}catch(e){await kl(e)}}function fy(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function py(e,t,n){let r=F(e),i=r.du[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function my(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((t=>{e.Vu.containsKey(t)||hy(e,t)}))}function hy(e,t){e.Eu.delete(t.path.canonicalString());let n=e.Ru.get(t);n!==null&&(av(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),vy(e))}function gy(e,t,n){for(let r of n)r instanceof qv?(e.Vu.addReference(r.key,t),_y(e,r)):r instanceof Jv?(M(Xv,`Document no longer in limbo: `+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||hy(e,r.key)):N(19791,{wu:r})}function _y(e,t){let n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(M(Xv,`New document in limbo: `+n),e.Eu.add(r),vy(e))}function vy(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new z(nl.fromString(t)),r=e.fu.next();e.Au.set(r,new Qv(n)),e.Ru=e.Ru.insert(n,r),iv(e.remoteStore,new oh(Zf(Kf(n.path)),r,`TargetPurposeLimboResolution`,U.ce))}}async function yy(e,t,n){let r=F(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,s)=>{o.push(r.pu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=u_.Es(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Pu.J_(i),await async function(e,t){let n=F(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>V.forEach(t,(t=>V.forEach(t.Ts,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>V.forEach(t.Is,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Il(e))throw e;M(p_,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.vs.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.vs=n.vs.insert(t,i)}}}(r.localStore,a))}async function by(e,t){let n=F(e);if(!n.currentUser.isEqual(t)){M(Xv,`User change. New user:`,t.toKey());let e=await __(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new L(I.CANCELLED,t))}))})),e.mu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await yy(n,e.Ns)}}function xy(e,t){let n=F(e),r=n.Au.get(t);if(r&&r.hu)return X().add(r.key);{let e=X(),r=n.Iu.get(t);if(!r)return e;for(let t of r){let r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Sy(e){let t=F(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ly.bind(null,t),t.Pu.J_=Vv.bind(null,t.eventManager),t.Pu.yu=Hv.bind(null,t.eventManager),t}function Cy(e){let t=F(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dy.bind(null,t),t}var wy=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=W_(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return g_(this.persistence,new f_,e.initialUser,this.serializer)}Cu(e){return new Yg(Zg.Vi,this.serializer)}Du(e){return new O_}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};wy.provider={build:()=>new wy};var Ty=class extends wy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){P(this.persistence.referenceDelegate instanceof Qg,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new wg(n,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes===void 0?sg.DEFAULT:sg.withCacheSize(this.cacheSizeBytes);return new Yg((e=>Qg.Vi(e,t)),this.serializer)}},Ey=class extends wy{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind=`persistent`,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Cy(this.xu.syncEngine),await vv(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return g_(this.persistence,new f_,e.initialUser,this.serializer)}Fu(e,t){let n=this.persistence.referenceDelegate.garbageCollector;return new wg(n,e.asyncQueue,t)}Mu(e,t){let n=new H(t,this.persistence);return new Hl(e.asyncQueue,n)}Cu(e){let t=l_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes===void 0?sg.DEFAULT:sg.withCacheSize(this.cacheSizeBytes);return new o_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,H_(),U_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new O_}},Dy=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>cy(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=by.bind(null,this.syncEngine),await Ov(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Lv}()}createDatastore(e){let t=W_(e.databaseInfo.databaseId),n=V_(e.databaseInfo);return Q_(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new tv(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>cy(this.syncEngine,e,0)),function(){return j_.v()?new j_:new k_}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new $v(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){let t=F(e);M(ev,`RemoteStore shutting down.`),t.Ea.add(5),await rv(t),t.Aa.shutdown(),t.Va.set(`Unknown`)}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};Dy.provider={build:()=>new Dy};var Oy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pc(`Uncaught Error in snapshot listener:`,e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},ky=`FirestoreClient`,Ay=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this._databaseInfo=r,this.user=kc.UNAUTHENTICATED,this.clientId=qc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{M(ky,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(M(ky,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Rc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=Mv(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function jy(e,t){e.asyncQueue.verifyOperationInProgress(),M(ky,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await __(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function My(e,t){e.asyncQueue.verifyOperationInProgress();let n=await Ny(e);M(ky,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Dv(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Dv(t.remoteStore,n))),e._onlineComponents=t}async function Ny(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){M(ky,`Using user provided OfflineComponentProvider`);try{await jy(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===I.FAILED_PRECONDITION||e.code===I.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;Fc(`Error using user provided cache. Falling back to memory cache: `+n),await jy(e,new wy)}}else M(ky,`Using default OfflineComponentProvider`),await jy(e,new Ty(void 0));return e._offlineComponents}async function Py(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(M(ky,`Using user provided OnlineComponentProvider`),await My(e,e._uninitializedComponentsProvider._online)):(M(ky,`Using default OnlineComponentProvider`),await My(e,new Dy))),e._onlineComponents}function Fy(e){return Py(e).then((e=>e.syncEngine))}async function Iy(e){let t=await Py(e),n=t.eventManager;return n.onListen=ey.bind(null,t.syncEngine),n.onUnlisten=iy.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ty.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ay.bind(null,t.syncEngine),n}function Ly(e,t,n,r){let i=new Oy(r),a=new Kv(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>zv(await Iy(e),a))),()=>{i.Nu(),e.asyncQueue.enqueueAndForget((async()=>Bv(await Iy(e),a)))}}function Ry(e,t,n={}){let r=new Rc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new Oy({next:n=>{a.Nu(),t.enqueueAndForget((()=>Bv(e,o))),n.fromCache&&r.source===`server`?i.reject(new L(I.UNAVAILABLE,`Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)`)):i.resolve(n)},error:e=>i.reject(e)}),o=new Kv(n,a,{includeMetadataChanges:!0,Ka:!0});return zv(e,o)}(await Iy(e),e.asyncQueue,t,n,r))),r.promise}function zy(e,t){let n=new Rc;return e.asyncQueue.enqueueAndForget((async()=>oy(await Fy(e),t,n))),n.promise}function By(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var Vy=`ComponentProvider`,Hy=new Map;function Uy(e,t,n,r,i){return new Ad(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,By(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}var Wy=`firestore.googleapis.com`,Gy=!0,Ky=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new L(I.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=Wy,this.ssl=Gy}else this.host=e.host,this.ssl=e.ssl??Gy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=og;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xg)throw new L(I.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}ol(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=By(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new L(I.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new L(I.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new L(I.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},qy=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new Ky({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new L(I.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new L(I.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new Ky(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new Bc;switch(e.type){case`firstParty`:return new Uc(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new L(I.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=Hy.get(e);t&&(M(Vy,`Removing Datastore`),Hy.delete(e),t.terminate())}(this),Promise.resolve()}},Jy=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},Yy=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xy(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(pl(n,e._jsonSchema))return new e(t,r||null,new z(nl.fromString(n.referencePath)))}};Yy._jsonSchemaVersion=`firestore/documentReference/1.0`,Yy._jsonSchema={type:fl(`string`,Yy._jsonSchemaVersion),referencePath:fl(`string`)};var Xy=class e extends Jy{constructor(e,t,n){super(e,t,Kf(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yy(this.firestore,null,new z(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function Zy(e,t,...n){if(e=Ft(e),al(`collection`,`path`,t),e instanceof qy){let r=nl.fromString(t,...n);return cl(r),new Xy(e,null,r)}{if(!(e instanceof Yy||e instanceof Xy))throw new L(I.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(nl.fromString(t,...n));return cl(r),new Xy(e.firestore,null,r)}}function Qy(e,t,...n){if(e=Ft(e),arguments.length===1&&(t=qc.newId()),al(`doc`,`path`,t),e instanceof qy){let r=nl.fromString(t,...n);return sl(r),new Yy(e,null,new z(r))}{if(!(e instanceof Yy||e instanceof Xy))throw new L(I.INVALID_ARGUMENT,`Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(nl.fromString(t,...n));return sl(r),new Yy(e.firestore,e instanceof Xy?e.converter:null,new z(r))}}var $y=`AsyncQueue`,eb=class{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G_(this,`async_queue_retry`),this._c=()=>{let e=U_();e&&M($y,`Visibility state changed to `+e.visibilityState),this.M_.w_()},this.ac=e;let t=U_();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=U_();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new Rc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;M($y,`Operation failed with retryable error: `+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,Pc(`INTERNAL UNHANDLED ERROR: `,tb(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=jv.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&N(47125,{Pc:tb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function tb(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}var nb=class extends qy{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new eb,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new eb(e),this._firestoreClient=void 0,await e}}};function rb(e,t,n){n||=jd;let r=rr(e,`firestore`);if(r.isInitialized(n)){let e=r.getImmediate({identifier:n});if(Et(r.getOptions(n),t))return e;throw new L(I.FAILED_PRECONDITION,`initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.`)}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new L(I.INVALID_ARGUMENT,`cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object`);if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xg)throw new L(I.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);return t.host&&nt(t.host)&&rt(t.host),r.initialize({options:t,instanceIdentifier:n})}function ib(e){if(e._terminated)throw new L(I.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||ab(e),e._firestoreClient}function ab(e){let t=e._freezeSettings(),n=Uy(e._databaseId,e._app?.options.appId||``,e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Ay(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}var ob=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(yd.fromBase64String(t))}catch(e){throw new L(I.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(yd.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(pl(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};ob._jsonSchemaVersion=`firestore/bytes/1.0`,ob._jsonSchema={type:fl(`string`,ob._jsonSchemaVersion),bytes:fl(`string`)};var sb=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new L(I.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new il(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},cb=class{constructor(e){this._methodName=e}},lb=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(I.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new L(I.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return R(this._lat,e._lat)||R(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(pl(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};lb._jsonSchemaVersion=`firestore/geoPoint/1.0`,lb._jsonSchema={type:fl(`string`,lb._jsonSchemaVersion),latitude:fl(`number`),longitude:fl(`number`)};var ub=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(pl(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new L(I.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};ub._jsonSchemaVersion=`firestore/vectorValue/1.0`,ub._jsonSchema={type:fl(`string`,ub._jsonSchemaVersion),vectorValues:fl(`object`)};var db=/^__.*__$/,fb=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new Kp(e,this.data,t,this.fieldTransforms):new qp(e,this.data,this.fieldMask,t,this.fieldTransforms)}},pb=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new qp(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function mb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw N(40011,{dataSource:e})}}var hb=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new e({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){let t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return kb(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError(`Document fields must not be empty`);if(mb(this.dataSource)&&db.test(e))throw this.createError(`Document fields cannot begin and end with "__"`)}},gb=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||W_(e)}createContext(e,t,n,r=!1){return new hb({dataSource:e,methodName:t,targetDoc:n,path:il.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function _b(e){let t=e._freezeSettings(),n=W_(e._databaseId);return new gb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vb(e,t,n,r,i,a={}){let o=e.createContext(a.merge||a.mergeFields?2:0,t,n,i);Tb(`Data must be an object, but it was:`,o,r);let s=Cb(r,o),c,l;if(a.merge)c=new _d(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=Eb(t,r,n);if(!o.contains(i))throw new L(I.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Ab(e,i)||e.push(i)}c=new _d(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new fb(new uf(s),c,l)}var yb=class e extends cb{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(t){return t instanceof e}};function bb(e,t,n,r){let i=e.createContext(1,t,n);Tb(`Data must be an object, but it was:`,i,r);let a=[],o=uf.empty();return ld(r,((e,r)=>{let s=Ob(t,e,n);r=Ft(r);let c=i.childContextForFieldPath(s);if(r instanceof yb)a.push(s);else{let e=Sb(r,c);e!=null&&(a.push(s),o.set(s,e))}})),new pb(o,new _d(a),i.fieldTransforms)}function xb(e,t,n,r,i,a){let o=e.createContext(1,t,n),s=[Eb(t,r,n)],c=[i];if(a.length%2!=0)throw new L(I.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)s.push(Eb(t,a[e])),c.push(a[e+1]);let l=[],u=uf.empty();for(let e=s.length-1;e>=0;--e)if(!Ab(l,s[e])){let t=s[e],n=c[e];n=Ft(n);let r=o.childContextForFieldPath(t);if(n instanceof yb)l.push(t);else{let e=Sb(n,r);e!=null&&(l.push(t),u.set(t,e))}}return new pb(u,new _d(l),o.fieldTransforms)}function Sb(e,t){if(wb(e=Ft(e)))return Tb(`Unsupported field value:`,t,e),Cb(e,t);if(e instanceof cb)return function(e,t){if(!mb(t.dataSource))throw t.createError(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.createError(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=Sb(i,t.childContextForArray(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=Ft(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return Sp(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=gl.fromDate(e);return{timestampValue:Dm(t.serializer,n)}}if(e instanceof gl){let n=new gl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Dm(t.serializer,n)}}if(e instanceof lb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ob)return{bytesValue:Om(t.serializer,e._byteString)};if(e instanceof Yy){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:jm(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ub)return function(e,t){let n=e instanceof ub?e.toArray():e;return{mapValue:{fields:{[Pd]:{stringValue:Ld},[Rd]:{arrayValue:{values:n.map((e=>{if(typeof e!=`number`)throw t.createError(`VectorValues must only contain numeric values.`);return bp(t.serializer,e)}))}}}}}}(e,t);if(ah(e))return e._toProto(t.serializer);throw t.createError(`Unsupported field value: ${ul(e)}`)}(e,t)}function Cb(e,t){let n={};return ud(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ld(e,((e,r)=>{let i=Sb(r,t.childContextForField(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function wb(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof gl||e instanceof lb||e instanceof ob||e instanceof Yy||e instanceof cb||e instanceof ub||ah(e))}function Tb(e,t,n){if(!wb(n)||!ll(n)){let r=ul(n);throw r===`an object`?t.createError(e+` a custom object`):t.createError(e+` `+r)}}function Eb(e,t,n){if((t=Ft(t))instanceof sb)return t._internalPath;if(typeof t==`string`)return Ob(e,t);throw kb(`Field path arguments must be of type string or `,e,!1,void 0,n)}var Db=RegExp(`[~\\*/\\[\\]]`);function Ob(e,t,n){if(t.search(Db)>=0)throw kb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new sb(...t.split(`.`))._internalPath}catch{throw kb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function kb(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new L(I.INVALID_ARGUMENT,s+e+c)}function Ab(e,t){return e.some((e=>e.isEqual(t)))}var jb=class{convertValue(e,t=`none`){switch(Bd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw N(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return ld(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){let t=e.fields?.[Rd].arrayValue?.values?.map((e=>Sd(e.doubleValue)));return new ub(t)}convertGeoPoint(e){return new lb(Sd(e.latitude),Sd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=Od(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(kd(e));default:return null}}convertTimestamp(e){let t=xd(e);return new gl(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=nl.fromString(e);P(ih(n),9688,{name:e});let r=new Md(n.get(1),n.get(3)),i=new z(n.popFirst(5));return r.isEqual(t)||Pc(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}},Mb=class extends jb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ob(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yy(this.firestore,null,t)}},Nb=`@firebase/firestore`,Pb=`4.11.0`;function Fb(e){return function(e,t){if(typeof e!=`object`||!e)return!1;let n=e;for(let e of t)if(e in n&&typeof n[e]==`function`)return!0;return!1}(e,[`next`,`error`,`complete`])}var Ib=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yy(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Lb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(Eb(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Lb=class extends Ib{data(){return super.data()}};function Rb(e){if(e.limitType===`L`&&e.explicitOrderBy.length===0)throw new L(I.UNIMPLEMENTED,`limitToLast() queries require specifying at least one orderBy() clause`)}function zb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var Bb=class{constructor(e){let t;this.kind=`persistent`,e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=Ub(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}};function Vb(e){return new Bb(e)}var Hb=class{constructor(e){this.forceOwnership=e,this.kind=`persistentSingleTab`}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Dy.provider,this._offlineComponentProvider={build:t=>new Ey(t,e?.cacheSizeBytes,this.forceOwnership)}}};function Ub(e){return new Hb(e?.forceOwnership)}var Wb=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Gb=class e extends Ib{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Kb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(Eb(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(I.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};Gb._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,Gb._jsonSchema={type:fl(`string`,Gb._jsonSchemaVersion),bundleSource:fl(`string`,`DocumentSnapshot`),bundleName:fl(`string`),bundle:fl(`string`)};var Kb=class extends Gb{data(e={}){return super.data(e)}},qb=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Wb(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Kb(this._firestore,this._userDataWriter,n.key,n,new Wb(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(I.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new Kb(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Wb(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new Kb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Jb(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(I.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=qc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function Jb(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return N(61501,{type:e})}}qb._jsonSchemaVersion=`firestore/querySnapshot/1.0`,qb._jsonSchema={type:fl(`string`,qb._jsonSchemaVersion),bundleSource:fl(`string`,`QuerySnapshot`),bundleName:fl(`string`),bundle:fl(`string`)};var Yb=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_b(e)}set(e,t,n){this._verifyNotCommitted();let r=Xb(e,this._firestore),i=zb(r.converter,t,n),a=vb(this._dataReader,`WriteBatch.set`,r._key,i,r.converter!==null,n);return this._mutations.push(a.toMutation(r._key,Rp.none())),this}update(e,t,n,...r){this._verifyNotCommitted();let i=Xb(e,this._firestore),a;return a=typeof(t=Ft(t))==`string`||t instanceof sb?xb(this._dataReader,`WriteBatch.update`,i._key,t,n,r):bb(this._dataReader,`WriteBatch.update`,i._key,t),this._mutations.push(a.toMutation(i._key,Rp.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Xb(e,this._firestore);return this._mutations=this._mutations.concat(new Zp(t._key,Rp.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(I.FAILED_PRECONDITION,`A write batch can no longer be used after commit() has been called.`)}};function Xb(e,t){if((e=Ft(e)).firestore!==t)throw new L(I.INVALID_ARGUMENT,`Provided document reference is from a different Firestore instance.`);return e}function Zb(e){e=dl(e,Jy);let t=dl(e.firestore,nb),n=ib(t),r=new Mb(t);return Rb(e._query),Ry(n,e._query).then((n=>new qb(t,r,e,n)))}function Qb(e,t,n){e=dl(e,Yy);let r=dl(e.firestore,nb),i=zb(e.converter,t,n);return tx(r,[vb(_b(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,Rp.none())])}function $b(e){return tx(dl(e.firestore,nb),[new Zp(e._key,Rp.none())])}function ex(e,...t){e=Ft(e);let n={includeMetadataChanges:!1,source:`default`},r=0;typeof t[r]!=`object`||Fb(t[r])||(n=t[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Fb(t[r])){let e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let a,o,s;if(e instanceof Yy)o=dl(e.firestore,nb),s=Kf(e._key.path),a={next:n=>{t[r]&&t[r](nx(o,e,n))},error:t[r+1],complete:t[r+2]};else{let n=dl(e,Jy);o=dl(n.firestore,nb),s=n._query;let i=new Mb(o);a={next:e=>{t[r]&&t[r](new qb(o,i,n,e))},error:t[r+1],complete:t[r+2]},Rb(e._query)}return Ly(ib(o),s,i,a)}function tx(e,t){return zy(ib(e),t)}function nx(e,t,n){let r=n.docs.get(t._key);return new Gb(e,new Mb(e),t._key,r,new Wb(n.hasPendingWrites,n.fromCache),t.converter)}function rx(e){return e=dl(e,nb),ib(e),new Yb(e,(t=>tx(e,t)))}(function(e,t=!0){jc(sr),nr(new It(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new nb(new Vc(e.getProvider(`auth-internal`)),new Gc(i,e.getProvider(`app-check-internal`)),Nd(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),ur(Nb,Pb,e),ur(Nb,Pb,`esm2020`)})();var ix=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),Q=o(((e,t)=>{t.exports=ix()}))(),ax=typeof __firebase_config<`u`?JSON.parse(__firebase_config):{apiKey:`AIzaSyBIakebs6orkgvGfMImFKC9fJGZ1eeRVnA`,authDomain:`contact-book-5a035.firebaseapp.com`,projectId:`contact-book-5a035`,storageBucket:`contact-book-5a035.firebasestorage.app`,messagingSenderId:`861889746646`,appId:`1:861889746646:web:4c5b659164731068429b77`},ox=typeof __app_id<`u`?__app_id:`my-contact-book`,sx,cx,lx;ax&&ax.apiKey&&ax.apiKey!==` apiKey`?(sx=cr(ax),cx=pc(sx),lx=rb(sx,{localCache:Vb()})):console.warn(` Firebase  firebaseConfig `);var ux={"01-01":``,"02-16":``,"02-17":`()`,"02-18":`()`,"02-19":`()`,"02-20":`()`,"02-27":``,"02-28":``,"04-03":``,"04-04":`/`,"04-05":``,"04-06":``,"05-01":``,"06-19":``,"09-25":``,"10-09":``,"10-10":``,"10-25":``,"10-26":``},dx=[],fx=Array.from({length:24},(e,t)=>String(t).padStart(2,`0`)),px=Array.from({length:60},(e,t)=>String(t).padStart(2,`0`)),$={SET_FULL_DATA:`SET_FULL_DATA`,UPDATE_FIELD:`UPDATE_FIELD`,RESET_DATE_TO_TODAY:`RESET_DATE_TO_TODAY`,ADD_ITEM:`ADD_ITEM`,REMOVE_ITEM:`REMOVE_ITEM`,UPDATE_ITEM:`UPDATE_ITEM`,RESET_MEAL:`RESET_MEAL`,RESET_ITEM_FIELDS:`RESET_ITEM_FIELDS`,DELETE_LINKED_RECORD:`DELETE_LINKED_RECORD`,UPDATE_BOWEL_TYPE:`UPDATE_BOWEL_TYPE`,TOGGLE_WAKE_UP_BREASTFEEDING:`TOGGLE_WAKE_UP_BREASTFEEDING`,TOGGLE_NAP_IS_BREASTFEEDING:`TOGGLE_NAP_IS_BREASTFEEDING`,TOGGLE_NAP_IS_NAP:`TOGGLE_NAP_IS_NAP`,TOGGLE_BREASTFEEDING_IS_NAP:`TOGGLE_BREASTFEEDING_IS_NAP`,TOGGLE_AWAKE_IS_BREASTFEEDING:`TOGGLE_AWAKE_IS_BREASTFEEDING`,TOGGLE_BEDTIME_BREASTFEEDING:`TOGGLE_BEDTIME_BREASTFEEDING`},mx={WEATHER:[``,``,``,``,``,``],HANDOVER:[``,``,``,``],LOCATIONS:[``,``,``],IS_OVERNIGHT:[``,``],LEAVE_TYPES:[``,``,``,``,``,``,``],COMPANIONS:[``,``,``],APPETITE:[``,``,``,``,``],WATER:[``,``,``,``],BOWEL_TYPES:[``,`/`,`/`,`/`],HEALTH_CARD:[{value:`card_at_dad`,label:``},{value:`card_at_mom`,label:``},{value:`dad_to_mom`,label:``},{value:`mom_to_dad`,label:``}],ORAL_TIMES:[``,``,``],ORAL_TYPES:[``,``],MOODS:[{value:``,label:` `},{value:``,label:` `},{value:``,label:` `},{value:``,label:` `},{value:``,label:` `},{value:``,label:` `},{value:``,label:` `},{value:``,label:` `},{value:``,label:` `}],ACTIVITY_TYPES:[``,``],RECORDERS:[``,``,``],TRANSPORTATION:[``,``,``,``,``,``,``,``,``]},hx=(e,t,n)=>{let r=`${String(t).padStart(2,`0`)}-${String(n).padStart(2,`0`)}`,i=new Date(e,t-1,n).getDay(),a=ux[r]||``,o=``;if(r===`10-16`){let t=e-2023;o=t===0?``:`${t}`}r===`02-27`&&(o=``),r===`08-31`&&(o=``),r===`08-08`&&(o=``),t===5&&i===0&&n>=8&&n<=14&&(o=``);let s=dx.includes(r);return{isHoliday:(!!a||i===0||i===6)&&!s,holidayName:a,familyName:o,isMakeUp:s,weekDay:i}},gx=(e=new Date)=>{let t=t=>e.toLocaleString(`en-US`,{timeZone:`Asia/Taipei`,...t});return{year:parseInt(t({year:`numeric`})),month:t({month:`2-digit`}).padStart(2,`0`),day:t({day:`2-digit`}).padStart(2,`0`),hour:t({hour:`2-digit`,hour12:!1}).replace(/^24/,`00`).padStart(2,`0`),minute:t({minute:`2-digit`}).padStart(2,`0`)}},_x=e=>{if(!e)return``;let[t,n,r]=e.split(`-`),i=[``,``,``,``,``,``,``][new Date(e).getDay()],{holidayName:a,familyName:o}=hx(parseInt(t),parseInt(n),parseInt(r)),s=i;return a?s+=` / ${a}`:o&&(s+=` / ${o}`),`${parseInt(t)-1911}${n}${r} ${s}`},vx=()=>{let e=gx();return`${e.hour}:${e.minute}`},yx=e=>Array.isArray(e)?[...e].sort((e,t)=>{let n=e.isPreviousDay||!1;if(n!==(t.isPreviousDay||!1))return n?-1:1;let r=e=>e.time===``?`06:00`:e.time===``?`12:00`:e.time===``?`18:00`:e.time?e.time:e.startTime?e.startTime:`99:99`;return r(e).localeCompare(r(t))}):[],bx=()=>{let e=gx();return{date:`${e.year}-${e.month}-${e.day}`,time:``,weather:``,weatherTempMin:``,weatherTempMax:``,weatherLocation:``,weatherSearchQuery:``,location:``,locationCustom:``,handoverItems:``,handoverSituation:``,handoverSituationCustom:``,isOvernight:``,overnightStartDate:``,overnightEndDate:``,departureTripTime:``,departureTripTransportation:``,departureTripTransportationCustom:``,returnTripTime:``,returnTripTransportation:``,returnTripTransportationCustom:``,schoolDepartureTripTime:``,schoolDepartureTripTransportation:``,schoolDepartureTripTransportationCustom:``,schoolReturnTripTime:``,schoolReturnTripTransportation:``,schoolReturnTripTransportationCustom:``,activityDepartureTripTime:``,activityDepartureTripTransportation:``,activityDepartureTripTransportationCustom:``,activityReturnTripTime:``,activityReturnTripTransportation:``,activityReturnTripTransportationCustom:``,schoolLeaveType:``,schoolLeaveOther:``,schoolLeaveHalfDayDesc:``,schoolLeavePersonalDesc:``,schoolLeaveSickDesc:``,schoolNotes:``,schoolArrivalTime:``,schoolArrivalCompanion:``,schoolDepartureTime:``,schoolDepartureCompanion:``,mealBreakfast:``,mealBreakfastTime:``,waterBreakfast:``,appetiteBreakfast:``,mealLunch:``,mealLunchTime:``,waterLunch:``,appetiteLunch:``,lunchReferToSchool:!1,mealDinner:``,mealDinnerTime:``,waterDinner:``,appetiteDinner:``,snackRecords:[],snackReferToSchool:!1,breastfeedingTimes:[],sleepLastNight:``,sleepAwakeRecords:[],sleepWakeUp:``,isWakeUpBreastfeeding:!1,sleepBedtime:``,isBedtimeBreastfeeding:!1,sleepActualTime:``,sleepActualReason:``,napRecords:[],napReferToSchool:!1,bowelMovements:[],bowelReferToSchool:!1,isNoBowelMovement:!1,emotionRecords:[],activityRecords:[],oralCareRecords:[],oralCareReferToSchool:!1,symptoms:[],injuryRecords:[],medicalLocations:[],healthCheckRecords:[],medications:[],healthCardStatus:``,notes:``,recorder:``,childArrivalRecordsBasic:[],childArrivalRecordsSchool:[],childArrivalRecordsActivity:[],isLocked:!1,lastUpdated:null}},xx={[$.SET_FULL_DATA]:(e,t)=>({...e,...t.payload}),[$.UPDATE_FIELD]:(e,t)=>{let{name:n,value:r}=t.payload;if(n===`date`)return{...bx(),date:r};let i={...e,[n]:r};return n===`isOvernight`&&r===``&&!e.overnightStartDate&&(i.overnightStartDate=e.date,i.overnightEndDate=e.date),n===`sleepWakeUp`&&e.isWakeUpBreastfeeding&&(i.breastfeedingTimes=yx(e.breastfeedingTimes.map(e=>e.source===`sleep-wakeup`?{...e,time:r||`00:00`}:e))),n===`sleepBedtime`&&e.isBedtimeBreastfeeding&&(i.breastfeedingTimes=yx(e.breastfeedingTimes.map(e=>e.source===`sleep-bedtime`?{...e,time:r||`00:00`}:e))),i},[$.RESET_DATE_TO_TODAY]:e=>{let t=gx();return{...bx(),date:`${t.year}-${t.month}-${t.day}`}},[$.ADD_ITEM]:(e,t)=>{let n=t.item.id||Date.now(),r={...t.item,id:n},i=[...e[t.key]||[],r];return{...e,[t.key]:yx(i)}},[$.REMOVE_ITEM]:(e,t)=>{let n={...e,[t.key]:e[t.key].filter(e=>e.id!==t.id)};if(t.key===`symptoms`){let r=e.symptoms.find(e=>e.id===t.id);r&&r.source===`bowel-list`&&r.sourceId&&(n.bowelMovements=yx(n.bowelMovements.map(e=>e.id===r.sourceId?{...e,type:``}:e)))}return n},[$.UPDATE_ITEM]:(e,t)=>{let n=e[t.key].map(e=>e.id===t.id?{...e,[t.field]:t.value}:e),r={...e,[t.key]:yx(n)};return t.key===`sleepAwakeRecords`&&t.field===`time`&&(r.breastfeedingTimes=yx(r.breastfeedingTimes.map(e=>e.source===`sleep-awake`&&e.sourceId===t.id?{...e,time:t.value||`00:00`}:e))),t.key===`napRecords`&&t.field===`startTime`&&(r.breastfeedingTimes=yx(r.breastfeedingTimes.map(e=>e.source===`nap-list`&&e.sourceId===t.id?{...e,time:t.value||`00:00`}:e))),r},[$.RESET_MEAL]:(e,t)=>{let{meal:n}=t.payload;return{...e,[`meal${n}`]:``,[`meal${n}Time`]:``,[`appetite${n}`]:``,[`water${n}`]:``}},[$.RESET_ITEM_FIELDS]:(e,t)=>{let{key:n,id:r,fields:i}=t.payload,a=e[n].map(e=>{if(e.id===r){let t={};return i.forEach(e=>t[e]=``),{...e,...t}}return e});return{...e,[n]:yx(a)}},[$.DELETE_LINKED_RECORD]:(e,t)=>{let{listKey:n,id:r}=t.payload,i=e[n]||[],a=i.find(e=>e.id===r),o=i.filter(e=>e.id!==r),s={...e,[n]:yx(o)};if(a&&a.source&&a.sourceId){let{source:e,sourceId:t,linkedField:r}=a,i=``;e===`symptom-list`?i=`symptoms`:e===`injury-list`&&(i=`injuryRecords`);let o=r;if(o||(n===`medications`?o=`isMedicated`:n===`medicalLocations`&&(o=`isDoctorVisited`)),i&&o&&s[i]){let e=s[i].map(e=>e.id===t?{...e,[o]:!1}:e);s={...s,[i]:yx(e)}}}return s},[$.UPDATE_BOWEL_TYPE]:(e,t)=>{let{id:n,value:r,time:i}=t.payload,a=e.bowelMovements.find(e=>e.id===n),o=a?a.type:null,s=e.bowelMovements.map(e=>e.id===n?{...e,type:r}:e),c={...e,bowelMovements:yx(s)};if(r===`/`&&o!==`/`){let t={id:Date.now(),time:i||`00:00`,desc:`/`,isFever:!1,isPreviousDay:!1,source:`bowel-list`,sourceId:n};c.symptoms=yx([...e.symptoms,t])}else o===`/`&&r!==`/`&&(c.symptoms=e.symptoms.filter(e=>!(e.source===`bowel-list`&&e.sourceId===n)));return c},[$.TOGGLE_WAKE_UP_BREASTFEEDING]:(e,t)=>{let{checked:n,time:r}=t.payload,i={...e,isWakeUpBreastfeeding:n},a=e.breastfeedingTimes.findIndex(e=>e.source===`sleep-wakeup`);if(n){if(a===-1){let t={id:Date.now(),time:r||`00:00`,isNap:!1,source:`sleep-wakeup`};i.breastfeedingTimes=yx([...e.breastfeedingTimes,t])}}else a!==-1&&(i.breastfeedingTimes=e.breastfeedingTimes.filter((e,t)=>t!==a));return i},[$.TOGGLE_AWAKE_IS_BREASTFEEDING]:(e,t)=>{let{id:n,checked:r,time:i}=t.payload,a=e.sleepAwakeRecords.map(e=>e.id===n?{...e,isBreastfeeding:r}:e),o={...e,sleepAwakeRecords:yx(a)},s=e.breastfeedingTimes.findIndex(e=>e.source===`sleep-awake`&&e.sourceId===n||!e.sourceId&&e.source===`sleep-awake`&&e.time===i);if(r){if(s===-1){let t={id:Date.now(),time:i||`00:00`,isNap:!1,source:`sleep-awake`,sourceId:n};o.breastfeedingTimes=yx([...e.breastfeedingTimes,t])}}else s!==-1&&(o.breastfeedingTimes=e.breastfeedingTimes.filter((e,t)=>t!==s));return o},[$.TOGGLE_BEDTIME_BREASTFEEDING]:(e,t)=>{let{checked:n,time:r}=t.payload,i={...e,isBedtimeBreastfeeding:n},a=e.breastfeedingTimes.findIndex(e=>e.source===`sleep-bedtime`);if(n){if(a===-1){let t={id:Date.now(),time:r||`00:00`,isNap:!1,source:`sleep-bedtime`};i.breastfeedingTimes=yx([...e.breastfeedingTimes,t])}}else a!==-1&&(i.breastfeedingTimes=e.breastfeedingTimes.filter((e,t)=>t!==a));return i},[$.TOGGLE_NAP_IS_BREASTFEEDING]:(e,t)=>{let{id:n,checked:r,time:i,isNap:a}=t.payload,o=e.napRecords.find(e=>e.id===n);if(!o)return e;if(o.source===`breastfeeding-list`&&o.sourceId)if(r){let t=e.napRecords.map(e=>e.id===n?{...e,isBreastfeeding:r}:e);return{...e,napRecords:yx(t)}}else{let t=e.napRecords.map(e=>e.id===n?{...e,isBreastfeeding:!1,source:void 0,sourceId:void 0}:e),r=e.breastfeedingTimes.filter(e=>e.id!==o.sourceId);return{...e,napRecords:yx(t),breastfeedingTimes:yx(r)}}else{let t=e.napRecords.map(e=>e.id===n?{...e,isBreastfeeding:r}:e),s={...e,napRecords:yx(t)},c=e.breastfeedingTimes.findIndex(e=>e.source===`nap-list`&&e.sourceId===n||!e.sourceId&&e.source===`nap-list`&&e.time===o.startTime);if(r)if(c!==-1)s.breastfeedingTimes=yx(e.breastfeedingTimes.map((e,t)=>t===c?{...e,isNap:a||!1,time:i||`00:00`}:e));else{let t={id:Date.now(),time:i||`00:00`,isNap:a||!1,source:`nap-list`,sourceId:n};s.breastfeedingTimes=yx([...e.breastfeedingTimes,t])}else c!==-1&&(s.breastfeedingTimes=e.breastfeedingTimes.filter((e,t)=>t!==c));return s}},[$.TOGGLE_NAP_IS_NAP]:(e,t)=>{let{id:n,checked:r}=t.payload,i=e.napRecords.find(e=>e.id===n),a=e.napRecords.map(e=>e.id===n?{...e,isNap:r}:e),o={...e,napRecords:yx(a)};if(i&&i.isBreastfeeding){let t=i.startTime||`00:00`;o.breastfeedingTimes=yx(e.breastfeedingTimes.map(e=>e.sourceId===n||!e.sourceId&&e.source===`nap-list`&&e.time===t||i.source===`breastfeeding-list`&&i.sourceId===e.id?{...e,isNap:r}:e))}return o},[$.TOGGLE_BREASTFEEDING_IS_NAP]:(e,t)=>{let{id:n,checked:r,time:i}=t.payload,a=e.breastfeedingTimes.find(e=>e.id===n),o=e.breastfeedingTimes.map(e=>e.id===n?{...e,isNap:r}:e),s={...e,breastfeedingTimes:yx(o)};if(a&&a.source===`nap-list`)s.napRecords=yx(e.napRecords.map(e=>e.id===a.sourceId||!a.sourceId&&e.startTime===a.time?{...e,isNap:r}:e));else{let t=e.napRecords.findIndex(e=>e.source===`breastfeeding-list`&&e.sourceId===n||!e.sourceId&&e.startTime===i&&e.isBreastfeeding);if(t!==-1)s.napRecords=yx(e.napRecords.map((e,n)=>n===t?{...e,isNap:r}:e));else if(r){let t={id:Date.now(),startTime:i||`00:00`,endTime:``,isBreastfeeding:!0,isNap:!0,source:`breastfeeding-list`,sourceId:n};s.napRecords=yx([...e.napRecords,t])}}return s}},Sx=(e,t)=>{let n=xx[t.type];return n?n(e,t):e},Cx=(e,t,n,r,i,a,o=`   `)=>{let s=``,c=o.length>=5?``:`-`;if(e||t){let r=t||``;r.includes(``)&&n&&(r=r.replace(``,`(${n})`)),s+=`${o}${c} ${e||`??:??`} ${r}\n`}if(r||i){let e=i||``;e.includes(``)&&a&&(e=e.replace(``,`(${a})`)),s+=`${o}${c} ${r||`??:??`} ${e}\n`}return s},wx=(e,t)=>{let n=e.location===``?e.locationCustom:e.location,r=`\n\n ${_x(e.date)} ${e.time}\n`,i=[];e.weather&&i.push(e.weather),(e.weatherTempMin||e.weatherTempMax)&&i.push(`${e.weatherTempMin||`?`}C ~ ${e.weatherTempMax||`?`}C`),e.weatherLocation&&i.push(`(${e.weatherLocation})`),i.length>0&&(r+=` ${i.join(` `)}\n`);let a=e.handoverSituation===``?`${e.handoverSituation} (${e.handoverSituationCustom})`:e.handoverSituation;a&&(r+=` ${a}\n`),n&&(r+=` ${n}\n`),e.handoverItems&&(r+=` ${e.handoverItems}\n`),e.isOvernight&&(r+=` ${e.isOvernight}${e.isOvernight===``?` ${_x(e.overnightStartDate||e.date)} ~ ${_x(e.overnightEndDate||e.date)}`:``}\n`);let o=Cx(e.departureTripTime,e.departureTripTransportation,e.departureTripTransportationCustom,e.returnTripTime,e.returnTripTransportation,e.returnTripTransportationCustom,`   `);return o&&(r+=` \n${o}`),e.childArrivalRecordsBasic?.forEach(e=>{let t=e.location===``?e.locationCustom:e.location;(e.time||t)&&(r+=`  ${e.time||`??:??`}  ${t||`???`}\n`)}),r.trimEnd()},Tx=e=>{let t=``;if(e.schoolLeaveType){let n=e.schoolLeaveType;n===``?n+=` (${e.schoolLeaveOther})`:n===``?n+=` (${e.schoolLeaveHalfDayDesc})`:n===``?n+=` (${e.schoolLeavePersonalDesc})`:n===``&&(n+=` (${e.schoolLeaveSickDesc})`),t+=`   - ${n}\n`}e.schoolNotes&&(t+=`   - ${e.schoolNotes}\n`),e.schoolArrivalTime&&(t+=`   - ${e.schoolArrivalTime} ${e.schoolArrivalCompanion?`(${e.schoolArrivalCompanion})`:``}\n`),e.schoolDepartureTime&&(t+=`   - ${e.schoolDepartureTime} ${e.schoolDepartureCompanion?`(${e.schoolDepartureCompanion})`:``}\n`);let n=Cx(e.schoolDepartureTripTime,e.schoolDepartureTripTransportation,e.schoolDepartureTripTransportationCustom,e.schoolReturnTripTime,e.schoolReturnTripTransportation,e.schoolReturnTripTransportationCustom,`     `);return n&&(t+=`   -  \n${n}`),e.childArrivalRecordsSchool?.forEach(e=>{let n=e.location===``?e.locationCustom:e.location;(e.time||n)&&(t+=`   -   ${e.time||`??:??`}  ${n||`???`}\n`)}),t?` \n${t.trimEnd()}`:``},Ex=e=>{let t=``;if(e.activityRecords&&e.activityRecords.length>0&&e.activityRecords.forEach(e=>{t+=`    ${e.time?`${e.time} `:``}${e.location?`${e.location} `:``}${e.content?` ${e.content}`:``} ${e.type?`(${e.type})`:``}\n`}),e.activityRecords?.some(e=>e.type===``)){let n=Cx(e.activityDepartureTripTime,e.activityDepartureTripTransportation,e.activityDepartureTripTransportationCustom,e.activityReturnTripTime,e.activityReturnTripTransportation,e.activityReturnTripTransportationCustom,`     `);n&&(t+=`     \n${n}`),e.childArrivalRecordsActivity?.forEach(e=>{let n=e.location===``?e.locationCustom:e.location;(e.time||n)&&(t+=`      ${e.time||`??:??`}  ${n||`???`}\n`)})}return t?` \n${t.trimEnd()}`:``},Dx=e=>{let t=``,n=(e,t,n,r,i,a)=>{if(!n&&!t&&!r&&!i&&!a)return``;let o=n;a&&(o=o?`${o} ()`:`()`);let s=[];r&&s.push(`:${r}`),i&&s.push(`:${i}`);let c=s.length?` (${s.join(`, `)})`:``;return`   - ${e}${t?`(${t}) `:``}${o}${c}\n`};return t+=n(``,e.mealBreakfastTime,e.mealBreakfast,e.appetiteBreakfast,e.waterBreakfast),t+=n(``,e.mealLunchTime,e.mealLunch,e.appetiteLunch,e.waterLunch,e.lunchReferToSchool),t+=n(``,e.mealDinnerTime,e.mealDinner,e.appetiteDinner,e.waterDinner),e.snackReferToSchool&&(t+=`   - ()
`),e.snackRecords.forEach(e=>t+=n(``,e.time,e.content,e.appetite,e.water)),e.breastfeedingTimes.length>0&&(t+=` ${e.breastfeedingTimes.map(e=>`${e.time}${e.isNap?`()`:``}`).join(``)}\n`),t?`  \n${t.trimEnd()}`:``},Ox=e=>{let t=``;e.sleepLastNight&&(t+=`   - ${e.sleepLastNight}\n`),e.sleepAwakeRecords.forEach(e=>t+=`       ${e.time}${e.asleepTime?` ~ ${e.asleepTime}`:``} : ${e.reason}${e.isBreastfeeding?` ()`:``}\n`),e.sleepWakeUp&&(t+=`   - ${e.sleepWakeUp} ${e.isWakeUpBreastfeeding?`()`:``}\n`);let n=`   - `;return e.napReferToSchool&&(n+=` ()`),(e.napRecords.length>0||e.napReferToSchool)&&(t+=`${n}\n`,e.napRecords.forEach(e=>{let n=e.isNap?``:``;t+=`      ${n} ${e.startTime} ~ ${e.endTime}${e.isNotAsleep?` (: ${e.reason})`:``}\n`})),e.sleepBedtime&&(t+=`   - ${e.sleepBedtime} ${e.isBedtimeBreastfeeding?`()`:``}\n`),e.sleepActualTime&&(t+=`      ${e.sleepActualTime} ${e.sleepActualReason?`(${e.sleepActualReason})`:``}\n`),t?` \n${t.trimEnd()}`:``},kx=e=>{let t=``,n=``;e.bowelReferToSchool&&(n+=`   ()
`),e.isNoBowelMovement&&(n+=`   - 
`),e.bowelMovements.forEach((e,t)=>n+=`   (${t+1}) ${e.time} - ${e.type}\n`),n&&(t+=` \n${n.trimEnd()}`);let r=``;return e.emotionRecords.length>0&&e.emotionRecords.forEach(e=>r+=`    ${e.time} ${e.mood} ${e.note?`(${e.note})`:``}\n`),r&&(t+=`${t?`

-------------------
`:``} \n${r.trimEnd()}`),t},Ax=e=>{let t=``;return e.healthCardStatus&&(t+=` ${{dad_to_mom:``,mom_to_dad:``,card_at_dad:``,card_at_mom:``}[e.healthCardStatus]||``}\n`),(e.oralCareRecords.length>0||e.oralCareReferToSchool)&&(t+=`   - ${e.oralCareReferToSchool?` ()`:``}\n`,e.oralCareRecords.forEach(e=>t+=`      ${e.time} ${e.type}\n`)),e.symptoms.length>0&&(t+=`   - 
`,e.symptoms.forEach(e=>{let n=[];e.isFever&&n.push(` ${e.feverTemp||`?`}C${e.isFeverMedication?` ()`:``}`),e.isDoctorVisited&&n.push(``),e.isMedicated&&n.push(``);let r=n.length?` (${n.join(``)})`:``,i=[];e.observationTime&&i.push(`:${e.observationTime}`),e.isImproved&&i.push(``),e.isNotImproved&&i.push(`${e.notImprovedReason?`(${e.notImprovedReason})`:``}`);let a=i.length?` [${i.join(` `)}]`:``;t+=`      ${e.isPreviousDay?`()`:``} ${e.time} ${e.desc}${r}${a}\n`})),e.injuryRecords?.length>0&&(t+=`   - 
`,e.injuryRecords.forEach(e=>{let n=[];e.isPreviousDay&&n.push(`()`),e.time&&n.push(e.time),e.location&&n.push(`@${e.location}`);let r=[];e.part&&r.push(`:${e.part}`),e.cause&&r.push(`:${e.cause}`);let i=[];e.isMedicated&&i.push(``),e.isDoctorVisited&&i.push(``);let a=i.length?` (${i.join(``)})`:``;t+=`      ${n.join(` `)} ${r.join(``)}${a}\n`})),e.medications.length>0&&(t+=`   - 
`,e.medications.forEach(e=>{let n=[];e.isInternal&&n.push(``),e.isExternal&&n.push(``);let r=n.length?`(${n.join(`/`)})`:``,i=[];e.isImproved&&i.push(``),e.isNotImproved&&i.push(`${e.notImprovedReason?`(${e.notImprovedReason})`:``}`);let a=i.length?` [${i.join(` `)}]`:``;t+=`      ${e.isPreviousDay?`()`:``} ${e.time} ${r} ${e.name} ${a}\n`})),e.medicalLocations.length>0&&(t+=`   - 
`,e.medicalLocations.forEach(e=>{let n=[];e.isVaccine&&n.push(`:${e.vaccineName}`),e.isInjection&&n.push(``),e.isIV&&n.push(``),e.isOtherTreatment&&n.push(`:${e.otherTreatmentDesc}`);let r=n.length?` -> ${n.join(``)}`:``,i=e.reason?` (${e.reason})`:``,a=e.doctorNote?` :${e.doctorNote}`:``,o=e.cost?` $${e.cost}`:``,s=e.followUpDate?_x(e.followUpDate).split(` `)[0]:``,c=e.isFollowUp?` [: ${s}${e.followUpNumber?` (${e.followUpNumber})`:``}]`:``;t+=`      ${e.time} ${e.desc}${i}${r}${a}${o}${c}\n`})),e.healthCheckRecords.length>0&&(t+=`   - 
`,e.healthCheckRecords.forEach(e=>{t+=`      ${e.time} ${e.checkLocation}\n`,(e.height||e.weight)&&(t+=`       : ${e.height}cm / ${e.weight}kg\n`),e.isVaccine&&(t+=`       : ${e.vaccineName}\n`);let n=[];e.leftEyeStatus&&n.push(`:${e.leftEyeStatus===`normal`?``:`(${e.leftEyeAbnormalReason})`}`),e.rightEyeStatus&&n.push(`:${e.rightEyeStatus===`normal`?``:`(${e.rightEyeAbnormalReason})`}`),n.length&&(t+=`       : ${n.join(` / `)}\n`);let r=[];e.oralStatus&&r.push(`:${e.oralStatus===`normal`?``:`(${e.oralAbnormalReason})`}`),e.isOralCare&&r.push(`:${e.oralCareItem}`),r.length&&(t+=`       : ${r.join(` / `)}\n`),e.cost&&(t+=`       : $${e.cost}\n`),e.doctorNote&&(t+=`       : ${e.doctorNote}\n`)})),t?` \n${t.trimEnd()}`:``},jx=e=>{let t=``;return e.notes&&(t+=` ${e.notes||``}\n`),e.recorder&&(t+=` ${e.recorder||``}`),t.trimEnd()},Mx=(e,t)=>{let n=[wx(e,t),Tx(e),Ox(e),Dx(e),kx(e),Ax(e),Ex(e)].filter(Boolean).join(`
-------------------
`),r=jx(e);return r&&(n+=`\n-------------------\n${r}`),n},Nx=()=>{let[e,t]=(0,_.useState)(null);return{toast:e,showToast:(0,_.useCallback)((e,n=`info`)=>t({message:e,type:n}),[]),setToast:t}},Px=null,Fx=async e=>{if(!e)return e;try{return window.OpenCC||await new Promise((e,t)=>{let n=document.createElement(`script`);n.src=`https://cdn.jsdelivr.net/npm/opencc-js@1.0.5/dist/umd/full.js`,n.onload=e,n.onerror=t,document.head.appendChild(n)}),Px||=window.OpenCC.Converter({from:`cn`,to:`tw`}),Px(e)}catch(t){return console.warn(``,t),e}},Ix=(e,t,n)=>(0,_.useCallback)(async(r=``)=>{let i=async(r,i,a=``)=>{try{let o=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${r}&longitude=${i}&daily=temperature_2m_max,temperature_2m_min&timezone=auto&start_date=${e}&end_date=${e}`)).json(),s=a;try{let e=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${r}&lon=${i}&format=json&accept-language=zh-TW`)).json();if(e&&e.address){let t=e.address.city||e.address.county||e.address.town||``,n=e.address.suburb||e.address.city_district||e.address.village||e.address.neighbourhood||``;(t||n)&&(s=await Fx(t===n?t:`${t}${n}`))}}catch(e){console.error(`Geo fetch failed`,e)}o.daily?.temperature_2m_max?(t({type:$.UPDATE_FIELD,payload:{name:`weatherTempMax`,value:o.daily.temperature_2m_max[0]}}),t({type:$.UPDATE_FIELD,payload:{name:`weatherTempMin`,value:o.daily.temperature_2m_min[0]}}),s&&t({type:$.UPDATE_FIELD,payload:{name:`weatherLocation`,value:s}}),n(``,`success`)):n(``,`error`)}catch{n(``,`error`)}};if(typeof r==`string`&&r.trim()){n(`...`,`info`);try{let e=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(r)}&format=json&limit=1&accept-language=zh-TW`)).json();if(e&&e.length>0){let t=e[0].lat,n=e[0].lon;i(t,n,await Fx(r.trim()))}else n(``,`error`)}catch{n(``,`error`)}return}if(!navigator.geolocation){n(``,`info`),i(25.058,121.558,``);return}navigator.geolocation.getCurrentPosition(e=>i(e.coords.latitude,e.coords.longitude),()=>{n(``,`info`),i(25.058,121.558,``)},{timeout:5e3})},[e,t,n]),Lx=()=>{let[e,t]=(0,_.useReducer)(Sx,bx()),[n,r]=(0,_.useState)({}),i=(0,_.useCallback)(e=>{if(!e)return{};let[t,n,r]=e.split(`-`),{isHoliday:i,holidayName:a,familyName:o,isMakeUp:s,weekDay:c}=hx(parseInt(t),parseInt(n),parseInt(r));return{dayLabel:[``,``,``,``,``,``,``][c],holidayName:a,familyName:o,isMakeUp:s,isHoliday:i,isWeekend:c===0||c===6}},[]);return(0,_.useEffect)(()=>{r(i(e.date))},[e.date,i]),{formData:e,dispatch:t,handleChange:(0,_.useCallback)(e=>{let{name:n,value:r,type:i,checked:a}=e.target;t({type:$.UPDATE_FIELD,payload:{name:n,value:i===`checkbox`?a:r}})},[]),handleTimeReset:(0,_.useCallback)(e=>{t({type:$.UPDATE_FIELD,payload:{name:e,value:``}})},[]),handleJumpToToday:(0,_.useCallback)(()=>{t({type:$.RESET_DATE_TO_TODAY})},[]),listOps:(0,_.useMemo)(()=>({add:(e,n)=>{let r=Date.now(),i={...n,id:r};return t({type:$.ADD_ITEM,key:e,item:i}),r},remove:(e,n)=>t({type:$.REMOVE_ITEM,key:e,id:n}),update:(e,n,r,i)=>t({type:$.UPDATE_ITEM,key:e,id:n,field:r,value:i}),resetFields:(e,n,r)=>t({type:$.RESET_ITEM_FIELDS,payload:{key:e,id:n,fields:r}})}),[]),handlers:(0,_.useMemo)(()=>({updateBowelType:(e,n)=>t({type:$.UPDATE_BOWEL_TYPE,payload:{id:e,value:n,time:vx()}}),toggleWakeUpBreastfeeding:(e,n)=>t({type:$.TOGGLE_WAKE_UP_BREASTFEEDING,payload:{checked:e,time:n||vx()}}),toggleAwakeBreastfeeding:(e,n,r)=>t({type:$.TOGGLE_AWAKE_IS_BREASTFEEDING,payload:{id:e,checked:n,time:r}}),toggleBedtimeBreastfeeding:(e,n)=>t({type:$.TOGGLE_BEDTIME_BREASTFEEDING,payload:{checked:e,time:n||vx()}}),toggleNapBreastfeeding:(e,n,r,i)=>t({type:$.TOGGLE_NAP_IS_BREASTFEEDING,payload:{id:e,checked:n,time:r,isNap:i}}),toggleNapIsNap:(e,n)=>t({type:$.TOGGLE_NAP_IS_NAP,payload:{id:e,checked:n}}),toggleBreastfeedingNap:(e,n,r)=>t({type:$.TOGGLE_BREASTFEEDING_IS_NAP,payload:{id:e,checked:n,time:r}}),handleMealReset:e=>t({type:$.RESET_MEAL,payload:{meal:e}}),deleteLinkedRecord:(e,n)=>t({type:$.DELETE_LINKED_RECORD,payload:{listKey:e,id:n}})}),[]),dateInfo:n}},Rx=(e,t)=>{let[n,r]=(0,_.useState)(null),[i,a]=(0,_.useState)(`idle`),[o,s]=(0,_.useState)(!1),c=(0,_.useRef)(!1),l=(0,_.useRef)(null),u=(0,_.useRef)(null),d=(0,_.useRef)(``);return(0,_.useEffect)(()=>cx?((async()=>{try{typeof __initial_auth_token<`u`&&__initial_auth_token?await no(cx,__initial_auth_token):await Ya(cx)}catch(e){console.error(`Firebase  ( Firebase Console ):`,e)}})(),ao(cx,r)):void 0,[]),(0,_.useEffect)(()=>{if(!n||!e.date||!lx)return;s(!1),u.current=null,a(`syncing`);let r=ex(Qy(lx,`artifacts`,ox,`users`,n.uid,`handover_records`,`handover_${e.date}`),n=>{if(n.exists()){let r=n.data(),i={...e};delete i.lastUpdated;let o={...bx(),date:e.date,...r};delete o.lastUpdated,JSON.stringify(i)===JSON.stringify(o)?d.current=JSON.stringify(i):(c.current=!0,t({type:$.SET_FULL_DATA,payload:{...bx(),date:e.date,...r}}),d.current=JSON.stringify(o),a(`saved`),setTimeout(()=>{c.current=!1},500))}else{let t={...bx(),date:e.date};delete t.lastUpdated,d.current=JSON.stringify(t)}u.current=e.date,s(!0),i===`syncing`&&a(`saved`)},e=>{console.error(e),a(`error`)});return()=>r()},[n,e.date]),(0,_.useEffect)(()=>{if(u.current!==e.date||c.current||!n||!lx||!o)return;let t={...e};delete t.lastUpdated,JSON.stringify(t)!==d.current&&(a(`saving`),clearTimeout(l.current),l.current=setTimeout(async()=>{try{await Qb(Qy(lx,`artifacts`,ox,`users`,n.uid,`handover_records`,`handover_${e.date}`),{...e,lastUpdated:new Date().toISOString()}),d.current=JSON.stringify(t),a(`saved`)}catch{a(`error`)}},500))},[e,n,o]),{user:n,syncStatus:i,isLoaded:o}},zx=e=>{let[t,n]=(0,_.useState)([]);return(0,_.useEffect)(()=>{if(!e||!lx)return;let t=ex(Zy(lx,`artifacts`,ox,`users`,e.uid,`handover_records`),e=>{let t=[];e.forEach(e=>{let n=e.data().date;n&&t.push(n)}),n(t)},e=>console.error(e));return()=>t()},[e]),t},Bx=(e,t,n,r=!1)=>{let[i,a]=(0,_.useState)(r||n);return(0,_.useEffect)(()=>{a(r||n)},[t,r,n]),(0,_.useEffect)(()=>{let t=t=>{t.detail===e&&a(!0)};return window.addEventListener(`expandSection`,t),()=>window.removeEventListener(`expandSection`,t)},[e]),[i,(0,_.useCallback)(()=>a(e=>!e),[])]},Vx=({className:e})=>(0,Q.jsx)(`div`,{className:`animate-pulse bg-gray-200 rounded ${e}`}),Hx=()=>(0,Q.jsx)(`div`,{className:`space-y-8 animate-fade-in`,children:(0,Q.jsx)(`div`,{className:`space-y-4`,children:(0,Q.jsx)(`div`,{className:`h-8 w-32 bg-gray-200 rounded mb-2`,children:(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,Q.jsx)(Vx,{className:`h-32 w-full`}),(0,Q.jsx)(Vx,{className:`h-32 w-full`})]})})})}),Ux=_.memo(({message:e,type:t=`info`,onClose:n})=>{(0,_.useEffect)(()=>{let e=setTimeout(n,3e3);return()=>clearTimeout(e)},[n]);let r=t===`error`?`bg-red-600`:t===`success`?`bg-emerald-600`:`bg-gray-800`,i=t===`error`?ue:t===`success`?oe:be;return(0,Q.jsxs)(`div`,{className:`fixed bottom-6 right-6 ${r} text-white px-4 py-3 rounded-lg shadow-xl flex items-center gap-3 animate-slide-up z-[60]`,children:[(0,Q.jsx)(i,{className:`w-4 h-4`}),(0,Q.jsx)(`span`,{className:`font-medium text-sm`,children:e}),(0,Q.jsx)(`button`,{onClick:n,children:(0,Q.jsx)(Le,{className:`w-3 h-3`})})]})}),Wx=({children:e,onClose:t})=>(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm animate-fade-in`,children:(0,Q.jsx)(`div`,{className:`bg-white rounded-xl shadow-2xl w-full max-w-sm border border-gray-200 animate-scale-up`,children:e})}),Gx=({title:e,content:t,onConfirm:n,onCancel:r,confirmText:i=``,cancelText:a=``})=>(0,Q.jsx)(Wx,{onClose:r,children:(0,Q.jsxs)(`div`,{className:`p-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-xl font-bold text-gray-900 mb-2 flex items-center gap-2`,children:[(0,Q.jsx)(me,{className:`w-6 h-6 text-indigo-600`}),e]}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-6 text-base leading-relaxed`,children:t}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:r,className:`px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium`,children:a}),(0,Q.jsx)(`button`,{onClick:n,className:`px-4 py-2 text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg font-medium`,children:i})]})]})}),Kx=({content:e,onClose:t})=>(0,Q.jsx)(Wx,{onClose:t,children:(0,Q.jsxs)(`div`,{className:`p-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-xl font-bold text-gray-900 mb-2 flex items-center gap-2`,children:[(0,Q.jsx)(ue,{className:`w-6 h-6 text-red-600`}),``]}),(0,Q.jsx)(`p`,{className:`text-gray-600 mb-6 text-base leading-relaxed`,children:e}),(0,Q.jsx)(`div`,{className:`flex justify-end`,children:(0,Q.jsx)(`button`,{onClick:t,className:`px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg font-medium`,children:``})})]})}),qx=({recordedDates:e,currentDate:t,onSelectDate:n,onClose:r})=>{let i=(0,_.useMemo)(()=>[...e].sort((e,t)=>e.localeCompare(t)).reduce((e,t)=>{let n=t.slice(0,7);return e[n]||(e[n]=[]),e[n].push(t),e},{}),[e]),a=Object.keys(i).sort((e,t)=>t.localeCompare(e));return(0,Q.jsx)(Wx,{onClose:r,children:(0,Q.jsxs)(`div`,{className:`p-6 max-h-[80vh] flex flex-col dark:bg-gray-800 rounded-xl`,children:[(0,Q.jsxs)(`h3`,{className:`text-xl font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(ie,{className:`w-6 h-6 text-blue-600`}),``]}),(0,Q.jsxs)(`div`,{className:`overflow-y-auto pr-2 space-y-4 flex-1 hide-scrollbar`,children:[a.map(e=>{let[r,a]=e.split(`-`),o=i[e];return(0,Q.jsxs)(`div`,{className:`bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 border border-gray-200 dark:border-gray-700`,children:[(0,Q.jsxs)(`h4`,{className:`font-bold text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2`,children:[(0,Q.jsxs)(`span`,{children:[r-1911,``,a,``]}),(0,Q.jsxs)(`span`,{className:`text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/30 px-2 py-0.5 rounded-full`,children:[o.length,` `]})]}),(0,Q.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:o.map(e=>{let r=e.split(`-`)[2];return(0,Q.jsxs)(`button`,{onClick:()=>n(e),className:`px-3 py-1 border rounded-md transition-colors text-sm font-medium shadow-sm ${e===t?`bg-blue-600 text-white border-blue-600 dark:bg-blue-500 dark:border-blue-500`:`bg-white dark:bg-gray-800 border-blue-200 dark:border-blue-800/50 text-blue-700 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30`}`,children:[r,``]},e)})})]},e)}),e.length===0&&(0,Q.jsx)(`p`,{className:`text-gray-500 dark:text-gray-400 text-center py-4`,children:``})]}),(0,Q.jsx)(`div`,{className:`mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 flex justify-end`,children:(0,Q.jsx)(`button`,{onClick:r,className:`px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-200 dark:hover:bg-gray-600`,children:``})})]})})},Jx=_.memo(({id:e,title:t,icon:n,colorClass:r,bgClass:i,onScrollTop:a,isExpanded:o,onToggle:s})=>(0,Q.jsxs)(`div`,{className:`flex items-center justify-between border-b ${r.replace(`text`,`border`)} pb-2 cursor-pointer select-none group`,onClick:s,children:[(0,Q.jsxs)(`h2`,{className:`flex items-center gap-2 text-lg font-semibold ${r} group-hover:opacity-80 transition-opacity`,children:[(0,Q.jsx)(n,{className:`w-5 h-5`}),` `,t]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`button`,{onClick:t=>{t.stopPropagation(),a(e)},className:`p-1.5 rounded-full ${i} ${r.replace(`text-600`,`text-400`)} hover:${i.replace(`50`,`100`)} transition-colors`,title:``,children:(0,Q.jsx)(w,{className:`w-4 h-4`})}),s&&(0,Q.jsx)(`div`,{className:`p-1.5 rounded-full ${i} ${r.replace(`text-600`,`text-400`)} transition-transform duration-300 ${o?``:`rotate-180`}`,children:(0,Q.jsx)(le,{className:`w-4 h-4`})})]})]})),Yx=_.memo(({value:e,onChange:t,name:n,className:r})=>{let[i,a]=(e||`:`).split(`:`),o=`flex items-center border border-gray-300 rounded-lg bg-white overflow-hidden h-[40px] focus-within:ring-2 focus-within:ring-blue-300 transition-shadow shrink-0 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200`;return(0,Q.jsxs)(`div`,{className:r?`${o} ${r.replace(`border `,``)}`:`${o} w-[130px]`,children:[(0,Q.jsxs)(`select`,{value:i||``,onChange:e=>t({target:{name:n,value:`${e.target.value}:${a||`00`}`}}),className:`flex-1 h-full text-center bg-transparent outline-none appearance-none cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-600 text-sm font-medium text-gray-700 dark:text-gray-200`,children:[(0,Q.jsx)(`option`,{value:``,disabled:!0,children:``}),fx.map(e=>(0,Q.jsx)(`option`,{value:e,className:`text-gray-700 dark:text-gray-200 dark:bg-gray-700`,children:e},e))]}),(0,Q.jsx)(`span`,{className:`text-gray-400 dark:text-gray-500 font-bold`,children:`:`}),(0,Q.jsxs)(`select`,{value:a||``,onChange:e=>t({target:{name:n,value:`${i||`00`}:${e.target.value}`}}),className:`flex-1 h-full text-center bg-transparent outline-none appearance-none cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-600 text-sm font-medium text-gray-700 dark:text-gray-200`,children:[(0,Q.jsx)(`option`,{value:``,disabled:!0,children:``}),px.map(e=>(0,Q.jsx)(`option`,{value:e,className:`text-gray-700 dark:text-gray-200 dark:bg-gray-700`,children:e},e))]})]})}),Xx=_.memo(({value:e,onChange:t,onClose:n,recordedDates:r=[]})=>{let[i,a]=(0,_.useState)(()=>e?new Date(e):new Date),o=i.getFullYear(),s=i.getMonth()+1,c=new Date(o,s,0).getDate(),l=(new Date(o,s-1,1).getDay()+6)%7,u=()=>{o===2023&&s===10||a(new Date(o,s-2,1))},d=()=>a(new Date(o,s,1)),f=e=>a(new Date(parseInt(e.target.value),s-1,1)),p=e=>{let t=parseInt(e.target.value);o===2023&&t<10||a(new Date(o,t-1,1))},m=e=>{t(`${o}-${String(s).padStart(2,`0`)}-${String(e).padStart(2,`0`)}`)},h=()=>{let t=[];for(let e=0;e<l;e++)t.push((0,Q.jsx)(`div`,{className:`h-10`},`empty-${e}`));let n=new Date(2023,9,16);for(let i=1;i<=c;i++){let a=new Date(o,s-1,i)<n,c=hx(o,s,i),l=`${o}-${String(s).padStart(2,`0`)}-${String(i).padStart(2,`0`)}`,u=e===l,d=r.includes(l),f=a?`text-gray-300 dark:text-gray-600`:c.isHoliday?`text-red-600 dark:text-red-400 font-bold`:`text-gray-800 dark:text-gray-200`;u&&(f=`text-white`),t.push((0,Q.jsxs)(`button`,{disabled:a,onClick:e=>{e.stopPropagation(),a||m(i)},className:`h-10 w-10 mx-auto flex flex-col items-center justify-center rounded-full transition-colors relative ${u?`bg-blue-600 shadow-md`:a?`cursor-not-allowed bg-gray-50 dark:bg-gray-800`:`hover:bg-gray-100 dark:hover:bg-gray-700`}`,children:[d&&!u&&(0,Q.jsx)(`span`,{className:`absolute top-1 right-1 w-1.5 h-1.5 bg-emerald-500 shadow-sm rounded-full`}),(0,Q.jsx)(`span`,{className:`text-sm ${f} leading-none`,children:i}),c.holidayName&&!a&&(0,Q.jsx)(`span`,{className:`text-[8px] leading-tight px-0.5 rounded ${u?`text-blue-100`:`text-red-500`} scale-90 origin-top`,children:c.holidayName.slice(0,4)})]},i))}return t},g=Array.from({length:new Date().getFullYear()+3-2023},(e,t)=>2023+t);return(0,Q.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 p-4 w-[280px] sm:w-[320px] animate-scale-up`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,Q.jsx)(`button`,{onClick:e=>{e.stopPropagation(),u()},className:`p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700`,children:(0,Q.jsx)(se,{className:`w-5 h-5`})}),(0,Q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,Q.jsx)(`select`,{value:o,onChange:f,className:`font-bold text-gray-800 dark:text-gray-200 text-base bg-transparent border-none outline-none`,children:g.map(e=>(0,Q.jsxs)(`option`,{value:e,className:`text-gray-800 dark:text-gray-200 dark:bg-gray-800`,children:[e-1911,``]},e))}),(0,Q.jsx)(`select`,{value:s,onChange:p,className:`font-bold text-gray-800 dark:text-gray-200 text-base bg-transparent border-none outline-none`,children:Array.from({length:12},(e,t)=>t+1).map(e=>(0,Q.jsxs)(`option`,{value:e,className:`text-gray-800 dark:text-gray-200 dark:bg-gray-800`,children:[e,``]},e))})]}),(0,Q.jsx)(`button`,{onClick:e=>{e.stopPropagation(),d()},className:`p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full`,children:(0,Q.jsx)(ce,{className:`w-5 h-5`})})]}),(0,Q.jsx)(`div`,{className:`grid grid-cols-7 text-center mb-2 border-b dark:border-gray-700 pb-2`,children:[``,``,``,``,``,``,``].map((e,t)=>(0,Q.jsx)(`div`,{className:`text-xs font-bold ${t>=5?`text-red-500 dark:text-red-400`:`text-gray-500 dark:text-gray-400`}`,children:e},e))}),(0,Q.jsx)(`div`,{className:`grid grid-cols-7 gap-1`,children:h()})]})}),Zx=_.memo(({value:e,onChange:t,isHoliday:n,recordedDates:r,className:i,textClass:a=`text-sm`})=>{let[o,s]=(0,_.useState)(!1),c=(0,_.useRef)(null),l=(0,_.useMemo)(()=>{if(!e)return``;let[t,n,r]=e.split(`-`);return`${t-1911}${n}${r}`},[e]),u=(0,_.useCallback)(e=>{t({target:{name:`date`,value:e}}),s(!1)},[t]);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(`div`,{ref:c,className:`relative flex items-center justify-center border cursor-pointer hover:shadow-sm transition-all ${n?`border-red-300 bg-red-50 dark:bg-red-900/20 dark:border-red-800`:`border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700`} ${i||`rounded-lg h-[40px] min-w-[150px]`}`,children:(0,Q.jsx)(`div`,{onClick:()=>s(!0),className:`w-full h-full flex items-center justify-center`,children:(0,Q.jsx)(`span`,{className:`${a} font-bold tracking-widest ${n?`text-red-700 dark:text-red-300`:`text-gray-700 dark:text-gray-200`}`,children:l||``})})}),o&&(0,Re.createPortal)((0,Q.jsx)(`div`,{className:`fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4`,onClick:e=>{e.stopPropagation(),s(!1)},children:(0,Q.jsx)(`div`,{onClick:e=>e.stopPropagation(),children:(0,Q.jsx)(Xx,{value:e,onChange:u,onClose:()=>s(!1),recordedDates:r})})}),document.body)]})}),Qx=({name:e,options:t,value:n,onChange:r,color:i=`blue`,customInput:a=!1})=>(0,Q.jsxs)(`div`,{className:`flex flex-wrap gap-3 items-center`,children:[t.map(t=>{let a=typeof t==`object`,o=a?t.value:t,s=a?t.label:t;return(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer select-none hover:text-${i}-800 dark:hover:text-${i}-300 text-gray-700 dark:text-gray-300`,children:[(0,Q.jsx)(`input`,{type:`radio`,name:e,value:o,checked:n===o,onChange:r,onClick:t=>n===o&&r({target:{name:e,value:``}}),className:`text-${i}-600 focus:ring-${i}-500`}),(0,Q.jsx)(`span`,{className:`text-sm`,children:s})]},o)}),a&&n===(typeof t[t.length-1]==`object`?t[t.length-1].value:t[t.length-1])&&a]}),$x=_.memo(({title:e,timeName:t,timeValue:n,transName:r,transValue:i,customName:a,customValue:o,handleChange:s,handleTimeReset:c})=>(0,Q.jsxs)(`div`,{className:`space-y-3 p-3 bg-white dark:bg-gray-800 rounded border border-slate-100 dark:border-slate-700 shadow-sm`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-slate-700 dark:text-slate-300`,children:e}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`span`,{className:`text-sm text-gray-600 dark:text-gray-400 font-bold min-w-[3em]`,children:``}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(Yx,{name:t,value:n,onChange:s}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>c(t),children:(0,Q.jsx)(De,{className:`w-3 h-3 text-gray-400 dark:text-gray-500`})})]})]}),(0,Q.jsx)(`div`,{className:`space-y-1`,children:(0,Q.jsxs)(`div`,{className:`flex items-start gap-2 w-full`,children:[(0,Q.jsx)(`span`,{className:`text-sm text-gray-600 dark:text-gray-400 font-bold min-w-[3em] mt-1.5 shrink-0`,children:``}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-4 sm:flex sm:flex-wrap gap-1.5 sm:gap-2 flex-1 min-w-0`,children:[mx.TRANSPORTATION.map(e=>(0,Q.jsxs)(`label`,{className:`col-span-1 cursor-pointer px-1 sm:px-3 py-1.5 rounded-md text-xs sm:text-sm tracking-tighter sm:tracking-normal border flex items-center justify-center text-center whitespace-nowrap transition-colors ${i?.includes(e)?`bg-gray-200 font-bold text-gray-900 border-gray-300 dark:bg-gray-600 dark:text-white dark:border-gray-500`:`bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600`}`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,className:`hidden`,checked:i?.includes(e)||!1,onChange:()=>{let t=i?i.split(``):[];s({target:{name:r,value:(t.includes(e)?t.filter(t=>t!==e):[...t,e]).join(``)}})}}),e]},`${r}-${e}`)),i?.includes(``)&&(0,Q.jsx)(`div`,{className:`col-span-3 sm:col-span-1 flex items-center px-1 sm:px-0 w-full`,children:(0,Q.jsx)(`input`,{name:a,value:o||``,onChange:s,maxLength:10,className:`border-b border-slate-300 dark:border-slate-700 bg-transparent outline-none w-full sm:w-32 text-xs sm:text-sm dark:text-gray-200`,placeholder:`(10)`})})]})]})})]})),eS=_.memo(({formData:e,handleChange:t,handleTimeReset:n,prefix:r=``,className:i=``,isLocked:a=!1})=>{let o=r?`${r}DepartureTripTime`:`departureTripTime`,s=r?`${r}DepartureTripTransportation`:`departureTripTransportation`,c=r?`${r}DepartureTripTransportationCustom`:`departureTripTransportationCustom`,l=r?`${r}ReturnTripTime`:`returnTripTime`,u=r?`${r}ReturnTripTransportation`:`returnTripTransportation`,d=r?`${r}ReturnTripTransportationCustom`:`returnTripTransportationCustom`,f=i||`bg-slate-50 dark:bg-slate-900/50 border-slate-200 dark:border-slate-800`,[p,m]=(0,_.useState)(!!(e[o]||e[s]||e[c]||e[l]||e[u]||e[d]));return(0,Q.jsxs)(`div`,{className:`p-4 rounded-lg border transition-all duration-300 ${f}`,children:[(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>m(!p),className:`w-full flex items-center justify-between outline-none group`,children:[(0,Q.jsxs)(`label`,{className:`block text-base font-bold text-slate-800 dark:text-slate-300 flex items-center gap-1 cursor-pointer group-hover:opacity-80 transition-opacity`,children:[`  `,(0,Q.jsx)(`span`,{className:`text-sm font-normal text-slate-500`,children:`()`})]}),(0,Q.jsx)(`div`,{className:`text-slate-500 bg-slate-200/50 dark:bg-slate-800/50 p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-transform duration-300 ${p?``:`rotate-180`}`,children:(0,Q.jsx)(le,{className:`w-4 h-4`})})]}),p&&(0,Q.jsxs)(`div`,{className:`grid md:grid-cols-2 gap-4 mt-3 animate-fade-in transition-all duration-300 ${a?`pointer-events-none opacity-70 select-none`:``}`,children:[(0,Q.jsx)($x,{title:``,timeName:o,timeValue:e[o],transName:s,transValue:e[s],customName:c,customValue:e[c],handleChange:t,handleTimeReset:n}),(0,Q.jsx)($x,{title:``,timeName:l,timeValue:e[l],transName:u,transValue:e[u],customName:d,customValue:e[d],handleChange:t,handleTimeReset:n})]})]})}),tS=_.memo(({title:e,mealType:t,formData:n,handleChange:r,handlers:i,referCheckbox:a=null,isFaded:o=!1})=>{let s=`meal${t}Time`,c=`appetite${t}`,l=`water${t}`,u=`meal${t}`;return(0,Q.jsxs)(`div`,{className:`bg-[#f1f6f3] dark:bg-green-950 p-4 rounded-lg border border-green-100 dark:border-green-900 flex flex-col gap-3`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`span`,{className:`text-base font-bold text-green-800 dark:text-green-300`,children:e}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>i.handleMealReset(t),className:`text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`,children:(0,Q.jsx)(De,{className:`w-3 h-3`})}),a]}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-x-6 gap-y-2`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-gray-600 dark:text-gray-400 block`,children:``}),(0,Q.jsx)(Yx,{name:s,value:n[s],onChange:r})]}),(0,Q.jsxs)(`div`,{className:`flex flex-nowrap gap-x-6`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col gap-1 ${o?`opacity-50`:``}`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-gray-600 dark:text-gray-400`,children:``}),(0,Q.jsxs)(`select`,{name:c,value:n[c],onChange:r,className:`border rounded-lg h-[40px] w-full min-w-[80px] bg-white dark:bg-gray-800 dark:border-gray-600`,children:[(0,Q.jsx)(`option`,{value:``,disabled:!0,children:``}),mx.APPETITE.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]})]}),(0,Q.jsxs)(`div`,{className:`flex flex-col gap-1 ${o?`opacity-50`:``}`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-gray-600 dark:text-gray-400`,children:``}),(0,Q.jsxs)(`select`,{name:l,value:n[l],onChange:r,className:`border rounded-lg h-[40px] w-full min-w-[80px] bg-white dark:bg-gray-800 dark:border-gray-600`,children:[(0,Q.jsx)(`option`,{value:``,disabled:!0,children:``}),mx.WATER.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]})]})]})]}),(0,Q.jsx)(`input`,{name:u,value:n[u],onChange:r,autoComplete:`off`,className:`w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 outline-none text-sm focus:border-green-500 transition-colors dark:text-gray-200 ${o?`opacity-50`:``}`,placeholder:`${e}`})]})}),nS=_.memo(({symptoms:e,listOps:t,showToast:n,scrollToElement:r,handlers:i})=>(0,Q.jsxs)(`div`,{id:`symptom-list`,className:`bg-red-50 dark:bg-red-950 p-4 rounded-lg border border-red-100 dark:border-red-900`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-red-800 dark:text-red-300`,children:``}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>t.add(`symptoms`,{time:``,desc:``,isFever:!1,feverTemp:``}),className:`bg-red-200 dark:bg-red-900/50 px-2 py-1 rounded text-xs flex items-center gap-1 text-red-800 dark:text-red-300`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),e.map(e=>(0,Q.jsxs)(`div`,{id:`item-${e.id}`,className:`bg-white dark:bg-gray-800 p-2 rounded border border-red-200 dark:border-red-800/50 mb-2 space-y-2`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-2`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded border dark:border-gray-600`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isPreviousDay||!1,onChange:n=>t.update(`symptoms`,e.id,`isPreviousDay`,n.target.checked),className:`w-3 h-3`}),(0,Q.jsx)(`span`,{className:`text-xs dark:text-gray-300`,children:``})]}),(0,Q.jsx)(Yx,{value:e.time,onChange:n=>t.update(`symptoms`,e.id,`time`,n.target.value)}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer bg-orange-50 dark:bg-orange-950/30 px-2 py-1 rounded border border-orange-200 dark:border-orange-900`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isFever||!1,onChange:n=>{t.update(`symptoms`,e.id,`isFever`,n.target.checked)},className:`w-3 h-3 text-orange-600`}),(0,Q.jsxs)(`span`,{className:`text-xs font-bold text-orange-700 dark:text-orange-400 flex items-center gap-1`,children:[(0,Q.jsx)(Me,{className:`w-3 h-3`}),` `]})]}),e.isFever&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-1 bg-orange-50 dark:bg-orange-950/30 px-1 border border-orange-200 dark:border-orange-900 rounded`,children:[(0,Q.jsx)(`input`,{value:e.feverTemp||``,onChange:n=>t.update(`symptoms`,e.id,`feverTemp`,n.target.value),className:`w-10 bg-transparent text-center text-sm outline-none dark:text-gray-200`,placeholder:``}),(0,Q.jsx)(`span`,{className:`text-xs dark:text-gray-300`,children:`C`})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer bg-red-50 dark:bg-red-950/30 px-2 py-1 rounded border border-red-200 dark:border-red-900`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isFeverMedication||!1,onChange:i=>{if(t.update(`symptoms`,e.id,`isFeverMedication`,i.target.checked),i.target.checked){let i=t.add(`medications`,{time:e.time,name:``,isInternal:!0,source:`symptom-list`,sourceId:e.id,linkedField:`isFeverMedication`});n(``,`success`),setTimeout(()=>r(`item-${i}`),100)}},className:`w-3 h-3 text-red-600`}),(0,Q.jsx)(`span`,{className:`text-xs text-red-700 dark:text-red-400`,children:``})]})]})]}),(0,Q.jsx)(`input`,{value:e.desc||``,onChange:n=>t.update(`symptoms`,e.id,`desc`,n.target.value),className:`w-full border-b border-red-300 dark:border-red-800 outline-none text-sm p-1 min-w-0 bg-transparent dark:text-gray-200`,placeholder:``}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 bg-gray-50 dark:bg-gray-700 p-2 rounded flex-wrap`,children:[(0,Q.jsxs)(`span`,{className:`text-xs font-bold text-red-700 dark:text-red-400 flex items-center gap-1`,children:[(0,Q.jsx)(ne,{className:`w-3 h-3`}),` :`]}),(0,Q.jsx)(Yx,{value:e.observationTime,onChange:n=>t.update(`symptoms`,e.id,`observationTime`,n.target.value),className:`w-[120px] h-[32px]`}),(0,Q.jsx)(`span`,{className:`text-xs font-bold text-gray-700 dark:text-gray-300`,children:`:`}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 dark:text-gray-300`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isImproved||!1,onChange:n=>t.update(`symptoms`,e.id,`isImproved`,n.target.checked),className:`w-3 h-3`}),(0,Q.jsx)(`span`,{className:`text-xs`,children:``})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 dark:text-gray-300`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isNotImproved||!1,onChange:n=>t.update(`symptoms`,e.id,`isNotImproved`,n.target.checked),className:`w-3 h-3`}),(0,Q.jsx)(`span`,{className:`text-xs`,children:``})]}),e.isNotImproved&&(0,Q.jsx)(`input`,{value:e.notImprovedReason||``,onChange:n=>t.update(`symptoms`,e.id,`notImprovedReason`,n.target.value),className:`border-b text-xs w-20 bg-transparent dark:text-gray-200 dark:border-gray-500`,placeholder:``})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-4 mt-2`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isMedicated||!1,onChange:i=>{if(t.update(`symptoms`,e.id,`isMedicated`,i.target.checked),i.target.checked){let i=t.add(`medications`,{time:e.time,name:``,isInternal:!0,source:`symptom-list`,sourceId:e.id,linkedField:`isMedicated`});n(``,`success`),setTimeout(()=>r(`item-${i}`),100)}},className:`w-3 h-3 text-green-600`}),(0,Q.jsx)(`span`,{className:`text-xs text-green-600 dark:text-green-400`,children:``})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isDoctorVisited||!1,onChange:i=>{if(t.update(`symptoms`,e.id,`isDoctorVisited`,i.target.checked),i.target.checked){let i=t.add(`medicalLocations`,{time:e.time,reason:e.desc,source:`symptom-list`,sourceId:e.id,linkedField:`isDoctorVisited`});n(``,`success`),setTimeout(()=>r(`item-${i}`),100)}},className:`w-3 h-3 text-blue-600`}),(0,Q.jsx)(`span`,{className:`text-xs text-blue-600 dark:text-blue-400`,children:``})]}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>{e.source===`bowel-list`&&(n(``,`info`),r(`bowel-list`)),t.remove(`symptoms`,e.id)},className:`ml-auto text-red-500 dark:text-red-400`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})})]})]},`item-${e.id}`))]})),rS=_.memo(({injuryRecords:e,listOps:t,showToast:n,scrollToElement:r,handlers:i})=>(0,Q.jsxs)(`div`,{className:`bg-red-50 dark:bg-red-950 p-4 rounded-lg border border-red-100 dark:border-red-900`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-red-800 dark:text-red-300`,children:``}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>t.add(`injuryRecords`,{time:``,location:``,part:``,cause:``}),className:`bg-red-200 dark:bg-red-900/50 px-2 py-1 rounded text-xs flex items-center gap-1 text-red-800 dark:text-red-300`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),e.map(e=>(0,Q.jsxs)(`div`,{id:`item-${e.id}`,className:`bg-white dark:bg-gray-800 p-2 rounded border border-red-200 dark:border-red-800/50 mb-2 flex flex-col gap-2`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-2 w-full`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded border dark:border-gray-600`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isPreviousDay||!1,onChange:n=>t.update(`injuryRecords`,e.id,`isPreviousDay`,n.target.checked),className:`w-3 h-3`}),(0,Q.jsx)(`span`,{className:`text-xs dark:text-gray-300`,children:``})]}),(0,Q.jsx)(`div`,{className:`flex-1`,children:(0,Q.jsx)(Yx,{value:e.time,onChange:n=>t.update(`injuryRecords`,e.id,`time`,n.target.value)})})]}),(0,Q.jsx)(`input`,{value:e.location||``,onChange:n=>t.update(`injuryRecords`,e.id,`location`,n.target.value),placeholder:``,className:`w-full p-1 text-sm border-b border-red-300 dark:border-red-800 outline-none bg-transparent dark:text-gray-200`}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{value:e.part||``,onChange:n=>t.update(`injuryRecords`,e.id,`part`,n.target.value),placeholder:``,className:`flex-1 p-1 text-sm border-b border-red-300 dark:border-red-800 outline-none bg-transparent min-w-0 dark:text-gray-200`}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer whitespace-nowrap select-none shrink-0 dark:text-gray-300`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:(e.part||``).includes(``),onChange:n=>{let r=n.target.checked,i=e.part||``;i=r?i?`${i} ()`:``:i.replace(/ ?\(?\)?/g,``).trim(),t.update(`injuryRecords`,e.id,`part`,i)},className:`w-3 h-3 text-red-600 rounded focus:ring-red-500 border-gray-300`}),(0,Q.jsx)(`span`,{className:`text-xs text-gray-500 dark:text-gray-400`,children:``})]})]}),(0,Q.jsx)(`input`,{value:e.cause||``,onChange:n=>t.update(`injuryRecords`,e.id,`cause`,n.target.value),placeholder:``,className:`w-full p-1 text-sm border-b border-red-300 dark:border-red-800 outline-none bg-transparent dark:text-gray-200`}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 bg-gray-50 dark:bg-gray-700 p-2 rounded whitespace-nowrap overflow-x-auto no-scrollbar`,children:[(0,Q.jsx)(`span`,{className:`text-xs font-bold text-red-700 dark:text-red-400 shrink-0`,children:`:`}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded shrink-0`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isMedicated||!1,onChange:i=>{if(t.update(`injuryRecords`,e.id,`isMedicated`,i.target.checked),i.target.checked){let i=t.add(`medications`,{time:e.time,name:``,isExternal:!0,source:`injury-list`,sourceId:e.id,linkedField:`isMedicated`});n(``,`success`),setTimeout(()=>r(`item-${i}`),100)}},className:`w-3 h-3`}),(0,Q.jsx)(`span`,{className:`text-xs text-green-600 dark:text-green-400`,children:``})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded shrink-0`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isDoctorVisited||!1,onChange:i=>{if(t.update(`injuryRecords`,e.id,`isDoctorVisited`,i.target.checked),i.target.checked){let i=t.add(`medicalLocations`,{time:e.time,reason:`: ${e.part||``}`,source:`injury-list`,sourceId:e.id,linkedField:`isDoctorVisited`});n(``,`success`),setTimeout(()=>r(`item-${i}`),100)}},className:`w-3 h-3`}),(0,Q.jsx)(`span`,{className:`text-xs text-blue-600 dark:text-blue-400`,children:``})]}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>t.remove(`injuryRecords`,e.id),className:`ml-auto text-red-500 dark:text-red-400 shrink-0`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})})]})]},`item-${e.id}`))]})),iS=_.memo(({medications:e,listOps:t,scrollToElement:n,handlers:r})=>{let i=(0,_.useCallback)(t=>{let i=e.find(e=>e.id===t);i&&i.sourceId?n(`item-${i.sourceId}`):i&&i.source&&n(i.source),r.deleteLinkedRecord(`medications`,t)},[e,r,n]);return(0,Q.jsxs)(`div`,{id:`medication-list`,className:`bg-red-50 dark:bg-red-950 p-4 rounded-lg border border-red-100 dark:border-red-900 scroll-mt-28`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-red-800 dark:text-red-300`,children:``}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>t.add(`medications`,{time:``,name:``,isInternal:!0}),className:`bg-red-200 dark:bg-red-900/50 px-2 py-1 rounded text-xs flex items-center gap-1 text-red-800 dark:text-red-300`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),e.map(e=>(0,Q.jsxs)(`div`,{id:`item-${e.id}`,className:`bg-white dark:bg-gray-800 p-2 rounded border border-red-200 dark:border-red-800/50 mb-2 space-y-2`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-2`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded border dark:border-gray-600`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isPreviousDay||!1,onChange:n=>t.update(`medications`,e.id,`isPreviousDay`,n.target.checked),className:`w-3 h-3`}),(0,Q.jsx)(`span`,{className:`text-xs dark:text-gray-300`,children:``})]}),(0,Q.jsx)(Yx,{value:e.time,onChange:n=>t.update(`medications`,e.id,`time`,n.target.value)}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 dark:text-gray-300`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isInternal||!1,onChange:n=>t.update(`medications`,e.id,`isInternal`,n.target.checked),className:`w-3 h-3`}),(0,Q.jsx)(`span`,{className:`text-xs`,children:``})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 dark:text-gray-300`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isExternal||!1,onChange:n=>t.update(`medications`,e.id,`isExternal`,n.target.checked),className:`w-3 h-3`}),(0,Q.jsx)(`span`,{className:`text-xs`,children:``})]}),(0,Q.jsx)(`input`,{value:e.name||``,onChange:n=>t.update(`medications`,e.id,`name`,n.target.value),placeholder:``,className:`flex-1 border-b text-sm min-w-[100px] bg-transparent dark:text-gray-200 dark:border-gray-500`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 bg-gray-50 dark:bg-gray-700 p-2 rounded flex-wrap relative`,children:[(0,Q.jsxs)(`span`,{className:`text-xs font-bold text-red-700 dark:text-red-400 flex items-center gap-1`,children:[(0,Q.jsx)(ne,{className:`w-3 h-3`}),` :`]}),(0,Q.jsx)(Yx,{value:e.observationTime,onChange:n=>t.update(`medications`,e.id,`observationTime`,n.target.value),className:`w-[120px] h-[32px]`}),(0,Q.jsx)(`span`,{className:`text-xs font-bold text-gray-700 dark:text-gray-300`,children:`:`}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 dark:text-gray-300`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isImproved||!1,onChange:n=>t.update(`medications`,e.id,`isImproved`,n.target.checked),className:`w-3 h-3`}),(0,Q.jsx)(`span`,{className:`text-xs`,children:``})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 dark:text-gray-300`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isNotImproved||!1,onChange:n=>t.update(`medications`,e.id,`isNotImproved`,n.target.checked),className:`w-3 h-3`}),(0,Q.jsx)(`span`,{className:`text-xs`,children:``})]}),e.isNotImproved&&(0,Q.jsx)(`input`,{value:e.notImprovedReason||``,onChange:n=>t.update(`medications`,e.id,`notImprovedReason`,n.target.value),className:`border-b text-xs w-20 bg-transparent dark:text-gray-200 dark:border-gray-500`,placeholder:``}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>i(e.id),className:`text-red-500 dark:text-red-400 p-1 hover:bg-red-50 dark:hover:bg-red-900/30 rounded ml-auto`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})})]})]},e.id))]})}),aS=_.memo(({medicalLocations:e,listOps:t,scrollToElement:n,handlers:r})=>{let i=(0,_.useCallback)(t=>{let i=e.find(e=>e.id===t);i&&i.sourceId?n(`item-${i.sourceId}`):i&&i.source&&n(i.source),r.deleteLinkedRecord(`medicalLocations`,t)},[e,r,n]);return(0,Q.jsxs)(`div`,{id:`medical-location-list`,className:`bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border border-blue-100 dark:border-blue-900 scroll-mt-28`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-blue-800 dark:text-blue-300`,children:``}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>t.add(`medicalLocations`,{time:``,desc:``,reason:``,isFollowUp:!1,followUpDate:``,followUpNumber:``}),className:`bg-blue-200 dark:bg-blue-900/50 px-2 py-1 rounded text-xs flex items-center gap-1 text-blue-800 dark:text-blue-300`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),e.map(e=>(0,Q.jsxs)(`div`,{id:`item-${e.id}`,className:`bg-white dark:bg-gray-800 p-3 rounded-lg border border-blue-200 dark:border-blue-900 mb-3 space-y-3 shadow-sm relative`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(Yx,{value:e.time,onChange:n=>t.update(`medicalLocations`,e.id,`time`,n.target.value),className:`w-[130px] h-[40px] shrink-0`}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>i(e.id),className:`text-red-500 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 p-2 rounded shrink-0`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})})]}),(0,Q.jsx)(`input`,{value:e.desc||``,onChange:n=>t.update(`medicalLocations`,e.id,`desc`,n.target.value),placeholder:`/`,className:`w-full p-1 text-sm border-b border-blue-300 dark:border-blue-700 outline-none bg-transparent dark:text-gray-200`}),(0,Q.jsxs)(`div`,{className:`w-full flex items-center gap-2`,children:[(0,Q.jsx)(`label`,{className:`text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap min-w-fit`,children:``}),(0,Q.jsx)(`input`,{value:e.reason||``,onChange:n=>t.update(`medicalLocations`,e.id,`reason`,n.target.value),placeholder:``,className:`w-full p-1 border-b border-blue-300 dark:border-blue-700 outline-none bg-transparent text-sm dark:text-gray-200`})]}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap gap-2 mt-2 items-center w-full min-w-0`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center justify-center gap-1.5 cursor-pointer select-none border rounded px-2 h-[36px] transition-colors whitespace-nowrap text-xs font-bold ${e.isVaccine?`bg-blue-50 border-blue-400 text-blue-700 hover:bg-blue-100 dark:bg-blue-900/50 dark:border-blue-500 dark:text-blue-300`:`bg-white border-gray-200 text-gray-500 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700`}`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,className:`hidden`,checked:e.isVaccine||!1,onChange:n=>t.update(`medicalLocations`,e.id,`isVaccine`,n.target.checked)}),(0,Q.jsx)(`span`,{children:``})]}),(0,Q.jsxs)(`label`,{className:`flex items-center justify-center gap-1.5 cursor-pointer select-none border rounded px-2 h-[36px] transition-colors whitespace-nowrap text-xs font-bold ${e.isInjection?`bg-blue-50 border-blue-400 text-blue-700 hover:bg-blue-100 dark:bg-blue-900 dark:border-blue-500 dark:text-blue-300`:`bg-white border-gray-200 text-gray-500 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700`}`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,className:`hidden`,checked:e.isInjection||!1,onChange:n=>t.update(`medicalLocations`,e.id,`isInjection`,n.target.checked)}),(0,Q.jsx)(`span`,{children:``})]}),(0,Q.jsxs)(`label`,{className:`flex items-center justify-center gap-1.5 cursor-pointer select-none border rounded px-2 h-[36px] transition-colors whitespace-nowrap text-xs font-bold ${e.isIV?`bg-blue-50 border-blue-400 text-blue-700 hover:bg-blue-100 dark:bg-blue-900 dark:border-blue-500 dark:text-blue-300`:`bg-white border-gray-200 text-gray-500 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700`}`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,className:`hidden`,checked:e.isIV||!1,onChange:n=>t.update(`medicalLocations`,e.id,`isIV`,n.target.checked)}),(0,Q.jsx)(`span`,{children:``})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 flex-1 min-w-[100px] max-w-full`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center justify-center gap-1.5 cursor-pointer select-none border rounded px-2 h-[36px] transition-colors whitespace-nowrap text-xs font-bold shrink-0 ${e.isOtherTreatment?`bg-blue-50 border-blue-400 text-blue-700 hover:bg-blue-100 dark:bg-blue-900 dark:border-blue-500 dark:text-blue-300`:`bg-white border-gray-200 text-gray-500 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700`}`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,className:`hidden`,checked:e.isOtherTreatment||!1,onChange:n=>t.update(`medicalLocations`,e.id,`isOtherTreatment`,n.target.checked)}),(0,Q.jsx)(`span`,{children:``})]}),e.isOtherTreatment&&(0,Q.jsx)(`input`,{value:e.otherTreatmentDesc||``,onChange:n=>t.update(`medicalLocations`,e.id,`otherTreatmentDesc`,n.target.value),placeholder:``,className:`flex-1 p-1 text-xs border-b border-blue-300 dark:border-blue-700 outline-none bg-transparent dark:text-gray-200 w-full min-w-0`})]})]}),e.isVaccine&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 mt-2 w-full sm:w-auto`,children:[(0,Q.jsx)(`span`,{className:`text-xs font-bold text-blue-700 dark:text-blue-400 whitespace-nowrap min-w-fit`,children:`:`}),(0,Q.jsx)(`input`,{value:e.vaccineName||``,onChange:n=>t.update(`medicalLocations`,e.id,`vaccineName`,n.target.value),placeholder:``,className:`flex-1 p-1 text-xs border-b border-blue-300 dark:border-blue-700 outline-none bg-transparent dark:text-gray-200 min-w-0`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`label`,{className:`text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap min-w-[3em]`,children:``}),(0,Q.jsxs)(`div`,{className:`relative w-32`,children:[(0,Q.jsx)(`input`,{value:e.cost||``,onChange:n=>t.update(`medicalLocations`,e.id,`cost`,n.target.value),placeholder:``,className:`w-full p-2 pl-7 pr-8 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:border-blue-400 outline-none h-[40px] dark:text-gray-200 text-right`}),(0,Q.jsx)(`span`,{className:`absolute left-2 top-2.5 text-gray-400 dark:text-gray-500`,children:(0,Q.jsx)(he,{className:`w-4 h-4`})}),(0,Q.jsx)(`span`,{className:`absolute right-2 top-2.5 text-gray-500 dark:text-gray-400 text-sm`,children:``})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`label`,{className:`text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap min-w-[3em]`,children:``}),(0,Q.jsx)(`input`,{value:e.doctorNote||``,onChange:n=>t.update(`medicalLocations`,e.id,`doctorNote`,n.target.value),placeholder:``,className:`w-full p-1 border-b border-blue-300 dark:border-blue-700 outline-none bg-transparent text-sm dark:text-gray-200`})]}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap sm:flex-nowrap items-center gap-2 mt-1`,children:[(0,Q.jsx)(`label`,{className:`text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap min-w-[3em]`,children:``}),(0,Q.jsxs)(`div`,{className:`flex bg-gray-100 dark:bg-gray-700 rounded p-0.5 shrink-0`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>t.update(`medicalLocations`,e.id,`isFollowUp`,!1),className:`px-2 py-1 text-xs rounded transition-all ${e.isFollowUp?`text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600`:`bg-white dark:bg-gray-600 shadow text-gray-700 dark:text-gray-200 font-bold`}`,children:``}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>t.update(`medicalLocations`,e.id,`isFollowUp`,!0),className:`px-2 py-1 text-xs rounded transition-all ${e.isFollowUp?`bg-white dark:bg-gray-600 shadow text-blue-600 dark:text-blue-400 font-bold`:`text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:``})]}),e.isFollowUp&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 flex-1 min-w-[150px] animate-fade-in`,children:[(0,Q.jsx)(Zx,{value:e.followUpDate,onChange:n=>t.update(`medicalLocations`,e.id,`followUpDate`,n.target.value),className:`rounded h-[32px] w-[120px] shrink-0`,textClass:`text-xs`}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1 shrink-0 ml-1`,children:[(0,Q.jsx)(`span`,{className:`text-xs font-bold text-gray-500 dark:text-gray-400`,children:``}),(0,Q.jsx)(`input`,{value:e.followUpNumber||``,onChange:n=>t.update(`medicalLocations`,e.id,`followUpNumber`,n.target.value),className:`w-12 p-1 text-xs border-b border-blue-300 dark:border-blue-700 outline-none bg-transparent dark:text-gray-200 text-center`})]})]})]})]},e.id))]})}),oS=_.memo(({records:e,listOps:t})=>(0,Q.jsxs)(`div`,{className:`bg-green-50 dark:bg-green-950 p-4 rounded-lg border border-green-100 dark:border-green-900`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-green-800 dark:text-green-300`,children:``}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>t.add(`healthCheckRecords`,{time:``,checkLocation:``,height:``,weight:``}),className:`bg-green-200 dark:bg-green-900/50 px-2 py-1 rounded text-xs flex items-center gap-1 text-green-800 dark:text-green-300`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),e.length===0&&(0,Q.jsx)(`div`,{className:`text-gray-400 dark:text-gray-500 text-sm text-left pl-2 py-2 italic`,children:``}),e.map(e=>(0,Q.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 p-3 rounded-lg border border-green-200 dark:border-green-800/50 mb-3 space-y-3 shadow-sm relative`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(Yx,{value:e.time,onChange:n=>t.update(`healthCheckRecords`,e.id,`time`,n.target.value),className:`w-[130px] h-[40px] shrink-0 focus-within:ring-green-300`}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>t.remove(`healthCheckRecords`,e.id),className:`text-red-500 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 p-2 rounded shrink-0`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})})]}),(0,Q.jsx)(`div`,{className:`flex items-center gap-2 w-full`,children:(0,Q.jsx)(`input`,{value:e.checkLocation||``,onChange:n=>t.update(`healthCheckRecords`,e.id,`checkLocation`,n.target.value),placeholder:`/`,className:`w-full p-1 text-sm border-b border-green-300 dark:border-green-700 outline-none bg-transparent dark:text-gray-200`})}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap sm:flex-nowrap gap-4`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`label`,{className:`text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap min-w-[3em]`,children:``}),(0,Q.jsxs)(`div`,{className:`relative w-24`,children:[(0,Q.jsx)(`input`,{value:e.height||``,onChange:n=>t.update(`healthCheckRecords`,e.id,`height`,n.target.value),className:`w-full p-2 pr-11 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:border-green-400 outline-none h-[40px] text-right dark:text-gray-200`}),(0,Q.jsx)(`span`,{className:`absolute right-2 top-2.5 text-gray-500 dark:text-gray-400 text-sm`,children:``})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`label`,{className:`text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap min-w-[3em]`,children:``}),(0,Q.jsxs)(`div`,{className:`relative w-24`,children:[(0,Q.jsx)(`input`,{value:e.weight||``,onChange:n=>t.update(`healthCheckRecords`,e.id,`weight`,n.target.value),className:`w-full p-2 pr-11 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:border-green-400 outline-none h-[40px] text-right dark:text-gray-200`}),(0,Q.jsx)(`span`,{className:`absolute right-2 top-2.5 text-gray-500 dark:text-gray-400 text-sm`,children:``})]})]})]}),(0,Q.jsxs)(`div`,{className:`flex flex-col gap-2 pt-2`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center justify-center gap-1.5 cursor-pointer select-none border rounded px-2 h-[36px] transition-colors whitespace-nowrap text-xs font-bold w-fit ${e.isVaccine?`bg-green-50 border-green-200 text-green-700 hover:bg-green-100 dark:bg-green-900/50 dark:border-green-500 dark:text-green-300`:`bg-white border-gray-200 text-gray-500 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700`}`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,className:`hidden`,checked:e.isVaccine||!1,onChange:n=>t.update(`healthCheckRecords`,e.id,`isVaccine`,n.target.checked)}),(0,Q.jsx)(`span`,{children:``})]}),e.isVaccine&&(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 w-full`,children:[(0,Q.jsx)(`label`,{className:`text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap`,children:``}),(0,Q.jsx)(`input`,{value:e.vaccineName||``,onChange:n=>t.update(`healthCheckRecords`,e.id,`vaccineName`,n.target.value),placeholder:``,className:`w-full p-1 text-xs border-b border-green-300 dark:border-green-700 outline-none bg-transparent dark:text-gray-200`})]})]}),(0,Q.jsx)(`div`,{className:`border-t border-gray-200 dark:border-gray-700 my-1`}),(0,Q.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-4`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 flex-1`,children:[(0,Q.jsx)(`label`,{className:`text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap min-w-[3em]`,children:``}),(0,Q.jsxs)(`div`,{className:`flex bg-gray-100 dark:bg-gray-700 rounded p-0.5 shrink-0`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>t.update(`healthCheckRecords`,e.id,`leftEyeStatus`,e.leftEyeStatus===`normal`?``:`normal`),className:`px-2 py-1 text-xs rounded transition-all ${e.leftEyeStatus===`normal`?`bg-white dark:bg-gray-600 shadow text-green-600 dark:text-green-400 font-bold`:`text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:``}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>t.update(`healthCheckRecords`,e.id,`leftEyeStatus`,e.leftEyeStatus===`abnormal`?``:`abnormal`),className:`px-2 py-1 text-xs rounded transition-all ${e.leftEyeStatus===`abnormal`?`bg-white dark:bg-gray-600 shadow text-red-500 dark:text-red-400 font-bold`:`text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:``})]}),e.leftEyeStatus===`abnormal`&&(0,Q.jsx)(`input`,{value:e.leftEyeAbnormalReason||``,onChange:n=>t.update(`healthCheckRecords`,e.id,`leftEyeAbnormalReason`,n.target.value),placeholder:``,className:`flex-1 min-w-0 p-1 text-xs border-b border-green-300 dark:border-green-700 outline-none bg-transparent dark:text-gray-200`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 flex-1`,children:[(0,Q.jsx)(`label`,{className:`text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap min-w-[3em]`,children:``}),(0,Q.jsxs)(`div`,{className:`flex bg-gray-100 dark:bg-gray-700 rounded p-0.5 shrink-0`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>t.update(`healthCheckRecords`,e.id,`rightEyeStatus`,e.rightEyeStatus===`normal`?``:`normal`),className:`px-2 py-1 text-xs rounded transition-all ${e.rightEyeStatus===`normal`?`bg-white dark:bg-gray-600 shadow text-green-600 dark:text-green-400 font-bold`:`text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:``}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>t.update(`healthCheckRecords`,e.id,`rightEyeStatus`,e.rightEyeStatus===`abnormal`?``:`abnormal`),className:`px-2 py-1 text-xs rounded transition-all ${e.rightEyeStatus===`abnormal`?`bg-white dark:bg-gray-600 shadow text-red-500 dark:text-red-400 font-bold`:`text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:``})]}),e.rightEyeStatus===`abnormal`&&(0,Q.jsx)(`input`,{value:e.rightEyeAbnormalReason||``,onChange:n=>t.update(`healthCheckRecords`,e.id,`rightEyeAbnormalReason`,n.target.value),placeholder:``,className:`flex-1 min-w-0 p-1 text-xs border-b border-green-300 dark:border-green-700 outline-none bg-transparent dark:text-gray-200`})]})]}),(0,Q.jsx)(`div`,{className:`border-t border-gray-200 dark:border-gray-700 my-1`}),(0,Q.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`label`,{className:`text-xs font-bold text-green-700 dark:text-green-400 whitespace-nowrap min-w-[3em]`,children:``}),(0,Q.jsxs)(`div`,{className:`flex bg-gray-100 dark:bg-gray-700 rounded p-0.5 shrink-0`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>t.update(`healthCheckRecords`,e.id,`oralStatus`,e.oralStatus===`normal`?``:`normal`),className:`px-2 py-1 text-xs rounded transition-all ${e.oralStatus===`normal`?`bg-white dark:bg-gray-600 shadow text-green-600 dark:text-green-400 font-bold`:`text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:``}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>t.update(`healthCheckRecords`,e.id,`oralStatus`,e.oralStatus===`abnormal`?``:`abnormal`),className:`px-2 py-1 text-xs rounded transition-all ${e.oralStatus===`abnormal`?`bg-white dark:bg-gray-600 shadow text-red-500 dark:text-red-400 font-bold`:`text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:``})]}),e.oralStatus===`abnormal`&&(0,Q.jsx)(`input`,{value:e.oralAbnormalReason||``,onChange:n=>t.update(`healthCheckRecords`,e.id,`oralAbnormalReason`,n.target.value),placeholder:``,className:`flex-1 min-w-0 p-1 text-xs border-b border-green-300 dark:border-green-700 outline-none bg-transparent dark:text-gray-200`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 pl-[3em]`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer select-none whitespace-nowrap shrink-0`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isOralCare||!1,onChange:n=>t.update(`healthCheckRecords`,e.id,`isOralCare`,n.target.checked),className:`w-3 h-3 text-green-600 rounded focus:ring-green-500 border-gray-300`}),(0,Q.jsx)(`span`,{className:`text-xs text-green-700 dark:text-green-400`,children:``})]}),e.isOralCare&&(0,Q.jsx)(`input`,{value:e.oralCareItem||``,onChange:n=>t.update(`healthCheckRecords`,e.id,`oralCareItem`,n.target.value),placeholder:``,className:`flex-1 min-w-0 p-1 text-xs border-b border-green-300 dark:border-green-700 outline-none bg-transparent dark:text-gray-200`})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`label`,{className:`text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap min-w-[3em]`,children:``}),(0,Q.jsxs)(`div`,{className:`relative w-32`,children:[(0,Q.jsx)(`input`,{value:e.cost||``,onChange:n=>t.update(`healthCheckRecords`,e.id,`cost`,n.target.value),placeholder:``,className:`w-full p-2 pl-7 pr-8 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:border-green-400 outline-none h-[40px] dark:text-gray-200 text-right`}),(0,Q.jsx)(`span`,{className:`absolute left-2 top-2.5 text-gray-400 dark:text-gray-500`,children:(0,Q.jsx)(he,{className:`w-4 h-4`})}),(0,Q.jsx)(`span`,{className:`absolute right-2 top-2.5 text-gray-500 dark:text-gray-400 text-sm`,children:``})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`label`,{className:`text-xs font-bold text-gray-500 dark:text-gray-400 whitespace-nowrap min-w-[3em]`,children:``}),(0,Q.jsx)(`input`,{value:e.doctorNote||``,onChange:n=>t.update(`healthCheckRecords`,e.id,`doctorNote`,n.target.value),placeholder:``,className:`w-full p-1 border-b border-green-300 dark:border-green-700 outline-none bg-transparent text-sm dark:text-gray-200`})]})]},e.id))]})),sS=_.memo(({formData:e,handleChange:t,dateInfo:n,handleJumpToToday:r,handleAutoWeather:i,handleTimeReset:a,listOps:o,onScrollTop:s,handlers:c,isLocked:l,recordedDates:u})=>{let d=n=>{let r=e.weather?e.weather.split(``):[];t({target:{name:`weather`,value:(r.includes(n)?r.filter(e=>e!==n):[...r,n]).join(``)}})},[f,p]=Bx(`basic`,e.date,!0,!0);return(0,Q.jsxs)(`section`,{id:`basic`,className:`scroll-mt-28`,children:[(0,Q.jsx)(Jx,{id:`basic`,title:``,icon:ae,colorClass:`text-gray-600`,bgClass:`bg-gray-50`,onScrollTop:s,isExpanded:f,onToggle:p}),f&&(0,Q.jsxs)(`div`,{className:`mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in`,children:[(0,Q.jsxs)(`div`,{className:`bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 flex flex-col gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 mb-2`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-bold text-gray-700 dark:text-gray-300`,children:``}),(0,Q.jsx)(`button`,{type:`button`,onClick:r,className:`text-[10px] bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded border dark:border-gray-600 dark:text-gray-300`,children:``})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 flex-wrap`,children:[(0,Q.jsx)(Zx,{value:e.date,onChange:e=>t({target:{name:`date`,value:e.target.value}}),isHoliday:n.isHoliday,recordedDates:u}),(0,Q.jsx)(`span`,{className:`font-bold text-sm px-2 py-1 rounded border ${n.isHoliday?`text-red-600 bg-red-100 border-red-200 dark:bg-red-900/30 dark:border-red-800 dark:text-red-400`:n.isMakeUp?`text-gray-600 bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300`:`text-blue-600 bg-blue-100 border-blue-200 dark:bg-blue-900/30 dark:border-blue-800 dark:text-blue-400`}`,children:n.dayLabel}),n.holidayName&&(0,Q.jsx)(`span`,{className:`font-bold text-sm px-2 py-1 rounded border text-red-600 bg-red-100 border-red-200 dark:bg-red-900/30 dark:border-red-800 dark:text-red-400`,children:n.holidayName}),n.isMakeUp&&(0,Q.jsx)(`span`,{className:`font-bold text-sm px-2 py-1 rounded border text-gray-600 bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300`,children:``}),n.familyName&&(0,Q.jsx)(`span`,{className:`font-bold text-sm px-2 py-1 rounded border text-purple-600 bg-purple-100 border-purple-200 dark:bg-purple-900/30 dark:border-purple-800 dark:text-purple-400`,children:n.familyName})]})]}),(0,Q.jsxs)(`div`,{className:`transition-all duration-300 ${l?`pointer-events-none opacity-70 select-none`:``}`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-bold mb-1 text-gray-700 dark:text-gray-300`,children:``}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(Yx,{name:`time`,value:e.time,onChange:t}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>a(`time`),children:(0,Q.jsx)(De,{className:`w-3 h-3 text-gray-400 dark:text-gray-500`})})]})]})]}),(0,Q.jsxs)(`div`,{className:`bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 flex flex-col gap-4 transition-all duration-300 ${l?`pointer-events-none opacity-70 select-none`:``}`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-bold text-gray-700 dark:text-gray-300 shrink-0`,children:``}),e.weatherLocation&&(0,Q.jsxs)(`span`,{className:`text-gray-500 dark:text-gray-400 text-xs font-medium`,children:[`(`,e.weatherLocation,`)`]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>i(e.weatherSearchQuery),className:`text-xs bg-gray-200 dark:bg-gray-700 px-2 py-1.5 rounded border dark:border-gray-600 flex items-center gap-1 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors shrink-0`,children:[(0,Q.jsx)(de,{className:`w-3 h-3`}),``]}),(0,Q.jsx)(`input`,{name:`weatherSearchQuery`,value:e.weatherSearchQuery||``,onChange:t,placeholder:``,className:`border border-gray-300 dark:border-gray-600 rounded px-2 py-1 text-xs w-[100px] bg-white dark:bg-gray-700 dark:text-gray-200 outline-none focus:border-blue-400`})]})]}),(0,Q.jsxs)(`div`,{className:`flex flex-col gap-3`,children:[(0,Q.jsx)(`div`,{className:`flex gap-2 overflow-x-auto pb-1`,children:mx.WEATHER.map(t=>(0,Q.jsxs)(`label`,{className:`shrink-0 cursor-pointer px-3 py-1.5 rounded-md text-sm border ${e.weather?.includes(t)?`bg-gray-200 font-bold text-gray-900 border-gray-300 dark:bg-gray-600 dark:text-white dark:border-gray-500`:`bg-white dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600`}`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,className:`hidden`,checked:e.weather?.includes(t),onChange:()=>d(t)}),t]},t))}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 flex-wrap`,children:[(0,Q.jsx)(`span`,{className:`text-sm text-gray-600 dark:text-gray-400 font-medium flex items-center gap-1`,children:``}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1 bg-white dark:bg-gray-700 p-1 rounded-lg border dark:border-gray-600 h-[40px]`,children:[(0,Q.jsx)(`input`,{name:`weatherTempMin`,value:e.weatherTempMin,onChange:t,className:`w-14 text-center text-sm outline-none bg-transparent h-full dark:text-gray-200`,placeholder:``}),(0,Q.jsx)(`span`,{children:`~`}),(0,Q.jsx)(`input`,{name:`weatherTempMax`,value:e.weatherTempMax,onChange:t,className:`w-14 text-center text-sm outline-none bg-transparent h-full dark:text-gray-200`,placeholder:``}),(0,Q.jsx)(`span`,{className:`text-xs pr-2 dark:text-gray-400`,children:`C`})]})]})]})]}),(0,Q.jsxs)(`div`,{className:`md:col-span-2 bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 flex flex-col gap-4 transition-all duration-300 ${l?`pointer-events-none opacity-70 select-none`:``}`,children:[(0,Q.jsxs)(`div`,{className:`space-y-2`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-bold text-gray-700 dark:text-gray-300`,children:``}),(0,Q.jsx)(Qx,{name:`handoverSituation`,options:mx.HANDOVER,value:e.handoverSituation,onChange:t,color:`gray`,customInput:(0,Q.jsx)(`input`,{name:`handoverSituationCustom`,value:e.handoverSituationCustom,onChange:t,className:`border-b border-gray-300 dark:border-gray-600 bg-transparent outline-none w-48 text-sm dark:text-gray-200`,placeholder:``})})]}),(0,Q.jsxs)(`div`,{className:`space-y-2`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-bold text-gray-700 dark:text-gray-300`,children:``}),(0,Q.jsx)(Qx,{name:`location`,options:mx.LOCATIONS,value:e.location,onChange:t,color:`gray`,customInput:(0,Q.jsx)(`input`,{name:`locationCustom`,value:e.locationCustom,onChange:t,className:`border-b border-gray-300 dark:border-gray-600 bg-transparent outline-none w-48 text-sm dark:text-gray-200`,placeholder:``})})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-sm font-bold mb-2 text-gray-700 dark:text-gray-300`,children:``}),(0,Q.jsx)(`input`,{name:`handoverItems`,value:e.handoverItems,onChange:t,className:`w-full p-1 border-b border-gray-300 dark:border-gray-600 bg-transparent outline-none text-sm dark:text-gray-200`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`div`,{className:`flex gap-4 items-center`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-bold text-gray-700 dark:text-gray-300`,children:``}),(0,Q.jsx)(Qx,{name:`isOvernight`,options:mx.IS_OVERNIGHT,value:e.isOvernight,onChange:t,color:`gray`})]}),e.isOvernight===``&&(0,Q.jsxs)(`div`,{className:`mt-3`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2`,children:``}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-2`,children:[(0,Q.jsx)(Zx,{value:e.overnightStartDate,onChange:e=>t({target:{name:`overnightStartDate`,value:e.target.value}}),recordedDates:u}),(0,Q.jsx)(`span`,{className:`text-gray-400 dark:text-gray-500`,children:`~`}),(0,Q.jsx)(Zx,{value:e.overnightEndDate,onChange:e=>t({target:{name:`overnightEndDate`,value:e.target.value}}),recordedDates:u})]})]})]})]}),(0,Q.jsx)(eS,{formData:e,handleChange:t,handleTimeReset:a,prefix:``,className:`md:col-span-2 bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700`,isLocked:l}),(0,Q.jsxs)(`div`,{className:`md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200 dark:border-gray-700 dark:bg-gray-800 transition-all duration-300 ${l?`pointer-events-none opacity-70 select-none`:``}`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,Q.jsx)(`label`,{className:`font-bold text-gray-700 dark:text-gray-300 flex items-center gap-1`,children:` `}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>o.add(`childArrivalRecordsBasic`,{time:``,location:``,locationCustom:``}),className:`text-xs flex items-center gap-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded border dark:border-gray-600`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),(0,Q.jsxs)(`div`,{className:`space-y-3`,children:[e.childArrivalRecordsBasic.length===0&&(0,Q.jsx)(`div`,{className:`text-gray-400 dark:text-gray-500 text-sm text-left pl-2 py-2 italic`,children:``}),e.childArrivalRecordsBasic.map(e=>(0,Q.jsxs)(`div`,{className:`relative bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>o.remove(`childArrivalRecordsBasic`,e.id),className:`absolute bottom-2 right-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 p-1.5 rounded-full z-10`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-2 pr-8`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-gray-700 dark:text-gray-300 whitespace-nowrap`,children:``}),(0,Q.jsx)(Yx,{value:e.time,onChange:t=>o.update(`childArrivalRecordsBasic`,e.id,`time`,t.target.value),className:`shrink-0 w-[130px]`}),(0,Q.jsx)(`span`,{className:`text-sm font-bold text-gray-700 dark:text-gray-300 whitespace-nowrap`,children:``}),(0,Q.jsx)(`div`,{className:`flex flex-wrap gap-2 items-center flex-1 w-full sm:w-auto mt-1 sm:mt-0`,children:mx.LOCATIONS.map(t=>(0,Q.jsxs)(_.Fragment,{children:[(0,Q.jsxs)(`label`,{className:`flex gap-1 items-center cursor-pointer dark:text-gray-300 whitespace-nowrap`,children:[(0,Q.jsx)(`input`,{type:`radio`,checked:e.location===t,onChange:()=>o.update(`childArrivalRecordsBasic`,e.id,`location`,t),onClick:n=>{e.location===t&&(o.update(`childArrivalRecordsBasic`,e.id,`location`,``),n.target.checked=!1)},className:`text-gray-600 focus:ring-gray-500`}),(0,Q.jsx)(`span`,{className:`text-xs`,children:t})]}),t===``&&e.location===``&&(0,Q.jsx)(`input`,{value:e.locationCustom||``,onChange:t=>o.update(`childArrivalRecordsBasic`,e.id,`locationCustom`,t.target.value),placeholder:``,className:`flex-1 min-w-[80px] p-1 text-sm border-b border-gray-300 dark:border-gray-600 outline-none bg-transparent dark:text-gray-200`})]},t))})]})]},e.id))]})]})]})]})}),cS=_.memo(({formData:e,handleChange:t,handleTimeReset:n,listOps:r,onScrollTop:i,isLocked:a})=>{let o=!!(e.schoolLeaveType||e.schoolNotes||e.schoolArrivalTime||e.schoolDepartureTime||e.childArrivalRecordsSchool?.length>0||e.schoolDepartureTripTime||e.schoolReturnTripTime||e.schoolDepartureTripTransportation||e.schoolReturnTripTransportation),[s,c]=Bx(`school`,e.date,o);return(0,Q.jsxs)(`section`,{id:`school`,className:`scroll-mt-28 pt-4 border-t-2 border-gray-500`,children:[(0,Q.jsx)(Jx,{id:`school`,title:``,icon:ke,colorClass:`text-indigo-600`,bgClass:`bg-indigo-50`,onScrollTop:i,isExpanded:s,onToggle:c}),s&&(0,Q.jsxs)(`div`,{className:`mt-4 space-y-4 animate-fade-in transition-all duration-300 ${a?`pointer-events-none opacity-70 select-none`:``}`,children:[(0,Q.jsxs)(`div`,{className:`bg-indigo-50 dark:bg-indigo-950 p-4 rounded-lg border border-indigo-100 dark:border-indigo-900 space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block font-bold text-indigo-900 dark:text-indigo-300 mb-2`,children:``}),(0,Q.jsx)(Qx,{name:`schoolLeaveType`,options:mx.LEAVE_TYPES,value:e.schoolLeaveType,onChange:t,color:`indigo`,customInput:(0,Q.jsx)(`input`,{name:`schoolLeaveOther`,value:e.schoolLeaveOther,onChange:t,className:`border-b border-indigo-300 dark:border-indigo-700 bg-transparent outline-none w-28 text-sm dark:text-gray-200`,placeholder:``})}),e.schoolLeaveType===``&&(0,Q.jsx)(`input`,{name:`schoolLeavePersonalDesc`,value:e.schoolLeavePersonalDesc,onChange:t,className:`ml-2 border-b border-indigo-300 dark:border-indigo-700 bg-transparent outline-none w-28 text-sm dark:text-gray-200`,placeholder:``}),e.schoolLeaveType===``&&(0,Q.jsx)(`input`,{name:`schoolLeaveSickDesc`,value:e.schoolLeaveSickDesc,onChange:t,className:`ml-2 border-b border-indigo-300 dark:border-indigo-700 bg-transparent outline-none w-28 text-sm dark:text-gray-200`,placeholder:``}),e.schoolLeaveType===``&&(0,Q.jsx)(`input`,{name:`schoolLeaveHalfDayDesc`,value:e.schoolLeaveHalfDayDesc,onChange:t,className:`ml-2 border-b border-indigo-300 dark:border-indigo-700 bg-transparent outline-none w-28 text-sm dark:text-gray-200`,placeholder:``})]}),(0,Q.jsx)(`div`,{className:`border-t border-indigo-200 dark:border-indigo-800`}),(0,Q.jsxs)(`div`,{className:`grid md:grid-cols-2 gap-6 relative`,children:[(0,Q.jsxs)(`div`,{className:`space-y-3`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-indigo-900 dark:text-indigo-300`,children:``}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(Yx,{name:`schoolArrivalTime`,value:e.schoolArrivalTime,onChange:t}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>n(`schoolArrivalTime`),children:(0,Q.jsx)(De,{className:`w-3 h-3 text-gray-400 dark:text-gray-500`})})]})]}),(0,Q.jsx)(Qx,{name:`schoolArrivalCompanion`,options:mx.COMPANIONS,value:e.schoolArrivalCompanion,onChange:t,color:`indigo`})]}),(0,Q.jsx)(`div`,{className:`hidden md:block absolute left-1/2 top-0 bottom-0 w-px bg-indigo-200 dark:bg-indigo-800`}),(0,Q.jsxs)(`div`,{className:`space-y-3`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-indigo-900 dark:text-indigo-300`,children:``}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(Yx,{name:`schoolDepartureTime`,value:e.schoolDepartureTime,onChange:t}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>n(`schoolDepartureTime`),children:(0,Q.jsx)(De,{className:`w-3 h-3 text-gray-400 dark:text-gray-500`})})]})]}),(0,Q.jsx)(Qx,{name:`schoolDepartureCompanion`,options:mx.COMPANIONS,value:e.schoolDepartureCompanion,onChange:t,color:`indigo`})]})]}),(0,Q.jsx)(`div`,{className:`border-t border-indigo-200 dark:border-indigo-800`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block font-bold text-indigo-900 dark:text-indigo-300 mb-2`,children:``}),(0,Q.jsx)(`input`,{name:`schoolNotes`,value:e.schoolNotes,onChange:t,className:`w-full p-1 border-b border-indigo-300 dark:border-indigo-700 bg-transparent outline-none text-sm placeholder-gray-400 dark:text-gray-200`,placeholder:``})]})]}),(0,Q.jsx)(eS,{formData:e,handleChange:t,handleTimeReset:n,prefix:`school`,className:`bg-indigo-50 dark:bg-indigo-950 border-indigo-100 dark:border-indigo-900`,isLocked:a}),(0,Q.jsxs)(`div`,{className:`bg-indigo-50 dark:bg-indigo-950 p-4 rounded-lg border border-indigo-100 dark:border-indigo-900`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,Q.jsx)(`label`,{className:`font-bold text-indigo-900 dark:text-indigo-300 flex items-center gap-1`,children:` `}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>r.add(`childArrivalRecordsSchool`,{time:``,location:``,locationCustom:``}),className:`text-xs flex items-center gap-1 bg-indigo-200 dark:bg-indigo-900/50 text-indigo-800 dark:text-indigo-300 px-2 py-1 rounded`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),(0,Q.jsx)(`div`,{className:`space-y-3`,children:e.childArrivalRecordsSchool.map(e=>(0,Q.jsxs)(`div`,{className:`relative bg-white dark:bg-gray-800 p-2 rounded border border-blue-200 dark:border-blue-800/50`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>r.remove(`childArrivalRecordsSchool`,e.id),className:`absolute bottom-2 right-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 p-1.5 rounded-full z-10`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-2 pr-8`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-blue-900 dark:text-blue-300 whitespace-nowrap`,children:``}),(0,Q.jsx)(Yx,{value:e.time,onChange:t=>r.update(`childArrivalRecordsSchool`,e.id,`time`,t.target.value),className:`shrink-0 w-[130px]`}),(0,Q.jsx)(`span`,{className:`text-sm font-bold text-blue-900 dark:text-blue-300 whitespace-nowrap`,children:``}),(0,Q.jsx)(`div`,{className:`flex flex-wrap gap-2 items-center flex-1 w-full sm:w-auto mt-1 sm:mt-0`,children:mx.LOCATIONS.map(t=>(0,Q.jsxs)(_.Fragment,{children:[(0,Q.jsxs)(`label`,{className:`flex gap-1 items-center cursor-pointer dark:text-gray-300 whitespace-nowrap`,children:[(0,Q.jsx)(`input`,{type:`radio`,checked:e.location===t,onChange:()=>r.update(`childArrivalRecordsSchool`,e.id,`location`,t),onClick:n=>{e.location===t&&(r.update(`childArrivalRecordsSchool`,e.id,`location`,``),n.target.checked=!1)},className:`text-blue-600`}),(0,Q.jsx)(`span`,{className:`text-xs`,children:t})]}),t===``&&e.location===``&&(0,Q.jsx)(`input`,{value:e.locationCustom||``,onChange:t=>r.update(`childArrivalRecordsSchool`,e.id,`locationCustom`,t.target.value),placeholder:``,className:`flex-1 min-w-[80px] p-1 text-sm border-b border-blue-300 dark:border-blue-700 outline-none bg-transparent dark:text-gray-200`})]},t))})]})]},e.id))})]})]})]})}),lS=_.memo(({formData:e,handleChange:t,handleTimeReset:n,listOps:r,onScrollTop:i,isLocked:a})=>{let o=Array.isArray(e.activityRecords)&&e.activityRecords.some(e=>e.type===``),s=!!(e.activityRecords?.length>0||e.childArrivalRecordsActivity?.length>0||e.activityDepartureTripTime||e.activityDepartureTripTransportation||e.activityReturnTripTime||e.activityReturnTripTransportation),[c,l]=Bx(`activity`,e.date,s);return(0,Q.jsxs)(`section`,{id:`activity`,className:`scroll-mt-28 pt-4 border-t-2 border-gray-500`,children:[(0,Q.jsx)(Jx,{id:`activity`,title:``,icon:Ee,colorClass:`text-fuchsia-600`,bgClass:`bg-fuchsia-50`,onScrollTop:i,isExpanded:c,onToggle:l}),c&&(0,Q.jsxs)(`div`,{className:`mt-4 space-y-4 animate-fade-in transition-all duration-300 ${a?`pointer-events-none opacity-70 select-none`:``}`,children:[(0,Q.jsxs)(`div`,{className:`bg-fuchsia-50 dark:bg-fuchsia-950 p-4 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-fuchsia-800 dark:text-fuchsia-200`,children:``}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>r.add(`activityRecords`,{time:vx(),location:``,type:``,content:``}),className:`bg-fuchsia-200 dark:bg-fuchsia-900/50 px-2 py-1 rounded text-xs flex items-center gap-1 text-fuchsia-900 dark:text-fuchsia-200`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),(e.activityRecords||[]).map(e=>(0,Q.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 p-3 rounded-lg border border-fuchsia-200 dark:border-fuchsia-900/50 mb-3 space-y-3 shadow-sm`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsx)(Yx,{value:e.time,onChange:t=>r.update(`activityRecords`,e.id,`time`,t.target.value),className:`w-[130px] flex items-center border border-gray-300 rounded-lg bg-white overflow-hidden h-[40px] focus-within:ring-2 focus-within:ring-fuchsia-300`}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>r.remove(`activityRecords`,e.id),className:`text-red-500 hover:bg-red-50 p-2 rounded shrink-0`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})})]}),(0,Q.jsx)(`input`,{value:e.location||``,onChange:t=>r.update(`activityRecords`,e.id,`location`,t.target.value),placeholder:``,className:`w-full p-1 text-sm border-b border-fuchsia-300 dark:border-fuchsia-700 outline-none bg-transparent dark:text-gray-200`}),(0,Q.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,Q.jsx)(`div`,{className:`flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1 h-[40px] shrink-0 self-start`,children:mx.ACTIVITY_TYPES.map(t=>(0,Q.jsx)(`button`,{type:`button`,onClick:()=>r.update(`activityRecords`,e.id,`type`,t),className:`px-3 text-xs rounded-md transition-all h-full ${e.type===t?`bg-white dark:bg-gray-600 shadow text-fuchsia-600 dark:text-fuchsia-300 font-bold`:`text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:t},t))}),(0,Q.jsx)(`input`,{value:e.content||``,onChange:t=>r.update(`activityRecords`,e.id,`content`,t.target.value),placeholder:``,className:`w-full p-2 border border-gray-200 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 focus:border-fuchsia-400 outline-none h-[40px] min-w-0 dark:text-gray-200`})]})]},e.id))]}),o&&(0,Q.jsxs)(`div`,{className:`space-y-4 animate-fade-in`,children:[(0,Q.jsx)(eS,{formData:e,handleChange:t,handleTimeReset:n,prefix:`activity`,className:`bg-fuchsia-50 dark:bg-fuchsia-950 border-fuchsia-100 dark:border-fuchsia-900`,isLocked:a}),(0,Q.jsxs)(`div`,{className:`bg-fuchsia-50 dark:bg-fuchsia-950 p-4 rounded-lg border border-fuchsia-100 dark:border-fuchsia-900`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,Q.jsx)(`label`,{className:`font-bold text-fuchsia-900 dark:text-fuchsia-200 flex items-center gap-1`,children:` `}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>r.add(`childArrivalRecordsActivity`,{time:``,location:``,locationCustom:``}),className:`text-xs flex items-center gap-1 bg-fuchsia-200 dark:bg-fuchsia-900/50 text-fuchsia-800 dark:text-fuchsia-300 px-2 py-1 rounded`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),(0,Q.jsxs)(`div`,{className:`space-y-3`,children:[(e.childArrivalRecordsActivity||[]).length===0&&(0,Q.jsx)(`div`,{className:`text-gray-400 dark:text-gray-500 text-sm text-left pl-2 py-2 italic`,children:``}),(e.childArrivalRecordsActivity||[]).map(e=>(0,Q.jsxs)(`div`,{className:`relative bg-white dark:bg-gray-800 p-2 rounded border border-fuchsia-200 dark:border-fuchsia-800/50`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>r.remove(`childArrivalRecordsActivity`,e.id),className:`absolute bottom-2 right-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 p-1.5 rounded-full z-10`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-2 pr-8`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-fuchsia-900 dark:text-fuchsia-300 whitespace-nowrap`,children:``}),(0,Q.jsx)(Yx,{value:e.time,onChange:t=>r.update(`childArrivalRecordsActivity`,e.id,`time`,t.target.value),className:`shrink-0 w-[130px] focus-within:ring-fuchsia-300`}),(0,Q.jsx)(`span`,{className:`text-sm font-bold text-fuchsia-900 dark:text-fuchsia-300 whitespace-nowrap`,children:``}),(0,Q.jsx)(`div`,{className:`flex flex-wrap gap-2 items-center flex-1 w-full sm:w-auto mt-1 sm:mt-0`,children:mx.LOCATIONS.map(t=>(0,Q.jsxs)(_.Fragment,{children:[(0,Q.jsxs)(`label`,{className:`flex gap-1 items-center cursor-pointer dark:text-gray-300 whitespace-nowrap`,children:[(0,Q.jsx)(`input`,{type:`radio`,checked:e.location===t,onChange:()=>r.update(`childArrivalRecordsActivity`,e.id,`location`,t),onClick:n=>{e.location===t&&(r.update(`childArrivalRecordsActivity`,e.id,`location`,``),n.target.checked=!1)},className:`text-fuchsia-600 focus:ring-fuchsia-500`}),(0,Q.jsx)(`span`,{className:`text-xs`,children:t})]}),t===``&&e.location===``&&(0,Q.jsx)(`input`,{value:e.locationCustom||``,onChange:t=>r.update(`childArrivalRecordsActivity`,e.id,`locationCustom`,t.target.value),placeholder:``,className:`flex-1 min-w-[80px] p-1 text-sm border-b border-fuchsia-300 dark:border-fuchsia-700 outline-none bg-transparent dark:text-gray-200`})]},t))})]})]},e.id))]})]})]})]})]})}),uS=_.memo(({formData:e,handleChange:t,listOps:n,onScrollTop:r,handlers:i,isLocked:a})=>{let o=!!(e.mealBreakfast||e.mealLunch||e.mealDinner||e.snackRecords?.length>0||e.lunchReferToSchool||e.snackReferToSchool||e.appetiteBreakfast||e.waterBreakfast||e.appetiteLunch||e.waterLunch||e.appetiteDinner||e.waterDinner),[s,c]=Bx(`food`,e.date,o);return(0,Q.jsxs)(`section`,{id:`food`,className:`scroll-mt-28 pt-4 border-t-2 border-gray-500`,children:[(0,Q.jsx)(Jx,{id:`food`,title:``,icon:Fe,colorClass:`text-green-600`,bgClass:`bg-green-50`,onScrollTop:r,isExpanded:s,onToggle:c}),s&&(0,Q.jsxs)(`div`,{className:`mt-4 space-y-4 animate-fade-in transition-all duration-300 ${a?`pointer-events-none opacity-70 select-none`:``}`,children:[(0,Q.jsx)(tS,{title:``,mealType:`Breakfast`,formData:e,handleChange:t,handlers:i}),(0,Q.jsx)(tS,{title:``,mealType:`Lunch`,formData:e,handleChange:t,handlers:i,isFaded:e.lunchReferToSchool,referCheckbox:(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,name:`lunchReferToSchool`,checked:e.lunchReferToSchool,onChange:t,className:`w-3 h-3 text-green-600`}),(0,Q.jsx)(`span`,{className:`text-xs text-blue-600 dark:text-blue-400`,children:``})]})}),(0,Q.jsx)(tS,{title:``,mealType:`Dinner`,formData:e,handleChange:t,handlers:i}),(0,Q.jsxs)(`div`,{className:`bg-[#f1f6f3] dark:bg-green-950 p-4 rounded-lg border border-green-100 dark:border-green-900`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`span`,{className:`text-base font-bold text-green-800 dark:text-green-300`,children:``}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,name:`snackReferToSchool`,checked:e.snackReferToSchool,onChange:t,className:`w-3 h-3 text-green-600`}),(0,Q.jsx)(`span`,{className:`text-xs text-blue-600 dark:text-blue-400`,children:``})]})]}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>n.add(`snackRecords`,{time:``,content:``,appetite:``,water:``}),className:`bg-green-200 dark:bg-green-900/50 px-2 py-1 rounded text-xs flex items-center gap-1 text-green-800 dark:text-green-300`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),e.snackRecords.map(e=>(0,Q.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 p-4 rounded-lg border border-green-200 dark:border-green-800/50 mb-3 flex flex-col gap-3 relative shadow-sm`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>n.resetFields(`snackRecords`,e.id,[`time`,`content`,`appetite`,`water`]),className:`absolute top-3 right-10 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1.5 rounded-full transition-colors`,children:(0,Q.jsx)(De,{className:`w-4 h-4`})}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>n.remove(`snackRecords`,e.id),className:`absolute top-3 right-3 text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 p-1.5 rounded-full transition-colors`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-x-6 gap-y-2 pr-16`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-gray-600 dark:text-gray-400 block`,children:``}),(0,Q.jsx)(Yx,{value:e.time,onChange:t=>n.update(`snackRecords`,e.id,`time`,t.target.value)})]}),(0,Q.jsxs)(`div`,{className:`flex flex-nowrap gap-x-6`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-gray-600 dark:text-gray-400`,children:``}),(0,Q.jsxs)(`select`,{value:e.appetite||``,onChange:t=>n.update(`snackRecords`,e.id,`appetite`,t.target.value),className:`border rounded-lg h-[40px] w-full min-w-[80px] bg-white dark:bg-gray-800 dark:border-gray-600`,children:[(0,Q.jsx)(`option`,{value:``,disabled:!0,children:``}),mx.APPETITE.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]})]}),(0,Q.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-gray-600 dark:text-gray-400`,children:``}),(0,Q.jsxs)(`select`,{value:e.water||``,onChange:t=>n.update(`snackRecords`,e.id,`water`,t.target.value),className:`border rounded-lg h-[40px] w-full min-w-[80px] bg-white dark:bg-gray-800 dark:border-gray-600`,children:[(0,Q.jsx)(`option`,{value:``,disabled:!0,children:``}),mx.WATER.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]})]})]})]}),(0,Q.jsx)(`input`,{value:e.content||``,onChange:t=>n.update(`snackRecords`,e.id,`content`,t.target.value),autoComplete:`off`,className:`w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 outline-none text-sm focus:border-green-500 transition-colors dark:text-gray-200`,placeholder:``})]},e.id))]})]})]})}),dS=_.memo(({formData:e,handleChange:t,handleTimeReset:n,listOps:r,showToast:i,scrollToElement:a,onScrollTop:o,handlers:s,isLocked:c})=>{let l=!!(e.sleepLastNight||e.sleepWakeUp||e.sleepBedtime||e.sleepAwakeRecords?.length>0||e.napRecords?.length>0||e.breastfeedingTimes?.length>0||e.sleepActualTime||e.sleepActualReason||e.isWakeUpBreastfeeding||e.isBedtimeBreastfeeding||e.napReferToSchool),[u,d]=Bx(`sleep`,e.date,l);return(0,Q.jsxs)(`section`,{id:`sleep`,className:`scroll-mt-28 pt-4 border-t-2 border-gray-500`,children:[(0,Q.jsx)(Jx,{id:`sleep`,title:``,icon:we,colorClass:`text-purple-600`,bgClass:`bg-purple-50`,onScrollTop:o,isExpanded:u,onToggle:d}),u&&(0,Q.jsxs)(`div`,{className:`mt-4 grid md:grid-cols-2 gap-4 animate-fade-in transition-all duration-300 ${c?`pointer-events-none opacity-70 select-none`:``}`,children:[(0,Q.jsxs)(`div`,{className:`md:col-span-2 bg-purple-50 dark:bg-purple-950 p-4 rounded-lg border border-purple-100 dark:border-purple-900 flex flex-col gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`span`,{className:`font-bold text-purple-800 dark:text-purple-200 block mb-1`,children:``}),(0,Q.jsxs)(`div`,{className:`flex gap-1`,children:[(0,Q.jsx)(Yx,{name:`sleepLastNight`,value:e.sleepLastNight,onChange:t}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>n(`sleepLastNight`),children:(0,Q.jsx)(De,{className:`w-3 h-3 text-gray-400 dark:text-gray-500`})})]})]}),(0,Q.jsx)(`div`,{className:`border-t border-purple-200 dark:border-purple-800`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-purple-800 dark:text-purple-200`,children:``}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>r.add(`sleepAwakeRecords`,{time:``,asleepTime:``,reason:``,isBreastfeeding:!1}),className:`bg-purple-200 dark:bg-purple-900/50 px-2 py-1 rounded text-xs flex items-center gap-1 text-purple-800 dark:text-purple-200`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),e.sleepAwakeRecords.length===0&&(0,Q.jsx)(`div`,{className:`text-gray-400 dark:text-gray-500 text-sm text-left pl-2 py-2 italic`,children:``}),e.sleepAwakeRecords.map(e=>(0,Q.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-2 items-start sm:items-center bg-white dark:bg-gray-800 p-2 rounded border border-purple-200 dark:border-purple-800/50 mb-2`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-wrap gap-2 items-center min-w-0`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(`span`,{className:`text-sm dark:text-gray-300`,children:``}),(0,Q.jsx)(Yx,{value:e.time,onChange:t=>r.update(`sleepAwakeRecords`,e.id,`time`,t.target.value)})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(`span`,{className:`text-sm dark:text-gray-300`,children:``}),(0,Q.jsx)(Yx,{value:e.asleepTime,onChange:t=>r.update(`sleepAwakeRecords`,e.id,`asleepTime`,t.target.value)})]})]}),(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-2 w-full sm:w-auto sm:flex-1`,children:[(0,Q.jsx)(`input`,{value:e.reason||``,onChange:t=>r.update(`sleepAwakeRecords`,e.id,`reason`,t.target.value),className:`flex-1 border-b text-sm outline-none min-w-[100px] bg-transparent dark:text-gray-200 dark:border-gray-600`,placeholder:``}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer whitespace-nowrap`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isBreastfeeding||!1,onChange:t=>{s.toggleAwakeBreastfeeding(e.id,t.target.checked,e.time||vx()),t.target.checked?(i(``,`success`),a(`breastfeeding-list`)):i(``,`info`)},className:`w-3 h-3 text-pink-500`}),(0,Q.jsx)(`span`,{className:`text-xs text-pink-600 dark:text-pink-300`,children:``})]}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>r.remove(`sleepAwakeRecords`,e.id),className:`text-red-400 dark:text-red-300 flex-shrink-0`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})})]})]},e.id))]})]}),(0,Q.jsxs)(`div`,{className:`md:col-span-2 bg-yellow-50 dark:bg-yellow-950 p-4 rounded-lg border border-yellow-100 dark:border-yellow-900 flex flex-col gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`div`,{className:`flex gap-4 mb-1`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-yellow-800 dark:text-yellow-200`,children:``}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,name:`isWakeUpBreastfeeding`,checked:e.isWakeUpBreastfeeding,onChange:t=>{s.toggleWakeUpBreastfeeding(t.target.checked,e.sleepWakeUp),t.target.checked?(i(``,`success`),a(`breastfeeding-list`)):i(``,`info`)},className:`w-3 h-3 text-pink-500`}),(0,Q.jsx)(`span`,{className:`text-xs text-pink-600 dark:text-pink-300`,children:``})]})]}),(0,Q.jsx)(Yx,{name:`sleepWakeUp`,value:e.sleepWakeUp,onChange:t})]}),(0,Q.jsx)(`div`,{className:`border-t border-yellow-200 dark:border-yellow-800`}),(0,Q.jsxs)(`div`,{id:`nap-list`,className:`scroll-mt-32`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-row items-center justify-between gap-2 mb-2`,children:[(0,Q.jsx)(`div`,{className:`flex items-center gap-3`,children:(0,Q.jsx)(`span`,{className:`font-bold text-yellow-800 dark:text-yellow-200`,children:``})}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>r.add(`napRecords`,{startTime:``,endTime:``,isNotAsleep:!1,isBreastfeeding:!1,reason:``}),className:`bg-yellow-200 dark:bg-yellow-900/50 px-2 py-1 rounded text-xs flex items-center gap-1 text-yellow-900 dark:text-yellow-200 shrink-0`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),e.napRecords.map(e=>(0,Q.jsxs)(`div`,{className:`relative bg-white dark:bg-gray-800 p-2 rounded border border-yellow-200 dark:border-yellow-900/50 mb-2 flex flex-col gap-2`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>{e.source===`breastfeeding-list`&&a(`breastfeeding-list`),r.remove(`napRecords`,e.id)},className:`absolute top-2 right-2 text-red-400 dark:text-red-300 z-10`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 flex-wrap pr-8`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`span`,{className:`text-sm text-gray-500 dark:text-gray-400`,children:``}),(0,Q.jsx)(Yx,{value:e.startTime,onChange:t=>r.update(`napRecords`,e.id,`startTime`,t.target.value)})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`span`,{className:`text-sm text-gray-500 dark:text-gray-400`,children:``}),(0,Q.jsx)(Yx,{value:e.endTime,onChange:t=>r.update(`napRecords`,e.id,`endTime`,t.target.value)})]})]}),(0,Q.jsx)(`div`,{className:`flex items-center justify-between w-full flex-wrap gap-2`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 flex-wrap`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isBreastfeeding||!1,onChange:t=>{s.toggleNapBreastfeeding(e.id,t.target.checked,e.startTime||vx(),e.isNap),t.target.checked?(i(``,`success`),a(`breastfeeding-list`)):i(``,`info`)},className:`w-3 h-3 text-pink-500`}),(0,Q.jsx)(`span`,{className:`text-xs text-pink-600 dark:text-pink-300`,children:``})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isNap||!1,onChange:t=>{s.toggleNapIsNap(e.id,t.target.checked),e.isBreastfeeding&&i(t.target.checked?``:``,`info`)},className:`w-3 h-3 text-yellow-600`}),(0,Q.jsx)(`span`,{className:`text-xs text-yellow-600 dark:text-yellow-400`,children:``})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isNotAsleep||!1,onChange:t=>r.update(`napRecords`,e.id,`isNotAsleep`,t.target.checked),className:`w-3 h-3`}),(0,Q.jsx)(`span`,{className:`text-xs text-gray-500 dark:text-gray-400`,children:``})]}),e.isNotAsleep&&(0,Q.jsx)(`input`,{value:e.reason||``,onChange:t=>r.update(`napRecords`,e.id,`reason`,t.target.value),className:`w-24 border-b text-xs outline-none bg-transparent dark:text-gray-200 dark:border-gray-500 min-w-[60px]`,placeholder:``})]})})]},e.id))]})]}),(0,Q.jsx)(`div`,{className:`md:col-span-2 bg-purple-50 dark:bg-purple-950 p-4 rounded-lg border border-purple-100 dark:border-purple-900 flex flex-col gap-4 min-w-0`,children:(0,Q.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-6`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`div`,{className:`flex gap-4 mb-1`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-purple-800 dark:text-purple-200`,children:``}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,name:`isBedtimeBreastfeeding`,checked:e.isBedtimeBreastfeeding,onChange:t=>{s.toggleBedtimeBreastfeeding(t.target.checked,e.sleepBedtime),t.target.checked?(i(``,`success`),a(`breastfeeding-list`)):i(``,`info`)},className:`w-3 h-3 text-pink-500`}),(0,Q.jsx)(`span`,{className:`text-xs text-pink-600 dark:text-pink-300`,children:``})]})]}),(0,Q.jsx)(Yx,{name:`sleepBedtime`,value:e.sleepBedtime,onChange:t})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`span`,{className:`font-bold text-purple-800 dark:text-purple-200 block mb-1`,children:``}),(0,Q.jsxs)(`div`,{className:`flex gap-2 flex-wrap`,children:[(0,Q.jsx)(Yx,{name:`sleepActualTime`,value:e.sleepActualTime,onChange:t}),(0,Q.jsx)(`input`,{name:`sleepActualReason`,value:e.sleepActualReason,onChange:t,className:`border-b border-purple-300 dark:border-purple-700 bg-transparent outline-none w-24 text-sm dark:text-gray-200 min-w-[100px]`,placeholder:``})]})]})]})}),(0,Q.jsxs)(`div`,{id:`breastfeeding-list`,className:`md:col-span-2 bg-pink-50 dark:bg-pink-950 p-4 rounded-lg border border-pink-100 dark:border-pink-900`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-pink-600 dark:text-pink-300`,children:``}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>r.add(`breastfeedingTimes`,{time:vx(),isNap:!1}),className:`bg-pink-200 dark:bg-pink-900/50 px-2 py-1 rounded text-xs flex items-center gap-1 text-pink-900 dark:text-pink-200`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),(0,Q.jsx)(`div`,{className:`flex flex-wrap gap-3`,children:e.breastfeedingTimes.map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center bg-white dark:bg-gray-800 rounded-full px-3 py-1.5 shadow-sm border border-pink-200 dark:border-pink-900/50`,children:[(0,Q.jsx)(Yx,{value:e.time,onChange:t=>r.update(`breastfeedingTimes`,e.id,`time`,t.target.value),className:`border-none w-[120px] text-sm`}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer ml-2`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:e.isNap||!1,onChange:t=>{s.toggleBreastfeedingNap(e.id,t.target.checked,e.time),e.source===`nap-list`?i(t.target.checked?``:``,`info`):t.target.checked?(i(``,`success`),a(`nap-list`)):i(``,`info`)},className:`w-3 h-3 text-pink-500`}),(0,Q.jsx)(`span`,{className:`text-xs text-pink-600 dark:text-pink-300`,children:``})]}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>{e.source===`nap-list`&&a(`nap-list`),r.remove(`breastfeedingTimes`,e.id)},className:`ml-2 text-pink-400 dark:text-pink-300`,children:(0,Q.jsx)(Le,{className:`w-3 h-3`})})]},e.id))})]})]})]})}),fS=_.memo(({formData:e,handleChange:t,listOps:n,showToast:r,scrollToElement:i,onScrollTop:a,handlers:o,isLocked:s})=>{let c=!!(e.bowelMovements?.length>0||e.emotionRecords?.length>0||e.bowelReferToSchool||e.isNoBowelMovement),[l,u]=Bx(`physiology`,e.date,c);return(0,Q.jsxs)(`section`,{id:`physiology`,className:`scroll-mt-28 pt-4 border-t-2 border-gray-500`,children:[(0,Q.jsx)(Jx,{id:`physiology`,title:``,icon:Ae,colorClass:`text-amber-600`,bgClass:`bg-amber-50`,onScrollTop:a,isExpanded:l,onToggle:u}),l&&(0,Q.jsxs)(`div`,{className:`mt-4 space-y-4 animate-fade-in transition-all duration-300 ${s?`pointer-events-none opacity-70 select-none`:``}`,children:[(0,Q.jsxs)(`div`,{id:`bowel-list`,className:`bg-orange-50 dark:bg-orange-950 p-4 rounded-lg border border-orange-100 dark:border-orange-900`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col gap-2 mb-2`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center w-full`,children:[(0,Q.jsxs)(`span`,{className:`font-bold text-orange-800 dark:text-orange-200 flex items-center gap-1`,children:[(0,Q.jsx)(`span`,{className:`text-xl`,children:``}),``]}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>n.add(`bowelMovements`,{time:``,type:``}),className:`bg-orange-200 dark:bg-orange-900/50 px-2 py-1 rounded text-xs flex items-center gap-1 text-orange-900 dark:text-orange-200`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),(0,Q.jsx)(`div`,{className:`w-full text-left`,children:(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,name:`bowelReferToSchool`,checked:e.bowelReferToSchool,onChange:t,className:`w-3 h-3 text-orange-600`}),(0,Q.jsx)(`span`,{className:`text-xs text-blue-600 dark:text-blue-300`,children:``})]})}),(0,Q.jsx)(`div`,{className:`w-full text-left`,children:(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,name:`isNoBowelMovement`,checked:e.isNoBowelMovement,onChange:t,className:`w-3 h-3 text-red-600`}),(0,Q.jsx)(`span`,{className:`text-xs text-red-500 dark:text-red-400`,children:``})]})})]}),(0,Q.jsx)(`div`,{className:`grid grid-cols-1 gap-2`,children:e.bowelMovements.map(e=>(0,Q.jsxs)(`div`,{className:`flex flex-col sm:flex-row items-start sm:items-center gap-2 bg-white dark:bg-gray-800 p-2 rounded border border-orange-200 dark:border-orange-900/50`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 w-full sm:w-auto`,children:[(0,Q.jsx)(Yx,{value:e.time,onChange:t=>n.update(`bowelMovements`,e.id,`time`,t.target.value),className:`w-[130px] shrink-0 flex items-center border border-gray-300 rounded-lg bg-white overflow-hidden h-[40px] focus-within:ring-2 focus-within:ring-orange-300`}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>n.remove(`bowelMovements`,e.id),className:`text-red-500 dark:text-red-400 sm:hidden ml-auto`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})})]}),(0,Q.jsx)(`div`,{className:`grid grid-cols-[90px_1fr] sm:flex sm:flex-wrap gap-x-1 gap-y-3 sm:gap-3 items-center flex-1 py-1 w-full min-w-0`,children:mx.BOWEL_TYPES.map(t=>(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer select-none hover:text-orange-800 dark:hover:text-orange-300 text-gray-700 dark:text-gray-300 min-w-0`,children:[(0,Q.jsx)(`input`,{type:`radio`,name:`bowel-${e.id}`,value:t,checked:e.type===t,onChange:()=>{let n=e.type;o.updateBowelType(e.id,t),t===`/`?(r(`/`,`success`),i(`symptom-list`)):n===`/`&&t!==`/`&&r(``,`info`)},className:`text-orange-600 focus:ring-orange-500 shrink-0`}),(0,Q.jsx)(`span`,{className:`text-[13px] sm:text-sm tracking-tight sm:tracking-normal leading-tight`,children:t})]},t))}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>n.remove(`bowelMovements`,e.id),className:`text-red-500 dark:text-red-400 hidden sm:block ml-auto shrink-0`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})})]},e.id))})]}),(0,Q.jsxs)(`div`,{className:`bg-amber-50 dark:bg-amber-950 p-4 rounded-lg border border-amber-100 dark:border-amber-900`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center mb-2`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-amber-800 dark:text-amber-200`,children:``}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>n.add(`emotionRecords`,{time:vx(),mood:``,note:``}),className:`bg-amber-200 dark:bg-amber-900/50 px-2 py-1 rounded text-xs flex items-center gap-1 text-amber-900 dark:text-amber-200`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),e.emotionRecords.length===0&&(0,Q.jsx)(`div`,{className:`text-gray-400 dark:text-gray-500 text-sm text-left pl-2 py-2 italic`,children:``}),e.emotionRecords.map(e=>(0,Q.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-2 items-start bg-white dark:bg-gray-800 p-2 rounded border border-amber-200 dark:border-amber-900/50 mb-2`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-wrap items-center gap-2`,children:[(0,Q.jsx)(Yx,{value:e.time,onChange:t=>n.update(`emotionRecords`,e.id,`time`,t.target.value),className:`w-[130px] h-[40px] shrink-0`}),(0,Q.jsx)(`select`,{value:e.mood,onChange:t=>n.update(`emotionRecords`,e.id,`mood`,t.target.value),className:`p-2 border rounded-lg text-sm bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 w-[130px] h-[40px]`,children:mx.MOODS.map(e=>(0,Q.jsx)(`option`,{value:e.value,children:e.label},e.value))})]}),(0,Q.jsxs)(`div`,{className:`flex flex-1 items-center gap-2 w-full min-w-0`,children:[(0,Q.jsx)(`input`,{value:e.note||``,onChange:t=>n.update(`emotionRecords`,e.id,`note`,t.target.value),className:`flex-1 border-b outline-none text-sm p-1 min-w-0 bg-transparent dark:text-gray-200 dark:border-gray-600`,placeholder:``}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>n.remove(`emotionRecords`,e.id),className:`text-red-500 dark:text-red-400 ml-auto shrink-0`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})})]})]},e.id))]})]})]})}),pS=_.memo(({formData:e,handleChange:t,listOps:n,showToast:r,scrollToElement:i,onScrollTop:a,handlers:o,isLocked:s})=>{let c=!!(e.healthCardStatus||e.oralCareRecords?.length>0||e.symptoms?.length>0||e.injuryRecords?.length>0||e.medications?.length>0||e.medicalLocations?.length>0||e.healthCheckRecords?.length>0||e.oralCareReferToSchool),[l,u]=Bx(`health`,e.date,c);return(0,Q.jsxs)(`section`,{id:`health`,className:`scroll-mt-28 pt-4 border-t-2 border-gray-500`,children:[(0,Q.jsx)(Jx,{id:`health`,title:``,icon:ve,colorClass:`text-teal-600`,bgClass:`bg-teal-50`,onScrollTop:a,isExpanded:l,onToggle:u}),l&&(0,Q.jsxs)(`div`,{className:`mt-4 space-y-4 animate-fade-in transition-all duration-300 ${s?`pointer-events-none opacity-70 select-none`:``}`,children:[(0,Q.jsxs)(`div`,{className:`p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-bold mb-2 dark:text-gray-200`,children:``}),(0,Q.jsx)(Qx,{name:`healthCardStatus`,options:mx.HEALTH_CARD,value:e.healthCardStatus,onChange:t})]}),(0,Q.jsxs)(`div`,{className:`bg-teal-50 dark:bg-teal-950 p-4 rounded-lg border border-teal-100 dark:border-teal-900`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-start sm:items-center mb-2 gap-2 w-full`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2`,children:[(0,Q.jsx)(`span`,{className:`font-bold text-teal-800 dark:text-teal-200`,children:``}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-1 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,name:`oralCareReferToSchool`,checked:e.oralCareReferToSchool,onChange:t,className:`w-3 h-3`}),(0,Q.jsx)(`span`,{className:`text-xs text-blue-600 dark:text-blue-300`,children:``})]})]}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>n.add(`oralCareRecords`,{time:``,type:``}),className:`bg-teal-200 dark:bg-teal-900/50 px-2 py-1 rounded text-xs flex items-center gap-1 text-teal-800 dark:text-teal-200 shrink-0`,children:[(0,Q.jsx)(T,{className:`w-3 h-3`}),` `]})]}),(0,Q.jsx)(`div`,{className:`grid sm:grid-cols-2 gap-2`,children:e.oralCareRecords.map(e=>(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 bg-white dark:bg-gray-800 p-2 rounded border border-teal-200 dark:border-teal-900/50`,children:[(0,Q.jsx)(`select`,{value:e.time,onChange:t=>n.update(`oralCareRecords`,e.id,`time`,t.target.value),className:`border rounded text-sm p-1 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 flex-1 min-w-[4rem]`,children:mx.ORAL_TIMES.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))}),(0,Q.jsx)(`select`,{value:e.type,onChange:t=>n.update(`oralCareRecords`,e.id,`type`,t.target.value),className:`border rounded text-sm p-1 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 flex-1 min-w-[4rem]`,children:mx.ORAL_TYPES.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>n.remove(`oralCareRecords`,e.id),className:`text-red-500 dark:text-red-400 ml-auto`,children:(0,Q.jsx)(Ne,{className:`w-4 h-4`})})]},e.id))})]}),(0,Q.jsx)(nS,{symptoms:e.symptoms,listOps:n,showToast:r,scrollToElement:i,handlers:o}),(0,Q.jsx)(rS,{injuryRecords:e.injuryRecords,listOps:n,showToast:r,scrollToElement:i,handlers:o}),(0,Q.jsx)(iS,{medications:e.medications,listOps:n,scrollToElement:i,handlers:o}),(0,Q.jsx)(aS,{medicalLocations:e.medicalLocations,listOps:n,scrollToElement:i,handlers:o}),(0,Q.jsx)(oS,{records:e.healthCheckRecords,listOps:n})]})]})}),mS=_.memo(({formData:e,handleChange:t,onScrollTop:n,generatedText:r,onCopy:i,copySuccess:a,isLocked:o})=>{let s=(0,_.useMemo)(()=>{let t=[`date`,`weatherSearchQuery`,`isLocked`,`lastUpdated`];for(let n in e){if(t.includes(n))continue;let r=e[n];if(Array.isArray(r)&&r.length>0||typeof r==`string`&&r.trim()!==``||typeof r==`boolean`&&r===!0)return!0}return!1},[e]),[c,l]=Bx(`notes`,e.date,s),[u,d]=(0,_.useState)(e.notes||``);(0,_.useEffect)(()=>{d(e.notes||``)},[e.notes]),(0,_.useEffect)(()=>{let n=setTimeout(()=>{u!==(e.notes||``)&&t({target:{name:`notes`,value:u}})},500);return()=>clearTimeout(n)},[u,e.notes,t]);let f=(0,_.useCallback)(e=>{d(e.target.value)},[]);return(0,Q.jsxs)(`section`,{id:`notes`,className:`scroll-mt-28 pt-4 border-t-2 border-gray-500`,children:[(0,Q.jsx)(Jx,{id:`notes`,title:`/`,icon:_e,colorClass:`text-gray-600`,bgClass:`bg-gray-50`,onScrollTop:n,isExpanded:c,onToggle:l}),c&&(0,Q.jsxs)(`div`,{className:`mt-4 space-y-4 animate-fade-in`,children:[(0,Q.jsxs)(`div`,{className:`space-y-4 transition-all duration-300 ${o?`pointer-events-none opacity-70 select-none`:``}`,children:[(0,Q.jsx)(`textarea`,{name:`notes`,rows:`3`,value:u,onChange:f,className:`w-full p-2 border rounded-lg bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-gray-300 outline-none transition-shadow`}),(0,Q.jsxs)(`div`,{className:`mt-2`,children:[(0,Q.jsxs)(`label`,{className:`text-base font-bold flex gap-2 items-center dark:text-gray-300`,children:[(0,Q.jsx)(Te,{className:`w-5 h-5`}),` `]}),(0,Q.jsx)(`div`,{className:`flex gap-4 mt-2`,children:mx.RECORDERS.map(n=>(0,Q.jsxs)(`label`,{className:`flex gap-1.5 cursor-pointer items-center dark:text-gray-300`,children:[(0,Q.jsx)(`input`,{type:`radio`,name:`recorder`,value:n,checked:e.recorder===n,onChange:t,className:`text-blue-600 w-4 h-4`}),(0,Q.jsx)(`span`,{className:`text-base`,children:n})]},n))})]})]}),(0,Q.jsxs)(`div`,{id:`capture-text`,className:`mt-6 border border-slate-700 rounded-xl overflow-hidden shadow-lg bg-slate-900 text-slate-200`,children:[(0,Q.jsxs)(`div`,{"data-html2canvas-ignore":`true`,className:`flex justify-between items-center bg-slate-950/50 px-3 sm:px-4 py-3 sm:py-4 border-b border-slate-700`,children:[(0,Q.jsxs)(`h3`,{id:`capture-header-text`,className:`text-base sm:text-xl font-bold text-slate-200 flex items-center gap-2 sm:gap-3 shrink-0`,children:[(0,Q.jsx)(`div`,{className:`bg-slate-800 p-1.5 sm:p-2 rounded-md border border-slate-700 shadow-sm`,children:(0,Q.jsx)(E,{className:`w-4 h-4 sm:w-6 sm:h-6 text-slate-300`})}),``]}),(0,Q.jsxs)(`button`,{type:`button`,onClick:i,className:`
                                flex items-center gap-1.5 sm:gap-2 px-3 sm:px-5 py-2 sm:py-2.5 rounded-lg text-sm sm:text-base font-bold transition-all transform active:scale-95 shadow-sm whitespace-nowrap shrink-0
                                ${a?`bg-emerald-600 text-white shadow-emerald-900/20`:`bg-blue-600 text-white hover:bg-blue-500 shadow-blue-900/20`}
                            `,children:[a?(0,Q.jsx)(oe,{className:`w-4 h-4 sm:w-5 sm:h-5`}):(0,Q.jsx)(pe,{className:`w-4 h-4 sm:w-5 sm:h-5`}),a?``:``]})]}),(0,Q.jsx)(`div`,{className:`p-0 bg-slate-900`,children:(0,Q.jsx)(`div`,{id:`preview-text-container`,className:`font-mono text-[18px] leading-[32px] text-slate-300 p-6 bg-slate-900 min-h-[200px]`,children:r.split(`
`).map((e,t)=>{let n=`break-words min-h-[1.5em]`;return e.match(/^\s{7}/)?(0,Q.jsx)(`div`,{className:`${n} pl-[4.8em] -indent-[1.5em]`,children:e},t):e.match(/^\s{5}/)?(0,Q.jsx)(`div`,{className:`${n} pl-[3.5em] -indent-[1.5em]`,children:e},t):e.match(/^\s{3}/)||e.match(/^\s+\(\d+\)/)?(0,Q.jsx)(`div`,{className:`${n} pl-[2.2em] -indent-[1.2em]`,children:e},t):(0,Q.jsx)(`div`,{className:n,children:e},t)})})})]})]})]})}),hS=({recordedDates:e,onClose:t,onExport:n,isExporting:r,progress:i})=>{let a=(0,_.useMemo)(()=>Array.from(new Set((e||[]).map(e=>e.slice(0,7)))).sort().reverse(),[e]),[o,s]=(0,_.useState)(`all`);return(0,Q.jsx)(Wx,{onClose:r?null:t,children:(0,Q.jsxs)(`div`,{className:`p-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-xl font-bold text-gray-900 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(ye,{className:`w-6 h-6 text-sky-600`}),``]}),r?(0,Q.jsxs)(`div`,{className:`flex flex-col items-center py-6 gap-4`,children:[(0,Q.jsx)(xe,{className:`w-10 h-10 text-sky-600 animate-spin`}),(0,Q.jsx)(`p`,{className:`text-gray-700 font-bold`,children:` ZIP...`}),(0,Q.jsxs)(`p`,{className:`text-gray-500 text-sm font-mono`,children:[`: `,i.current,` / `,i.total]}),(0,Q.jsx)(`div`,{className:`w-full bg-gray-200 rounded-full h-3 mt-2 overflow-hidden shadow-inner`,children:(0,Q.jsx)(`div`,{className:`bg-sky-600 h-full rounded-full transition-all duration-300`,style:{width:`${i.current/Math.max(i.total,1)*100}%`}})}),(0,Q.jsxs)(`p`,{className:`text-xs text-red-500 mt-2 flex items-center gap-1`,children:[(0,Q.jsx)(ue,{className:`w-3 h-3`}),` `]})]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(`div`,{className:`mb-6`,children:[(0,Q.jsx)(`label`,{className:`block text-sm font-bold text-gray-700 mb-2`,children:``}),(0,Q.jsxs)(`select`,{value:o,onChange:e=>s(e.target.value),className:`w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 focus:border-sky-500 outline-none text-gray-800`,children:[(0,Q.jsxs)(`option`,{value:`all`,children:[` (`,(e||[]).length,` )`]}),a.map(t=>{let[n,r]=t.split(`-`),i=(e||[]).filter(e=>e.startsWith(t)).length;return(0,Q.jsxs)(`option`,{value:t,children:[parseInt(n)-1911,``,r,` (`,i,` )`]},t)})]})]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:t,className:`px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium`,children:``}),(0,Q.jsx)(`button`,{onClick:()=>n(o),disabled:(e||[]).length===0,className:`px-4 py-2 text-white bg-sky-600 hover:bg-sky-700 rounded-lg font-medium disabled:opacity-50`,children:``})]})]})]})})},gS=_.memo(({formData:e,user:t,showToast:n,setConfirmModal:r,setErrorModal:i,dispatch:a,onScrollTop:o,recordedDates:s=[]})=>{let[c,l]=(0,_.useState)(!1),[u,d]=(0,_.useState)(!1),[f,p]=(0,_.useState)(!1),[m,h]=(0,_.useState)(!1),[g,v]=(0,_.useState)(!1),[y,b]=(0,_.useState)({current:0,total:0}),[x,ee]=Bx(`files`,e.date,!0,!0);(0,_.useEffect)(()=>{if(!document.getElementById(`html2canvas-script`)){let e=document.createElement(`script`);e.id=`html2canvas-script`,e.src=`https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js`,document.body.appendChild(e)}if(!document.getElementById(`jszip-script`)){let e=document.createElement(`script`);e.id=`jszip-script`,e.src=`https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js`,document.body.appendChild(e)}},[]);let te=e=>{if(!e)return``;let[t,n,r]=e.split(`-`);return`${parseInt(t)-1911}-${n}-${r}`},S=()=>{let t=new Blob([JSON.stringify(e,null,2)],{type:`application/json`}),r=document.createElement(`a`);r.href=URL.createObjectURL(t),r.download=`Contact_backup_${te(e.date)}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),n(``,`success`)},C=o=>{let s=new FileReader;s.onload=o=>{try{let s=o.target.result;if(!s||s.trim()===``){i({show:!0,content:``});return}let c=JSON.parse(s);if(Array.isArray(c)){i({show:!0,content:` ()`});return}if(!c.date){i({show:!0,content:``});return}let l=bx(),u={...l};Object.keys(l).forEach(e=>{c[e]!==void 0&&c[e]!==null&&(u[e]=c[e])});let d=async()=>{if(lx&&t)try{n(`...`,`info`),await Qb(Qy(lx,`artifacts`,ox,`users`,t.uid,`handover_records`,`handover_${u.date}`),{...u,lastUpdated:new Date().toISOString()}),a({type:$.SET_FULL_DATA,payload:u}),n(``,`success`)}catch(e){console.error(`Firebase sync error on import`,e),n(``,`error`)}else a({type:$.SET_FULL_DATA,payload:u}),n(` ()`,`info`);r(null)};if(u.date!==e.date){r({show:!0,title:``,content:` (${u.date})  (${e.date}) `,confirmText:``,onConfirm:d,onCancel:()=>r(null)});return}r({show:!0,title:``,content:` ${u.date} `,onConfirm:d,onCancel:()=>r(null)})}catch(e){console.error(`Parse Error:`,e),i({show:!0,content:` JSON `})}},s.readAsText(o)},ne=()=>{r({title:``,content:` ${e.date} `,confirmText:``,onConfirm:async()=>{let i={...bx(),date:e.date};if(lx&&t)try{await $b(Qy(lx,`artifacts`,ox,`users`,t.uid,`handover_records`,`handover_${e.date}`))}catch(e){console.error(`Firebase sync error on clear`,e)}a({type:$.SET_FULL_DATA,payload:i}),n(``,`success`),r(null)},onCancel:()=>r(null)})},w=()=>{r({title:` `,content:``,confirmText:``,onConfirm:async()=>{try{if(lx&&t){let e=await Zb(Zy(lx,`artifacts`,ox,`users`,t.uid,`handover_records`)),n=rx(lx);e.forEach(e=>{n.delete(e.ref)}),await n.commit()}let r={...bx(),date:e.date};a({type:$.SET_FULL_DATA,payload:r}),n(``,`success`)}catch(e){console.error(`Firebase sync error on clear all`,e),n(``,`error`)}r(null)},onCancel:()=>r(null)})},re=async()=>{if(!window.html2canvas)return n(`...`,`info`);l(!0);let t=document.getElementById(`capture-text`);if(t)try{let r=await window.html2canvas(t,{scale:2,useCORS:!0,backgroundColor:`#0f172a`,windowWidth:800,onclone:e=>{let t=e.getElementById(`capture-text`);t&&(t.style.width=`800px`,t.style.height=`auto`,t.style.overflow=`visible`);let n=e.getElementById(`preview-text-container`);n&&(n.style.fontSize=`30px`,n.style.lineHeight=`52px`,n.style.padding=`36px`,n.style.fontWeight=`bold`)}}),i=document.createElement(`a`);i.download=`Contact_Image_${te(e.date)}.jpg`,i.href=r.toDataURL(`image/jpeg`,.9),document.body.appendChild(i),i.click(),document.body.removeChild(i),n(``,`success`)}catch(e){console.error(e),n(``,`error`)}l(!1)},ie=async e=>{if(!window.html2canvas)return n(`...`,`info`);if(!window.JSZip)return n(`...`,`info`);v(!0),b({current:0,total:0});try{let r=[];if(lx&&t&&(r=(await Zb(Zy(lx,`artifacts`,ox,`users`,t.uid,`handover_records`))).docs.map(e=>e.data())),e!==`all`&&(r=r.filter(t=>t.date&&t.date.startsWith(e))),r.sort((e,t)=>e.date.localeCompare(t.date)),r.length===0){n(``,`info`),v(!1);return}b({current:0,total:r.length});let i=new window.JSZip,a=document.createElement(`div`);a.style.position=`fixed`,a.style.top=`-9999px`,a.style.left=`-9999px`,a.style.width=`800px`,a.style.backgroundColor=`#0f172a`,a.style.color=`#cbd5e1`,a.style.fontFamily=`monospace`,a.style.fontSize=`30px`,a.style.lineHeight=`52px`,a.style.padding=`36px`,a.style.fontWeight=`bold`,document.body.appendChild(a);for(let e=0;e<r.length;e++){let t=r[e],[n,o,s]=t.date.split(`-`),c=hx(parseInt(n),parseInt(o),parseInt(s));c.dayLabel=[``,``,``,``,``,``,``][c.weekDay];let l=Mx(t,c);a.innerHTML=``,l.split(`
`).forEach(e=>{let t=document.createElement(`div`);t.style.wordBreak=`break-word`,t.style.minHeight=`1.5em`,e.match(/^\s{7}/)?(t.style.paddingLeft=`4.8em`,t.style.textIndent=`-1.5em`):e.match(/^\s{5}/)?(t.style.paddingLeft=`3.5em`,t.style.textIndent=`-1.5em`):(e.match(/^\s{3}/)||e.match(/^\s+\(\d+\)/))&&(t.style.paddingLeft=`2.2em`,t.style.textIndent=`-1.2em`),t.textContent=e,a.appendChild(t)}),await new Promise(e=>setTimeout(e,50));let u=await window.html2canvas(a,{scale:2,useCORS:!0,backgroundColor:`#0f172a`,windowWidth:800}),d=await new Promise(e=>u.toBlob(e,`image/jpeg`,.9));i.file(`Contact_Image_${te(t.date)}.jpg`,d),b({current:e+1,total:r.length})}document.body.removeChild(a),n(` ZIP ...`,`info`);let o=await i.generateAsync({type:`blob`}),s=document.createElement(`a`);s.href=URL.createObjectURL(o);let c=`Contact_All_Images.zip`;e!==`all`&&(c=`Contact_Images_${te(e+`-01`).slice(0,6)}.zip`),s.download=c,document.body.appendChild(s),s.click(),document.body.removeChild(s),n(``,`success`)}catch(e){console.error(e),n(``,`error`)}finally{v(!1),h(!1)}},ae=async()=>{d(!0);try{let e=[];lx&&t&&(e=(await Zb(Zy(lx,`artifacts`,ox,`users`,t.uid,`handover_records`))).docs.map(e=>e.data()));let r=new Blob([JSON.stringify(e,null,2)],{type:`application/json`}),i=document.createElement(`a`);i.href=URL.createObjectURL(r),i.download=`Contact_FullBackup_${te(new Date().toISOString().slice(0,10))}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),n(` ${e.length} `,`success`)}catch(e){console.error(e),n(``,`error`)}d(!1)},oe=e=>{let t=new FileReader;t.onload=e=>{try{let t=e.target.result;if(!t||t.trim()===``){i({show:!0,content:``});return}let n=JSON.parse(t);if(!Array.isArray(n)){n.date?i({show:!0,content:` ->  (JSON)`}):i({show:!0,content:``});return}let r=n.map(e=>{let t=bx(),n={...t};return Object.keys(t).forEach(t=>{e[t]!==void 0&&e[t]!==null&&(n[t]=e[t])}),n});p({show:!0,count:r.length,data:r})}catch(e){console.error(`Bulk Parse Error:`,e),i({show:!0,content:` JSON `})}},t.readAsText(e)},se=async e=>{try{if(lx&&t){let r=rx(lx),i=0;e.forEach(e=>{if(e.date){let n=Qy(lx,`artifacts`,ox,`users`,t.uid,`handover_records`,`handover_${e.date}`);r.set(n,e),i++}}),await r.commit(),n(` ${i} `,`success`),p(!1)}}catch(e){console.error(e),n(``,`error`)}};return(0,Q.jsxs)(`section`,{id:`files`,className:`mt-8 pt-6 border-t border-gray-200 scroll-mt-28`,children:[(0,Q.jsx)(Jx,{id:`files`,title:``,icon:Oe,colorClass:`text-gray-500`,bgClass:`bg-gray-50`,onScrollTop:o,isExpanded:x,onToggle:ee}),x&&(0,Q.jsxs)(`div`,{className:`flex flex-col gap-4 mt-4 animate-fade-in`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-3 items-start sm:items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-gray-700 dark:text-gray-200 min-w-[80px] sm:text-right shrink-0`,children:``}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-[140px_1fr] gap-x-4 gap-y-3 w-full items-center`,children:[(0,Q.jsxs)(`button`,{type:`button`,onClick:S,className:`flex items-center justify-center sm:justify-start gap-1.5 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg shadow text-sm font-medium w-full`,children:[(0,Q.jsx)(Pe,{className:`w-4 h-4`}),`  (JSON)`]}),(0,Q.jsxs)(`div`,{className:`relative w-full sm:w-max`,children:[(0,Q.jsx)(`input`,{type:`file`,accept:`.json`,onChange:e=>{e.target.files[0]&&C(e.target.files[0]),e.target.value=``},className:`hidden`,id:`json-upload`}),(0,Q.jsxs)(`label`,{htmlFor:`json-upload`,className:`flex items-center justify-center sm:justify-start gap-1.5 bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg shadow text-sm font-medium cursor-pointer w-full`,children:[(0,Q.jsx)(ge,{className:`w-4 h-4`}),`  (JSON)`]})]})]})]}),(0,Q.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-3 items-start sm:items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-gray-700 dark:text-gray-200 min-w-[80px] sm:text-right shrink-0`,children:``}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-[140px_1fr] gap-x-4 gap-y-3 w-full items-center`,children:[(0,Q.jsxs)(`button`,{type:`button`,onClick:ae,disabled:u||g,className:`flex items-center justify-center sm:justify-start gap-1.5 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg shadow text-sm font-medium disabled:opacity-50 w-full`,children:[u?(0,Q.jsx)(xe,{className:`w-4 h-4 animate-spin`}):(0,Q.jsx)(Pe,{className:`w-4 h-4`}),u?`...`:``]}),(0,Q.jsxs)(`div`,{className:`relative w-full sm:w-max`,children:[(0,Q.jsx)(`input`,{type:`file`,accept:`.json`,onChange:e=>{e.target.files[0]&&oe(e.target.files[0]),e.target.value=``},className:`hidden`,id:`bulk-upload`}),(0,Q.jsxs)(`label`,{htmlFor:`bulk-upload`,className:`flex items-center justify-center sm:justify-start gap-1.5 bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg shadow text-sm font-medium cursor-pointer w-full`,children:[(0,Q.jsx)(ge,{className:`w-4 h-4`}),` `]})]})]})]}),(0,Q.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-3 items-start sm:items-center p-4 bg-sky-50 dark:bg-sky-900/50 rounded-lg border border-sky-200 dark:border-sky-800`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-sky-800 dark:text-sky-200 min-w-[80px] sm:text-right shrink-0`,children:``}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-[140px_1fr] gap-x-4 gap-y-3 w-full items-center`,children:[(0,Q.jsxs)(`button`,{type:`button`,onClick:re,disabled:c,className:`flex items-center justify-center sm:justify-start gap-1.5 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg shadow text-sm font-medium disabled:opacity-50 w-full`,children:[(0,Q.jsx)(ye,{className:`w-4 h-4`}),` `,c?`...`:``]}),(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>h(!0),disabled:u||g,className:`flex items-center justify-center sm:justify-start gap-1.5 bg-sky-600 hover:bg-sky-700 text-white px-4 py-2 rounded-lg shadow text-sm font-medium disabled:opacity-50 w-full sm:w-max`,children:[(0,Q.jsx)(ye,{className:`w-4 h-4`}),`  (ZIP)`]})]})]}),(0,Q.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-3 items-start sm:items-center p-4 bg-red-50 dark:bg-red-950/30 rounded-lg border border-red-200 dark:border-red-900/50`,children:[(0,Q.jsx)(`span`,{className:`text-sm font-bold text-red-800 dark:text-red-300 min-w-[80px] sm:text-right shrink-0`,children:``}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-[140px_1fr] gap-x-4 gap-y-3 w-full items-center`,children:[(0,Q.jsxs)(`button`,{type:`button`,onClick:ne,className:`flex items-center justify-center sm:justify-start gap-1.5 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg shadow text-sm font-medium w-full`,children:[(0,Q.jsx)(Ne,{className:`w-4 h-4`}),` `]}),(0,Q.jsxs)(`button`,{type:`button`,onClick:w,className:`flex items-center justify-center sm:justify-start gap-1.5 bg-red-700 hover:bg-red-800 text-white px-4 py-2 rounded-lg shadow text-sm font-medium w-full sm:w-max`,children:[(0,Q.jsx)(ue,{className:`w-4 h-4`}),` `]})]})]})]}),m&&(0,Q.jsx)(hS,{recordedDates:s,onClose:()=>h(!1),onExport:ie,isExporting:g,progress:y}),f&&(0,Q.jsx)(Wx,{onClose:()=>p(!1),children:(0,Q.jsxs)(`div`,{className:`p-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-xl font-bold text-gray-900 mb-2 flex items-center gap-2`,children:[(0,Q.jsx)(me,{className:`w-6 h-6 text-indigo-600`}),``]}),(0,Q.jsxs)(`p`,{className:`text-gray-600 mb-6 text-base leading-relaxed`,children:[` `,f.count,` `]}),(0,Q.jsxs)(`div`,{className:`flex justify-end gap-3`,children:[(0,Q.jsx)(`button`,{onClick:()=>p(!1),className:`px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium`,children:``}),(0,Q.jsx)(`button`,{onClick:()=>se(f.data),className:`px-4 py-2 text-white bg-orange-600 hover:bg-orange-700 rounded-lg font-medium`,children:``})]})]})})]})});(0,g.createRoot)(document.getElementById(`root`)).render((0,Q.jsx)(_.StrictMode,{children:(0,Q.jsx)(()=>{let{toast:e,showToast:t,setToast:n}=Nx(),{formData:r,dispatch:i,handleChange:a,handleTimeReset:o,handleJumpToToday:s,listOps:c,handlers:l,dateInfo:u}=Lx(),{user:d,syncStatus:f}=Rx(r,i),p=zx(d),[m,h]=(0,_.useState)(!1),[g,v]=(0,_.useState)(null),[y,b]=(0,_.useState)(null),[x,ee]=(0,_.useState)(()=>{if(typeof window<`u`){let e=localStorage.getItem(`contact-book-theme`);return e?e===`dark`:window.matchMedia(`(prefers-color-scheme: dark)`).matches}return!1}),[te,S]=(0,_.useState)(!1),C=r.isLocked||!1;(0,_.useEffect)(()=>{let e=document.documentElement;x?(e.classList.add(`dark`),localStorage.setItem(`contact-book-theme`,`dark`)):(e.classList.remove(`dark`),localStorage.setItem(`contact-book-theme`,`light`))},[x]);let ne=(0,_.useCallback)((e,t=5)=>{let n=t=>{let r=document.getElementById(e);r?(r.scrollIntoView({behavior:`smooth`,block:`center`}),r.classList.add(`ring-2`,`ring-indigo-500`,`ring-offset-2`,`dark:ring-offset-gray-800`,`transition-all`,`duration-500`),setTimeout(()=>r.classList.remove(`ring-2`,`ring-indigo-500`,`ring-offset-2`,`dark:ring-offset-gray-800`),1500)):t>0&&setTimeout(()=>n(t-1),100)};n(t)},[]),w=(0,_.useCallback)(()=>{window.scrollTo({top:0,behavior:`smooth`})},[]),oe=Ix(r.date,i,t),se=(0,_.useMemo)(()=>Mx(r,u),[r,u]),ce=(0,_.useCallback)(()=>{navigator.clipboard.writeText(se).then(()=>{h(!0),t(``,`success`),setTimeout(()=>h(!1),2e3)})},[se,t]),le=[{id:`basic`,l:``,i:ae,colorClass:`text-gray-700 bg-[#eaedf0] border-gray-300 hover:bg-gray-200 dark:bg-gray-700 dark:border-gray-500 dark:text-gray-200 dark:hover:bg-gray-600`},{id:`school`,l:``,i:ke,colorClass:`text-indigo-600 bg-indigo-50 border-indigo-200 hover:bg-indigo-100 dark:bg-indigo-900/40 dark:border-indigo-700 dark:text-indigo-300 dark:hover:bg-indigo-900/60`},{id:`sleep`,l:``,i:we,colorClass:`text-purple-600 bg-purple-50 border-purple-200 hover:bg-purple-100 dark:bg-purple-900/40 dark:border-purple-700 dark:text-purple-300 dark:hover:bg-purple-900/60`},{id:`food`,l:``,i:Fe,colorClass:`text-green-600 bg-green-50 border-green-200 hover:bg-green-100 dark:bg-green-900/40 dark:border-green-700 dark:text-green-300 dark:hover:bg-green-900/60`},{id:`physiology`,l:``,i:Ae,colorClass:`text-amber-600 bg-amber-50 border-amber-200 hover:bg-amber-100 dark:bg-amber-900/40 dark:border-amber-700 dark:text-amber-300 dark:hover:bg-amber-900/60`},{id:`health`,l:``,i:ve,colorClass:`text-teal-600 bg-teal-50 border-teal-200 hover:bg-teal-100 dark:bg-teal-900/40 dark:border-teal-700 dark:text-teal-300 dark:hover:bg-teal-900/60`},{id:`activity`,l:``,i:Ee,colorClass:`text-fuchsia-600 bg-fuchsia-50 border-fuchsia-200 hover:bg-fuchsia-100 dark:bg-fuchsia-900/40 dark:border-fuchsia-700 dark:text-fuchsia-300 dark:hover:bg-fuchsia-900/60`},{id:`notes`,l:``,i:_e,colorClass:`text-gray-600 bg-gray-50 border-gray-200 hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700`},{id:`files`,l:``,i:Oe,colorClass:`text-gray-600 bg-gray-50 border-gray-200 hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700`}];return(0,Q.jsxs)(`div`,{className:`min-h-screen bg-gray-50 dark:bg-gray-900 p-4 md:p-8 font-sans text-gray-700 dark:text-gray-200 transition-colors duration-200`,children:[(0,Q.jsxs)(`div`,{className:`max-w-3xl mx-auto bg-white dark:bg-gray-800 shadow-xl rounded-2xl overflow-hidden border border-gray-100 dark:border-gray-700 transition-colors duration-200`,children:[(0,Q.jsxs)(`div`,{className:`bg-gradient-to-r from-blue-500 to-indigo-600 p-6 text-white flex flex-col gap-2`,children:[(0,Q.jsx)(`div`,{className:`flex justify-between items-start w-full`,children:(0,Q.jsxs)(`div`,{className:`flex-1`,children:[(0,Q.jsxs)(`h1`,{className:`text-2xl font-bold flex items-center gap-3 whitespace-nowrap`,children:[(0,Q.jsx)(re,{className:`w-8 h-8 shrink-0`}),` `]}),(0,Q.jsxs)(`div`,{className:`mt-2 space-y-1 w-full`,children:[(0,Q.jsxs)(`p`,{className:`text-blue-100 text-xs opacity-80`,children:[`: `,ox.slice(0,5),`***`,ox.slice(-3)]}),r.lastUpdated&&(0,Q.jsxs)(`p`,{className:`text-blue-100 text-xs opacity-80`,children:[`: `,new Date(r.lastUpdated).toLocaleString(`zh-TW`,{hour12:!1})]})]})]})}),(0,Q.jsxs)(`div`,{className:`flex justify-between items-end mt-1`,children:[(0,Q.jsxs)(`div`,{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs border w-fit ${f===`saved`?`bg-green-500/20 border-green-400`:`bg-white/20`}`,children:[f===`saving`?(0,Q.jsx)(xe,{className:`w-3 h-3 animate-spin`}):f===`saved`?(0,Q.jsx)(fe,{className:`w-3 h-3`}):(0,Q.jsx)(Ie,{className:`w-3 h-3`}),(0,Q.jsx)(`span`,{children:f===`saving`?``:f===`saved`?``:``})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`button`,{type:`button`,onClick:()=>S(!0),className:`p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors text-white`,title:``,children:(0,Q.jsx)(ie,{className:`w-5 h-5`})}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>i({type:$.UPDATE_FIELD,payload:{name:`isLocked`,value:!C}}),className:`p-2 rounded-lg transition-colors text-white ${C?`bg-red-500/80 hover:bg-red-500`:`bg-white/10 hover:bg-white/20`}`,children:C?(0,Q.jsx)(Ce,{className:`w-5 h-5`}):(0,Q.jsx)(Se,{className:`w-5 h-5`})}),(0,Q.jsx)(`button`,{type:`button`,onClick:()=>ee(!x),className:`p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors text-white`,children:x?(0,Q.jsx)(je,{className:`w-5 h-5`}):(0,Q.jsx)(we,{className:`w-5 h-5`})})]})]})]}),(0,Q.jsx)(`div`,{className:`sticky top-0 z-40 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm flex overflow-x-auto p-2 gap-2 hide-scrollbar transition-colors duration-200`,children:le.map(e=>(0,Q.jsxs)(`button`,{type:`button`,onClick:()=>{window.dispatchEvent(new CustomEvent(`expandSection`,{detail:e.id})),setTimeout(()=>{document.getElementById(e.id)?.scrollIntoView({behavior:`smooth`})},50)},className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-sm font-medium border whitespace-nowrap transition-colors ${e.colorClass}`,children:[(0,Q.jsx)(e.i,{className:`w-3 h-3`}),` `,e.l]},e.id))}),(0,Q.jsxs)(`div`,{className:`p-6 space-y-8 transition-all duration-300`,children:[!d&&(0,Q.jsxs)(`div`,{className:`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50 p-4 rounded-xl flex items-start gap-3 shadow-sm animate-fade-in`,children:[(0,Q.jsx)(ue,{className:`w-5 h-5 text-red-600 dark:text-red-400 shrink-0 mt-0.5`}),(0,Q.jsxs)(`div`,{className:`text-sm text-red-800 dark:text-red-300 leading-relaxed`,children:[(0,Q.jsx)(`strong`,{className:`text-base mb-1 block`,children:`  ()`}),`/ GitHub Pages Firebase  `,(0,Q.jsx)(`b`,{children:`Authentication > Settings > Authorized domains`}),` JSON `]})]}),r.date?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(sS,{formData:r,handleChange:a,dateInfo:u,handleJumpToToday:s,handleAutoWeather:oe,handleTimeReset:o,listOps:c,onScrollTop:w,handlers:l,isLocked:C,recordedDates:p}),(0,Q.jsxs)(`div`,{className:`space-y-8 transition-all duration-300`,children:[(0,Q.jsx)(cS,{formData:r,handleChange:a,handleTimeReset:o,listOps:c,onScrollTop:w,isLocked:C}),(0,Q.jsx)(dS,{formData:r,handleChange:a,handleTimeReset:o,listOps:c,showToast:t,scrollToElement:ne,onScrollTop:w,handlers:l,isLocked:C}),(0,Q.jsx)(uS,{formData:r,handleChange:a,listOps:c,onScrollTop:w,handlers:l,isLocked:C}),(0,Q.jsx)(fS,{formData:r,handleChange:a,listOps:c,showToast:t,scrollToElement:ne,onScrollTop:w,handlers:l,isLocked:C}),(0,Q.jsx)(pS,{formData:r,handleChange:a,listOps:c,showToast:t,scrollToElement:ne,onScrollTop:w,handlers:l,isLocked:C}),(0,Q.jsx)(lS,{formData:r,handleChange:a,handleTimeReset:o,listOps:c,onScrollTop:w,isLocked:C}),(0,Q.jsx)(mS,{formData:r,handleChange:a,onScrollTop:w,generatedText:se,onCopy:ce,copySuccess:m,isLocked:C})]}),(0,Q.jsx)(gS,{formData:r,user:d,showToast:t,setConfirmModal:v,setErrorModal:b,dispatch:i,onScrollTop:w,recordedDates:p})]}):(0,Q.jsx)(Hx,{})]})]}),e&&(0,Q.jsx)(Ux,{message:e.message,type:e.type,onClose:()=>n(null)}),g&&(0,Q.jsx)(Gx,{title:g.title,content:g.content,onConfirm:g.onConfirm,onCancel:g.onCancel,confirmText:g.confirmText}),y&&(0,Q.jsx)(Kx,{content:y.content,onClose:()=>b(null)}),te&&(0,Q.jsx)(qx,{recordedDates:p,currentDate:r.date,onSelectDate:e=>{i({type:$.UPDATE_FIELD,payload:{name:`date`,value:e}}),S(!1),w()},onClose:()=>S(!1)}),(0,Q.jsx)(`style`,{children:`.hide-scrollbar::-webkit-scrollbar{display:none}.animate-slide-up{animation:slide-up 0.3s ease-out forwards}.animate-fade-in{animation:fade-in 0.2s ease-out forwards}.animate-scale-up{animation:scale-up 0.2s ease-out forwards}@keyframes slide-up{from{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes scale-up{from{transform:scale(0.95);opacity:0}to{transform:scale(1);opacity:1}}`})]})},{})}));